<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript"/>

  <title>
    File: unzip.adb
  </title>
  <link rel='stylesheet' href='support/docgen.css' type='text/css'/>
  <link rel='stylesheet' href='support/tags.css' type='text/css'/>
  <script src='support/docgen.js' type='text/javascript' charset='utf-8'></script>
</head>
<body onload="onloadDoc();">

<div id='leftSide'>
  <div id='leftSideInside'>
  <div id='header'>
    <h2 class="button">Documentation</h2>
    <a href='toc.html'><div class="button2">Table of Contents</div></a>

    <a href='tree.html'><div class="button2">Class Inheritance Tree</div></a>

  </div>
  </div>
</div> <!-- leftSide -->

<div class='subprograms'>
  <div class='details'><ol><li id="l1"><pre><span class="keyword">with</span> Ada.Streams.Stream_IO; </pre></li>
<li id="l2"><pre><span class="keyword">with</span> Interfaces;                        <span class="keyword">use</span> Interfaces; </pre></li>
<li id="l3"><pre><span class="keyword">with</span> <span class="droplink">Zip.Headers<ul><li><a href="zip-headers.ads.html#zip-headers.ads:22:13" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l22" title="To spec">To spec</a></li><li><a href="src_zip-headers.adb.html#l2" title="To body">To body</a></li></ul></span>, <span class="droplink">UnZip.Decompress<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:18:23" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l18" title="To spec">To spec</a></li><li><a href="src_unzip-decompress.adb.html#l5" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l4"><pre><span class="keyword">with</span> <span class="droplink">Zip_Streams<ul><li><a href="zip_streams.ads.html#zip_streams.ads:31:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l10" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l5"><pre> </pre></li>
<li id="l6"><pre><span class="keyword">package</span> <span class="keyword">body</span> <span class="droplink">UnZip<ul><li><a href="unzip.ads.html#unzip.ads:53:9" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l53" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l7"><pre> </pre></li>
<li id="l8"><pre>   <span class="keyword">use</span> Ada.Streams, Ada.Strings.Unbounded; </pre></li>
<li id="l9"><pre> </pre></li>
<li id="l10"><pre>   <span class="comment">--------------------------------------------------</span> </pre></li>
<li id="l11"><pre>   <span class="comment">-- *The* internal 1 - file unzipping procedure.   --</span> </pre></li>
<li id="l12"><pre>   <span class="comment">-- Input must be _open_ and won&apos;t be _closed_ ! --</span> </pre></li>
<li id="l13"><pre>   <span class="comment">--------------------------------------------------</span> </pre></li>
<li id="l14"><pre> </pre></li>
<li id="l15"><pre>   <span class="keyword">procedure</span> UnZipFile ( </pre></li>
<li id="l16"><pre>                        zip_file                  : <span class="droplink">Zip_Streams.Zipstream_Class<ul><li><a href="zip_streams.ads.html#zip_streams.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l43" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l17"><pre>                        out_name                  : String; </pre></li>
<li id="l18"><pre>                        name_from_header          : Boolean; </pre></li>
<li id="l19"><pre>                        header_index              : <span class="keyword">in</span> <span class="keyword">out</span> Positive; </pre></li>
<li id="l20"><pre>                        hint_comp_size            : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; <span class="comment">-- Added 2007 for .ODS files</span> </pre></li>
<li id="l21"><pre>                        feedback                  : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l22"><pre>                        help_the_file_exists      : <span class="droplink">Resolve_conflict_proc<ul><li><a href="unzip.ads.html#unzip.ads:180:9" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l180" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l23"><pre>                        tell_data                 : <span class="droplink">Tell_data_proc<ul><li><a href="unzip.ads.html#unzip.ads:194:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l194" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l24"><pre>                        get_pwd                   : <span class="droplink">Get_password_proc<ul><li><a href="unzip.ads.html#unzip.ads:186:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l186" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l25"><pre>                        options                   : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l26"><pre>                        password                  : <span class="keyword">in</span> <span class="keyword">out</span> Unbounded_String; </pre></li>
<li id="l27"><pre>                        file_system_routines      : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l28"><pre>                       ) </pre></li>
<li id="l29"><pre>   <span class="keyword">is</span> </pre></li>
<li id="l30"><pre>      work_index : Positive := <a href="src_unzip.adb.html#l19" title="defined at unzip.adb:19:25">header_index</a>; </pre></li>
<li id="l31"><pre>      local_header : <span class="droplink">Zip.Headers.Local_File_Header<ul><li><a href="zip-headers.ads.html#zip-headers.ads:58:8" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l58" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l32"><pre>      data_descriptor_after_data : Boolean; </pre></li>
<li id="l33"><pre>      method : <span class="droplink">PKZip_method<ul><li><a href="unzip.ads.html#unzip.ads:163:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l163" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l34"><pre> </pre></li>
<li id="l35"><pre>      skip_this_file : Boolean := False; </pre></li>
<li id="l36"><pre>      bin_text_mode : <span class="keyword">constant</span> <span class="keyword">array</span> (Boolean) <span class="keyword">of</span> <span class="droplink">Write_mode<ul><li><a href="unzip.ads.html#unzip.ads:298:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l298" title="To spec">To spec</a></li></ul></span> := </pre></li>
<li id="l37"><pre>        (write_to_binary_file, write_to_text_file); </pre></li>
<li id="l38"><pre>      mode : <span class="keyword">constant</span> <span class="keyword">array</span> (Boolean) <span class="keyword">of</span> <span class="droplink">Write_mode<ul><li><a href="unzip.ads.html#unzip.ads:298:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l298" title="To spec">To spec</a></li></ul></span> := </pre></li>
<li id="l39"><pre>        (<a href="src_unzip.adb.html#l36" title="defined at unzip.adb:36:7">bin_text_mode</a> (<a href="src_unzip.adb.html#l25" title="defined at unzip.adb:25:25">options</a> (extract_as_text)), just_test); </pre></li>
<li id="l40"><pre>      actual_mode : <span class="droplink">Write_mode<ul><li><a href="unzip.ads.html#unzip.ads:298:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l298" title="To spec">To spec</a></li></ul></span> := <a href="src_unzip.adb.html#l38" title="defined at unzip.adb:38:7">mode</a> (<a href="src_unzip.adb.html#l25" title="defined at unzip.adb:25:25">options</a> (test_only)); </pre></li>
<li id="l41"><pre> </pre></li>
<li id="l42"><pre>      true_packed_size : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; <span class="comment">-- encryption adds 12 to packed size</span> </pre></li>
<li id="l43"><pre> </pre></li>
<li id="l44"><pre>      the_output_name : Unbounded_String; </pre></li>
<li id="l45"><pre> </pre></li>
<li id="l46"><pre>      <span class="comment">-- 27 - Jun - 2001  : possibility of trashing directory part of a name</span> </pre></li>
<li id="l47"><pre>      <span class="comment">--               e.g.  :  unzipada\uza_src\unzip.ads - &gt; unzip.ads</span> </pre></li>
<li id="l48"><pre>      <span class="keyword">function</span> Maybe_trash_dir (n : String) <span class="keyword">return</span> String <span class="keyword">is</span> </pre></li>
<li id="l49"><pre>         idx : Integer := <a href="src_unzip.adb.html#l48" title="defined at unzip.adb:48:33">n</a>&apos;First - 1; </pre></li>
<li id="l50"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l51"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l25" title="defined at unzip.adb:25:25">options</a> (junk_directories) <span class="keyword">then</span> </pre></li>
<li id="l52"><pre>            <span class="keyword">for</span> i <span class="keyword">in</span> <a href="src_unzip.adb.html#l48" title="defined at unzip.adb:48:33">n</a>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l53"><pre>               <span class="keyword">if</span> <a href="src_unzip.adb.html#l48" title="defined at unzip.adb:48:33">n</a> (i) = <span class="string">&apos;/&apos;</span> <span class="keyword">or</span> <span class="keyword">else</span> <a href="src_unzip.adb.html#l48" title="defined at unzip.adb:48:33">n</a> (i) = <span class="string">&apos;\&apos;</span> <span class="keyword">then</span> </pre></li>
<li id="l54"><pre>                  <a href="src_unzip.adb.html#l49" title="defined at unzip.adb:49:10">idx</a> := i; </pre></li>
<li id="l55"><pre>               <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l56"><pre>            <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l57"><pre>            <span class="comment">-- idx points on the index just before the interesting part</span> </pre></li>
<li id="l58"><pre>            <span class="keyword">return</span> <a href="src_unzip.adb.html#l48" title="defined at unzip.adb:48:33">n</a> (<a href="src_unzip.adb.html#l49" title="defined at unzip.adb:49:10">idx</a> + 1 .. <a href="src_unzip.adb.html#l48" title="defined at unzip.adb:48:33">n</a>&apos;Last); </pre></li>
<li id="l59"><pre>         <span class="keyword">else</span> </pre></li>
<li id="l60"><pre>            <span class="keyword">return</span> <a href="src_unzip.adb.html#l48" title="defined at unzip.adb:48:33">n</a>; </pre></li>
<li id="l61"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l62"><pre>      <span class="keyword">end</span> <span class="droplink">Maybe_trash_dir<ul><li><a href="src_unzip.adb.html#l48" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l48" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l63"><pre> </pre></li>
<li id="l64"><pre>      <span class="keyword">procedure</span> Set_definitively_named_outfile (composed_name : String) <span class="keyword">is</span> </pre></li>
<li id="l65"><pre>         idx : Integer := <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a>&apos;First - 1; </pre></li>
<li id="l66"><pre>         first_in_name : Integer; </pre></li>
<li id="l67"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l68"><pre>         <span class="keyword">for</span> i <span class="keyword">in</span> <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l69"><pre>            <span class="keyword">if</span> <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a> (i) = <span class="string">&apos;/&apos;</span> <span class="keyword">or</span> <span class="keyword">else</span> <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a> (i) = <span class="string">&apos;\&apos;</span> <span class="keyword">then</span> </pre></li>
<li id="l70"><pre>               <a href="src_unzip.adb.html#l65" title="defined at unzip.adb:65:10">idx</a> := i; </pre></li>
<li id="l71"><pre>            <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l72"><pre>         <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l73"><pre>         <span class="comment">-- idx points on the index just before the name part</span> </pre></li>
<li id="l74"><pre> </pre></li>
<li id="l75"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l65" title="defined at unzip.adb:65:10">idx</a> &gt;= <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a>&apos;First <span class="keyword">and</span> <span class="keyword">then</span> </pre></li>
<li id="l76"><pre>           <a href="src_unzip.adb.html#l40" title="defined at unzip.adb:40:7">actual_mode</a> <span class="keyword">in</span> <span class="droplink">Write_to_file<ul><li><a href="unzip.ads.html#unzip.ads:305:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l305" title="To spec">To spec</a></li></ul></span> <span class="keyword">and</span> <span class="keyword">then</span> </pre></li>
<li id="l77"><pre>           file_system_routines.Create_Path /= <span class="keyword">null</span> </pre></li>
<li id="l78"><pre>         <span class="keyword">then</span> </pre></li>
<li id="l79"><pre>            <span class="comment">-- Not only the name, also a path.</span> </pre></li>
<li id="l80"><pre>            <span class="comment">-- In that case, we may need to create parts of the path.</span> </pre></li>
<li id="l81"><pre>            <span class="keyword">declare</span> </pre></li>
<li id="l82"><pre>               Directory_Separator : <span class="keyword">constant</span> Character := <span class="string">&apos;/&apos;</span>; </pre></li>
<li id="l83"><pre>               <span class="comment">-- The &apos;/&apos; separator is also recognized by Windows&apos; routines,</span> </pre></li>
<li id="l84"><pre>               <span class="comment">-- so we can just use it as a standard. See the discussion started</span> </pre></li>
<li id="l85"><pre>               <span class="comment">-- in July 2010 in the Ada Comment mailing list about it</span> </pre></li>
<li id="l86"><pre>               <span class="comment">-- for the 2012 standard.</span> </pre></li>
<li id="l87"><pre>               path : String := <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a> (<a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a>&apos;First .. <a href="src_unzip.adb.html#l65" title="defined at unzip.adb:65:10">idx</a> - 1); </pre></li>
<li id="l88"><pre>            <span class="keyword">begin</span> </pre></li>
<li id="l89"><pre>               <span class="comment">-- Set the file separator recognized by the O.S.</span> </pre></li>
<li id="l90"><pre>               <span class="keyword">for</span> i <span class="keyword">in</span> path&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l91"><pre>                  <span class="keyword">if</span> path (i) = <span class="string">&apos;\&apos;</span> <span class="keyword">or</span> <span class="keyword">else</span> path (i) = <span class="string">&apos;/&apos;</span> <span class="keyword">then</span> </pre></li>
<li id="l92"><pre>                     path (i) := Directory_Separator; </pre></li>
<li id="l93"><pre>                  <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l94"><pre>               <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l95"><pre>               file_system_routines.Create_Path (path); </pre></li>
<li id="l96"><pre>            <span class="keyword">end</span>; </pre></li>
<li id="l97"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l98"><pre>         <span class="comment">-- Now we can create the file itself.</span> </pre></li>
<li id="l99"><pre>         <a href="src_unzip.adb.html#l66" title="defined at unzip.adb:66:10">first_in_name</a> := <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a>&apos;First; </pre></li>
<li id="l100"><pre>         <span class="comment">--</span> </pre></li>
<li id="l101"><pre>         <a href="src_unzip.adb.html#l44" title="defined at unzip.adb:44:7">the_output_name</a> := </pre></li>
<li id="l102"><pre>           To_Unbounded_String (<a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a> (<a href="src_unzip.adb.html#l66" title="defined at unzip.adb:66:10">first_in_name</a> .. <a href="src_unzip.adb.html#l64" title="defined at unzip.adb:64:49">composed_name</a>&apos;Last)); </pre></li>
<li id="l103"><pre>      <span class="keyword">end</span> <span class="droplink">Set_definitively_named_outfile<ul><li><a href="src_unzip.adb.html#l64" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l64" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l104"><pre> </pre></li>
<li id="l105"><pre>      <span class="keyword">function</span> Full_Path_Name (Archive_File_Name  : String) <span class="keyword">return</span> String <span class="keyword">is</span> </pre></li>
<li id="l106"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l107"><pre>         <span class="keyword">if</span> file_system_routines.Compose_File_Name = <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l108"><pre>            <span class="keyword">return</span> <a href="src_unzip.adb.html#l105" title="defined at unzip.adb:105:32">Archive_File_Name</a>; </pre></li>
<li id="l109"><pre>         <span class="keyword">else</span> </pre></li>
<li id="l110"><pre>            <span class="keyword">return</span> file_system_routines.Compose_File_Name.<span class="keyword">all</span> (<a href="src_unzip.adb.html#l105" title="defined at unzip.adb:105:32">Archive_File_Name</a>); </pre></li>
<li id="l111"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l112"><pre>      <span class="keyword">end</span> <span class="droplink">Full_Path_Name<ul><li><a href="src_unzip.adb.html#l105" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l105" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l113"><pre> </pre></li>
<li id="l114"><pre>      <span class="keyword">procedure</span> Set_outfile (long_not_composed_name : String) <span class="keyword">is</span> </pre></li>
<li id="l115"><pre>         <span class="comment">-- Eventually trash the archived directory structure, then</span> </pre></li>
<li id="l116"><pre>         <span class="comment">-- eventually add/modify/ .. . another one:</span> </pre></li>
<li id="l117"><pre>         name : <span class="keyword">constant</span> String := </pre></li>
<li id="l118"><pre>           <span class="droplink">Full_Path_Name<ul><li><a href="src_unzip.adb.html#l105" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l105" title="To body">To body</a></li></ul></span> (<span class="droplink">Maybe_trash_dir<ul><li><a href="src_unzip.adb.html#l48" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l48" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l114" title="defined at unzip.adb:114:30">long_not_composed_name</a>)); </pre></li>
<li id="l119"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l120"><pre>         <span class="droplink">Set_definitively_named_outfile<ul><li><a href="src_unzip.adb.html#l64" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l64" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l117" title="defined at unzip.adb:117:10">name</a>); </pre></li>
<li id="l121"><pre>      <span class="keyword">end</span> <span class="droplink">Set_outfile<ul><li><a href="src_unzip.adb.html#l114" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l114" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l122"><pre> </pre></li>
<li id="l123"><pre>      <span class="keyword">procedure</span> Set_outfile_interactive (long_not_composed_possible_name : String) <span class="keyword">is</span> </pre></li>
<li id="l124"><pre>         <span class="comment">-- Eventually trash the archived directory structure, then</span> </pre></li>
<li id="l125"><pre>         <span class="comment">-- eventually add/modify/ .. . another one:</span> </pre></li>
<li id="l126"><pre>         possible_name : <span class="keyword">constant</span> String := </pre></li>
<li id="l127"><pre>           <span class="droplink">Full_Path_Name<ul><li><a href="src_unzip.adb.html#l105" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l105" title="To body">To body</a></li></ul></span> (<span class="droplink">Maybe_trash_dir<ul><li><a href="src_unzip.adb.html#l48" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l48" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l123" title="defined at unzip.adb:123:42">long_not_composed_possible_name</a>)); </pre></li>
<li id="l128"><pre>         new_name  : String (1 .. 1024); </pre></li>
<li id="l129"><pre>         new_name_length  : Natural; </pre></li>
<li id="l130"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l131"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l22" title="defined at unzip.adb:22:25">help_the_file_exists</a> /= <span class="keyword">null</span> <span class="keyword">and</span> <span class="keyword">then</span> <span class="droplink">Zip.Exists<ul><li><a href="zip.ads.html#zip.ads:250:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l250" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l700" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l126" title="defined at unzip.adb:126:10">possible_name</a>) <span class="keyword">then</span> </pre></li>
<li id="l132"><pre>            <span class="keyword">loop</span> </pre></li>
<li id="l133"><pre>               <span class="keyword">case</span> <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l134"><pre>               <span class="keyword">when</span> yes | no | rename_it =&gt; <span class="comment">-- then ask for this name too</span> </pre></li>
<li id="l135"><pre>                  <a href="src_unzip.adb.html#l22" title="defined at unzip.adb:22:25">help_the_file_exists</a> ( </pre></li>
<li id="l136"><pre>                                        <a href="src_unzip.adb.html#l126" title="defined at unzip.adb:126:10">possible_name</a>, </pre></li>
<li id="l137"><pre>                                        <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l138"><pre>                                        <a href="src_unzip.adb.html#l128" title="defined at unzip.adb:128:10">new_name</a>, <a href="src_unzip.adb.html#l129" title="defined at unzip.adb:129:10">new_name_length</a> </pre></li>
<li id="l139"><pre>                                       ); </pre></li>
<li id="l140"><pre>               <span class="keyword">when</span> yes_to_all | none | abort_now =&gt; </pre></li>
<li id="l141"><pre>                  <span class="keyword">exit</span>; <span class="comment">-- nothing to decide : previous decision was definitive</span> </pre></li>
<li id="l142"><pre>               <span class="keyword">end</span> <span class="keyword">case</span>; </pre></li>
<li id="l143"><pre>               <span class="keyword">exit</span> <span class="keyword">when</span> <span class="keyword">not</span> ( </pre></li>
<li id="l144"><pre>                              <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> = rename_it <span class="keyword">and</span> <span class="keyword">then</span> <span class="comment">-- new name exists too!</span> </pre></li>
<li id="l145"><pre>                              <span class="droplink">Zip.Exists<ul><li><a href="zip.ads.html#zip.ads:250:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l250" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l700" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l128" title="defined at unzip.adb:128:10">new_name</a> (1 .. <a href="src_unzip.adb.html#l129" title="defined at unzip.adb:129:10">new_name_length</a>)) </pre></li>
<li id="l146"><pre>                             ); </pre></li>
<li id="l147"><pre>            <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l148"><pre> </pre></li>
<li id="l149"><pre>            <span class="comment">-- User has decided.</span> </pre></li>
<li id="l150"><pre>            <span class="keyword">case</span> <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l151"><pre>            <span class="keyword">when</span> yes | yes_to_all =&gt; </pre></li>
<li id="l152"><pre>               <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> := False; </pre></li>
<li id="l153"><pre>               <span class="droplink">Set_definitively_named_outfile<ul><li><a href="src_unzip.adb.html#l64" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l64" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l126" title="defined at unzip.adb:126:10">possible_name</a>); </pre></li>
<li id="l154"><pre>            <span class="keyword">when</span> no | none =&gt; </pre></li>
<li id="l155"><pre>               <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> := True; </pre></li>
<li id="l156"><pre>            <span class="keyword">when</span> rename_it =&gt; </pre></li>
<li id="l157"><pre>               <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> := False; </pre></li>
<li id="l158"><pre>               <span class="droplink">Set_definitively_named_outfile<ul><li><a href="src_unzip.adb.html#l64" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l64" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l128" title="defined at unzip.adb:128:10">new_name</a> (1 .. <a href="src_unzip.adb.html#l129" title="defined at unzip.adb:129:10">new_name_length</a>)); </pre></li>
<li id="l159"><pre>            <span class="keyword">when</span> abort_now =&gt; </pre></li>
<li id="l160"><pre>               <span class="keyword">raise</span> <span class="droplink">User_abort<ul><li><a href="unzip.ads.html#unzip.ads:290:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l290" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l161"><pre>            <span class="keyword">end</span> <span class="keyword">case</span>; </pre></li>
<li id="l162"><pre> </pre></li>
<li id="l163"><pre>         <span class="keyword">else</span> <span class="comment">-- no name conflict or non - interactive (help_the_file_exists=null)</span> </pre></li>
<li id="l164"><pre> </pre></li>
<li id="l165"><pre>            <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> := False; </pre></li>
<li id="l166"><pre>            <span class="droplink">Set_definitively_named_outfile<ul><li><a href="src_unzip.adb.html#l64" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l64" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l126" title="defined at unzip.adb:126:10">possible_name</a>); </pre></li>
<li id="l167"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l168"><pre>      <span class="keyword">end</span> <span class="droplink">Set_outfile_interactive<ul><li><a href="src_unzip.adb.html#l123" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l123" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l169"><pre> </pre></li>
<li id="l170"><pre>      <span class="keyword">procedure</span> Inform_User ( </pre></li>
<li id="l171"><pre>                             name : String; </pre></li>
<li id="l172"><pre>                             comp, uncomp : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l173"><pre>                            ) </pre></li>
<li id="l174"><pre>      <span class="keyword">is</span> </pre></li>
<li id="l175"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l176"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l23" title="defined at unzip.adb:23:25">tell_data</a> /= <span class="keyword">null</span>  <span class="keyword">then</span> </pre></li>
<li id="l177"><pre>            <a href="src_unzip.adb.html#l23" title="defined at unzip.adb:23:25">tell_data</a> (<a href="src_unzip.adb.html#l171" title="defined at unzip.adb:171:30">name</a>, <a href="src_unzip.adb.html#l172" title="defined at unzip.adb:172:30">comp</a>, <a href="src_unzip.adb.html#l172" title="defined at unzip.adb:172:36">uncomp</a>, <a href="src_unzip.adb.html#l33" title="defined at unzip.adb:33:7">method</a>); </pre></li>
<li id="l178"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l179"><pre>      <span class="keyword">end</span> <span class="droplink">Inform_User<ul><li><a href="src_unzip.adb.html#l170" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l170" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l180"><pre> </pre></li>
<li id="l181"><pre>      the_name     : String (1 .. 1000); </pre></li>
<li id="l182"><pre>      the_name_len : Natural; </pre></li>
<li id="l183"><pre>      <span class="keyword">use</span> <span class="droplink">Zip<ul><li><a href="zip.ads.html#zip.ads:45:9" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l9" title="To body">To body</a></li></ul></span>, <span class="droplink">Zip_Streams<ul><li><a href="zip_streams.ads.html#zip_streams.ads:31:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l10" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l184"><pre> </pre></li>
<li id="l185"><pre>      actual_feedback : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l186"><pre> </pre></li>
<li id="l187"><pre>      dummy : <span class="droplink">p_Stream_Element_Array<ul><li><a href="unzip.ads.html#unzip.ads:308:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l308" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l188"><pre>      encrypted, dummy_bool : Boolean; </pre></li>
<li id="l189"><pre> </pre></li>
<li id="l190"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l191"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l192"><pre>         <span class="droplink">Set_Index<ul><li><a href="zip_streams.ads.html#zip_streams.ads:46:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l46" title="To spec">To spec</a></li></ul></span> (<a href="src_unzip.adb.html#l16" title="defined at unzip.adb:16:25">zip_file</a>, <a href="src_unzip.adb.html#l30" title="defined at unzip.adb:30:7">work_index</a>); </pre></li>
<li id="l193"><pre>         <span class="keyword">declare</span> </pre></li>
<li id="l194"><pre>            TempStream  : <span class="keyword">constant</span> <span class="droplink">Zipstream_Class<ul><li><a href="zip_streams.ads.html#zip_streams.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l43" title="To spec">To spec</a></li></ul></span> := <a href="src_unzip.adb.html#l16" title="defined at unzip.adb:16:25">zip_file</a>; </pre></li>
<li id="l195"><pre>         <span class="keyword">begin</span> </pre></li>
<li id="l196"><pre>            <span class="droplink">Zip.Headers.Read_and_check<ul><li><a href="zip-headers.ads.html#zip-headers.ads:71:13" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l71" title="To spec">To spec</a></li><li><a href="src_zip-headers.adb.html#l132" title="To body">To body</a></li></ul></span> (TempStream, <a href="src_unzip.adb.html#l31" title="defined at unzip.adb:31:7">local_header</a>); </pre></li>
<li id="l197"><pre>         <span class="keyword">end</span>; </pre></li>
<li id="l198"><pre>      <span class="keyword">exception</span> </pre></li>
<li id="l199"><pre>         <span class="keyword">when</span> <span class="droplink">Zip.Headers.bad_local_header<ul><li><a href="zip-headers.ads.html#zip-headers.ads:74:3" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l74" title="To spec">To spec</a></li></ul></span> =&gt; </pre></li>
<li id="l200"><pre>            <span class="keyword">raise</span>; </pre></li>
<li id="l201"><pre>         <span class="keyword">when</span> <span class="keyword">others</span> =&gt; </pre></li>
<li id="l202"><pre>            <span class="keyword">raise</span> <span class="droplink">Read_Error<ul><li><a href="unzip.ads.html#unzip.ads:288:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l288" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l203"><pre>      <span class="keyword">end</span>; </pre></li>
<li id="l204"><pre> </pre></li>
<li id="l205"><pre>      <a href="src_unzip.adb.html#l33" title="defined at unzip.adb:33:7">method</a> := <span class="droplink">Zip.Method_from_code<ul><li><a href="zip.ads.html#zip.ads:124:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l124" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l694" title="To body">To body</a></li></ul></span> (local_header.zip_type); </pre></li>
<li id="l206"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l33" title="defined at unzip.adb:33:7">method</a> = unknown <span class="keyword">then</span> </pre></li>
<li id="l207"><pre>         <span class="keyword">raise</span> <span class="droplink">Unsupported_method<ul><li><a href="unzip.ads.html#unzip.ads:292:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l292" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l208"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l209"><pre> </pre></li>
<li id="l210"><pre>      <span class="comment">-- calculate offset of data</span> </pre></li>
<li id="l211"><pre> </pre></li>
<li id="l212"><pre>      <a href="src_unzip.adb.html#l30" title="defined at unzip.adb:30:7">work_index</a> := </pre></li>
<li id="l213"><pre>        <a href="src_unzip.adb.html#l30" title="defined at unzip.adb:30:7">work_index</a> + Positive (Ada.Streams.Stream_IO.Count ( </pre></li>
<li id="l214"><pre>                               local_header.filename_length    + </pre></li>
<li id="l215"><pre>                                 local_header.extra_field_length + </pre></li>
<li id="l216"><pre>                                   <span class="droplink">Zip.Headers.local_header_length<ul><li><a href="zip-headers.ads.html#zip-headers.ads:69:3" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l69" title="To spec">To spec</a></li></ul></span>) </pre></li>
<li id="l217"><pre>                              ); </pre></li>
<li id="l218"><pre> </pre></li>
<li id="l219"><pre>      <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a> := (local_header.bit_flag <span class="keyword">and</span> 8) /= 0; </pre></li>
<li id="l220"><pre> </pre></li>
<li id="l221"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a> <span class="keyword">then</span> </pre></li>
<li id="l222"><pre>         <span class="comment">-- Sizes and CRC are stored after the data</span> </pre></li>
<li id="l223"><pre>         <span class="comment">-- We set size to avoid getting a sudden Zip_EOF !</span> </pre></li>
<li id="l224"><pre>         local_header.dd.crc_32            := 0; </pre></li>
<li id="l225"><pre>         local_header.dd.compressed_size   := <a href="src_unzip.adb.html#l20" title="defined at unzip.adb:20:25">hint_comp_size</a>; </pre></li>
<li id="l226"><pre>         local_header.dd.uncompressed_size := <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>&apos;Last; </pre></li>
<li id="l227"><pre>         <a href="src_unzip.adb.html#l185" title="defined at unzip.adb:185:7">actual_feedback</a> := <span class="keyword">null</span>; <span class="comment">-- no feedback possible : unknown sizes</span> </pre></li>
<li id="l228"><pre>      <span class="keyword">else</span> </pre></li>
<li id="l229"><pre>         <span class="comment">-- Sizes and CRC are stored before the data, inside the local header</span> </pre></li>
<li id="l230"><pre>         <a href="src_unzip.adb.html#l185" title="defined at unzip.adb:185:7">actual_feedback</a> := <a href="src_unzip.adb.html#l21" title="defined at unzip.adb:21:25">feedback</a>; <span class="comment">-- use the given feedback procedure</span> </pre></li>
<li id="l231"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l232"><pre> </pre></li>
<li id="l233"><pre>      <a href="src_unzip.adb.html#l188" title="defined at unzip.adb:188:7">encrypted</a> := (local_header.bit_flag <span class="keyword">and</span> 1) /= 0; </pre></li>
<li id="l234"><pre> </pre></li>
<li id="l235"><pre>      <span class="comment">-- 13 - Dec - 2002</span> </pre></li>
<li id="l236"><pre>      <a href="src_unzip.adb.html#l42" title="defined at unzip.adb:42:7">true_packed_size</a> := <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span> (local_header.dd.compressed_size); </pre></li>
<li id="l237"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l188" title="defined at unzip.adb:188:7">encrypted</a> <span class="keyword">then</span> </pre></li>
<li id="l238"><pre>         <a href="src_unzip.adb.html#l42" title="defined at unzip.adb:42:7">true_packed_size</a> := <a href="src_unzip.adb.html#l42" title="defined at unzip.adb:42:7">true_packed_size</a> - 12; </pre></li>
<li id="l239"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l240"><pre> </pre></li>
<li id="l241"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l18" title="defined at unzip.adb:18:25">name_from_header</a> <span class="keyword">then</span> <span class="comment">-- Name from local header is used as output name</span> </pre></li>
<li id="l242"><pre>         <a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a> := Natural (local_header.filename_length); </pre></li>
<li id="l243"><pre>         String&apos;Read (<a href="src_unzip.adb.html#l16" title="defined at unzip.adb:16:25">zip_file</a>, <a href="src_unzip.adb.html#l181" title="defined at unzip.adb:181:7">the_name</a> (1 .. <a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a>)); </pre></li>
<li id="l244"><pre>         <span class="keyword">if</span> <span class="keyword">not</span> <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a> <span class="keyword">then</span> </pre></li>
<li id="l245"><pre>            <span class="droplink">Inform_User<ul><li><a href="src_unzip.adb.html#l170" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l170" title="To body">To body</a></li></ul></span> ( </pre></li>
<li id="l246"><pre>                         <a href="src_unzip.adb.html#l181" title="defined at unzip.adb:181:7">the_name</a> (1 .. <a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a>), </pre></li>
<li id="l247"><pre>                         <a href="src_unzip.adb.html#l42" title="defined at unzip.adb:42:7">true_packed_size</a>, </pre></li>
<li id="l248"><pre>                         <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span> (local_header.dd.uncompressed_size) </pre></li>
<li id="l249"><pre>                        ); </pre></li>
<li id="l250"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l251"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a> = 0 <span class="keyword">or</span> <span class="keyword">else</span> </pre></li>
<li id="l252"><pre>           (<a href="src_unzip.adb.html#l181" title="defined at unzip.adb:181:7">the_name</a> (<a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a>) = <span class="string">&apos;/&apos;</span> <span class="keyword">or</span> <span class="keyword">else</span> </pre></li>
<li id="l253"><pre>            <a href="src_unzip.adb.html#l181" title="defined at unzip.adb:181:7">the_name</a> (<a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a>) = <span class="string">&apos;\&apos;</span>) </pre></li>
<li id="l254"><pre>         <span class="keyword">then</span> </pre></li>
<li id="l255"><pre>            <span class="comment">-- This is a directory name (12 - feb - 2000)</span> </pre></li>
<li id="l256"><pre>            <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> := True; </pre></li>
<li id="l257"><pre>         <span class="keyword">elsif</span> <a href="src_unzip.adb.html#l40" title="defined at unzip.adb:40:7">actual_mode</a> <span class="keyword">in</span> <span class="droplink">Write_to_file<ul><li><a href="unzip.ads.html#unzip.ads:305:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l305" title="To spec">To spec</a></li></ul></span> <span class="keyword">then</span> </pre></li>
<li id="l258"><pre>            <span class="droplink">Set_outfile_interactive<ul><li><a href="src_unzip.adb.html#l123" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l123" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l181" title="defined at unzip.adb:181:7">the_name</a> (1 .. <a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a>)); </pre></li>
<li id="l259"><pre>         <span class="keyword">else</span> <span class="comment">-- only informational, no need for interaction</span> </pre></li>
<li id="l260"><pre>            <span class="droplink">Set_outfile<ul><li><a href="src_unzip.adb.html#l114" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l114" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l181" title="defined at unzip.adb:181:7">the_name</a> (1 .. <a href="src_unzip.adb.html#l182" title="defined at unzip.adb:182:7">the_name_len</a>)); </pre></li>
<li id="l261"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l262"><pre>      <span class="keyword">else</span> <span class="comment">-- Output name is given : out_name</span> </pre></li>
<li id="l263"><pre>         <span class="keyword">if</span> <span class="keyword">not</span> <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a> <span class="keyword">then</span> </pre></li>
<li id="l264"><pre>            <span class="droplink">Inform_User<ul><li><a href="src_unzip.adb.html#l170" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l170" title="To body">To body</a></li></ul></span> ( </pre></li>
<li id="l265"><pre>                         <a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a>, </pre></li>
<li id="l266"><pre>                         <a href="src_unzip.adb.html#l42" title="defined at unzip.adb:42:7">true_packed_size</a>, </pre></li>
<li id="l267"><pre>                         <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span> (local_header.dd.uncompressed_size) </pre></li>
<li id="l268"><pre>                        ); </pre></li>
<li id="l269"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l270"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a>&apos;Length = 0 <span class="keyword">or</span> <span class="keyword">else</span> </pre></li>
<li id="l271"><pre>           (<a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a> (<a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a>&apos;Last) = <span class="string">&apos;/&apos;</span> <span class="keyword">or</span> <span class="keyword">else</span> </pre></li>
<li id="l272"><pre>            <a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a> (<a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a>&apos;Last) = <span class="string">&apos;\&apos;</span>) </pre></li>
<li id="l273"><pre>         <span class="keyword">then</span> </pre></li>
<li id="l274"><pre>            <span class="comment">-- This is a directory name, so do not write anything (30 - Jan - 2012).</span> </pre></li>
<li id="l275"><pre>            <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> := True; </pre></li>
<li id="l276"><pre>         <span class="keyword">elsif</span> <a href="src_unzip.adb.html#l40" title="defined at unzip.adb:40:7">actual_mode</a> <span class="keyword">in</span> <span class="droplink">Write_to_file<ul><li><a href="unzip.ads.html#unzip.ads:305:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l305" title="To spec">To spec</a></li></ul></span> <span class="keyword">then</span> </pre></li>
<li id="l277"><pre>            <span class="droplink">Set_outfile_interactive<ul><li><a href="src_unzip.adb.html#l123" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l123" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a>); </pre></li>
<li id="l278"><pre>         <span class="keyword">else</span> <span class="comment">-- only informational, no need for interaction</span> </pre></li>
<li id="l279"><pre>            <span class="droplink">Set_outfile<ul><li><a href="src_unzip.adb.html#l114" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l114" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l17" title="defined at unzip.adb:17:25">out_name</a>); </pre></li>
<li id="l280"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l281"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l282"><pre> </pre></li>
<li id="l283"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> <span class="keyword">then</span> </pre></li>
<li id="l284"><pre>         <a href="src_unzip.adb.html#l40" title="defined at unzip.adb:40:7">actual_mode</a> := just_test; </pre></li>
<li id="l285"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l286"><pre> </pre></li>
<li id="l287"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l35" title="defined at unzip.adb:35:7">skip_this_file</a> <span class="keyword">and</span> <span class="keyword">not</span> <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a> <span class="keyword">then</span> </pre></li>
<li id="l288"><pre>         <span class="comment">-- We can skip actually since sizes are known.</span> </pre></li>
<li id="l289"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l21" title="defined at unzip.adb:21:25">feedback</a> /= <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l290"><pre>            <a href="src_unzip.adb.html#l21" title="defined at unzip.adb:21:25">feedback</a> ( </pre></li>
<li id="l291"><pre>                      percents_done =&gt; 0, </pre></li>
<li id="l292"><pre>                      entry_skipped =&gt; True, </pre></li>
<li id="l293"><pre>                      user_abort    =&gt; <a href="src_unzip.adb.html#l188" title="defined at unzip.adb:188:18">dummy_bool</a> </pre></li>
<li id="l294"><pre>                     ); </pre></li>
<li id="l295"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l296"><pre>      <span class="keyword">else</span> </pre></li>
<li id="l297"><pre>         <span class="keyword">begin</span> </pre></li>
<li id="l298"><pre>            <span class="droplink">Set_Index<ul><li><a href="zip_streams.ads.html#zip_streams.ads:46:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l46" title="To spec">To spec</a></li></ul></span> (<a href="src_unzip.adb.html#l16" title="defined at unzip.adb:16:25">zip_file</a>, <a href="src_unzip.adb.html#l30" title="defined at unzip.adb:30:7">work_index</a>); <span class="comment">-- eventually skips the file name</span> </pre></li>
<li id="l299"><pre>         <span class="keyword">exception</span> </pre></li>
<li id="l300"><pre>            <span class="keyword">when</span> <span class="keyword">others</span> =&gt; <span class="keyword">raise</span> <span class="droplink">Read_Error<ul><li><a href="unzip.ads.html#unzip.ads:288:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l288" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l301"><pre>         <span class="keyword">end</span>; </pre></li>
<li id="l302"><pre>         <span class="droplink">UnZip.Decompress.Decompress_data<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:20:14" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l20" title="To spec">To spec</a></li><li><a href="src_unzip-decompress.adb.html#l7" title="To body">To body</a></li></ul></span> ( </pre></li>
<li id="l303"><pre>                                           <span class="droplink">zip_file<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:21:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l21" title="To spec">To spec</a></li></ul></span>             =&gt; <a href="src_unzip.adb.html#l16" title="defined at unzip.adb:16:25">zip_file</a>, </pre></li>
<li id="l304"><pre>                                           <span class="droplink">format<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:24:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l24" title="To spec">To spec</a></li><li><a href="src_unzip-decompress.adb.html#l9" title="To body">To body</a></li></ul></span>               =&gt; <a href="src_unzip.adb.html#l33" title="defined at unzip.adb:33:7">method</a>, </pre></li>
<li id="l305"><pre>                                           <span class="droplink">mode<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:25:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_unzip-decompress.adb.html#l10" title="To body">To body</a></li></ul></span>                 =&gt; <a href="src_unzip.adb.html#l40" title="defined at unzip.adb:40:7">actual_mode</a>, </pre></li>
<li id="l306"><pre>                                           <span class="droplink">output_file_name<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:26:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l26" title="To spec">To spec</a></li></ul></span>     =&gt; To_String (<a href="src_unzip.adb.html#l44" title="defined at unzip.adb:44:7">the_output_name</a>), </pre></li>
<li id="l307"><pre>                                           <span class="droplink">output_memory_access<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:27:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l27" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_unzip.adb.html#l187" title="defined at unzip.adb:187:7">dummy</a>, </pre></li>
<li id="l308"><pre>                                           <span class="droplink">feedback<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:28:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l28" title="To spec">To spec</a></li></ul></span>             =&gt; <a href="src_unzip.adb.html#l185" title="defined at unzip.adb:185:7">actual_feedback</a>, </pre></li>
<li id="l309"><pre>                                           <span class="droplink">explode_literal_tree<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:29:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l29" title="To spec">To spec</a></li></ul></span> =&gt; (local_header.bit_flag <span class="keyword">and</span> 4) /= 0, </pre></li>
<li id="l310"><pre>                                           <span class="droplink">explode_slide_8KB<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:30:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l30" title="To spec">To spec</a></li></ul></span>    =&gt; (local_header.bit_flag <span class="keyword">and</span> 2) /= 0, </pre></li>
<li id="l311"><pre>                                           <span class="droplink">end_data_descriptor<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:31:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l31" title="To spec">To spec</a></li></ul></span>  =&gt; <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a>, </pre></li>
<li id="l312"><pre>                                           <span class="droplink">encrypted<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:32:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l32" title="To spec">To spec</a></li></ul></span>            =&gt; <a href="src_unzip.adb.html#l188" title="defined at unzip.adb:188:7">encrypted</a>, </pre></li>
<li id="l313"><pre>                                           <span class="droplink">password<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:33:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l33" title="To spec">To spec</a></li><li><a href="src_unzip-decompress.adb.html#l18" title="To body">To body</a></li></ul></span>             =&gt; <a href="src_unzip.adb.html#l26" title="defined at unzip.adb:26:25">password</a>, </pre></li>
<li id="l314"><pre>                                           <span class="droplink">get_new_password<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:34:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l34" title="To spec">To spec</a></li></ul></span>     =&gt; <a href="src_unzip.adb.html#l24" title="defined at unzip.adb:24:25">get_pwd</a>, </pre></li>
<li id="l315"><pre>                                           <span class="droplink">hint<ul><li><a href="unzip-decompress.ads.html#unzip-decompress.ads:35:5" title="To API doc">To API doc</a></li><li><a href="src_unzip-decompress.ads.html#l35" title="To spec">To spec</a></li><li><a href="src_unzip-decompress.adb.html#l20" title="To body">To body</a></li></ul></span>                 =&gt; local_header.dd </pre></li>
<li id="l316"><pre>                                          ); </pre></li>
<li id="l317"><pre> </pre></li>
<li id="l318"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l40" title="defined at unzip.adb:40:7">actual_mode</a> /= just_test <span class="keyword">then</span> </pre></li>
<li id="l319"><pre>            <span class="keyword">if</span> file_system_routines.Set_Time_Stamp /= <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l320"><pre>               file_system_routines.Set_Time_Stamp ( </pre></li>
<li id="l321"><pre>                                                    To_String (<a href="src_unzip.adb.html#l44" title="defined at unzip.adb:44:7">the_output_name</a>), </pre></li>
<li id="l322"><pre>                                                    <span class="droplink">Convert<ul><li><a href="zip.ads.html#zip.ads:131:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l131" title="To spec">To spec</a></li></ul></span> (local_header.file_timedate) </pre></li>
<li id="l323"><pre>                                                   ); </pre></li>
<li id="l324"><pre>            <span class="keyword">elsif</span> file_system_routines.Set_ZTime_Stamp /= <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l325"><pre>               file_system_routines.Set_ZTime_Stamp ( </pre></li>
<li id="l326"><pre>                                                     To_String (<a href="src_unzip.adb.html#l44" title="defined at unzip.adb:44:7">the_output_name</a>), </pre></li>
<li id="l327"><pre>                                                     local_header.file_timedate </pre></li>
<li id="l328"><pre>                                                    ); </pre></li>
<li id="l329"><pre>            <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l330"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l331"><pre> </pre></li>
<li id="l332"><pre>         <span class="keyword">if</span> <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a> <span class="keyword">then</span> <span class="comment">-- Sizes and CRC at the end</span> </pre></li>
<li id="l333"><pre>            <span class="comment">-- Inform after decompression</span> </pre></li>
<li id="l334"><pre>            <span class="droplink">Inform_User<ul><li><a href="src_unzip.adb.html#l170" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l170" title="To body">To body</a></li></ul></span> ( </pre></li>
<li id="l335"><pre>                         To_String (<a href="src_unzip.adb.html#l44" title="defined at unzip.adb:44:7">the_output_name</a>), </pre></li>
<li id="l336"><pre>                         local_header.dd.compressed_size, </pre></li>
<li id="l337"><pre>                         local_header.dd.uncompressed_size </pre></li>
<li id="l338"><pre>                        ); </pre></li>
<li id="l339"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l340"><pre> </pre></li>
<li id="l341"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; <span class="comment">-- not (skip_this_file and not data_descriptor)</span> </pre></li>
<li id="l342"><pre> </pre></li>
<li id="l343"><pre>      <span class="comment">-- Set the offset on the next zipped file</span> </pre></li>
<li id="l344"><pre>      <a href="src_unzip.adb.html#l19" title="defined at unzip.adb:19:25">header_index</a> := <a href="src_unzip.adb.html#l19" title="defined at unzip.adb:19:25">header_index</a> + Positive ( </pre></li>
<li id="l345"><pre>                                               Ada.Streams.Stream_IO.Count ( </pre></li>
<li id="l346"><pre>                                                 <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span> ( </pre></li>
<li id="l347"><pre>                                                   local_header.filename_length    + </pre></li>
<li id="l348"><pre>                                                     local_header.extra_field_length + </pre></li>
<li id="l349"><pre>                                                       <span class="droplink">Zip.Headers.local_header_length<ul><li><a href="zip-headers.ads.html#zip-headers.ads:69:3" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l69" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l350"><pre>                                                  ) + </pre></li>
<li id="l351"><pre>                                                   local_header.dd.compressed_size </pre></li>
<li id="l352"><pre>                                                )); </pre></li>
<li id="l353"><pre> </pre></li>
<li id="l354"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l32" title="defined at unzip.adb:32:7">data_descriptor_after_data</a> <span class="keyword">then</span> </pre></li>
<li id="l355"><pre>         <a href="src_unzip.adb.html#l19" title="defined at unzip.adb:19:25">header_index</a> := </pre></li>
<li id="l356"><pre>           <a href="src_unzip.adb.html#l19" title="defined at unzip.adb:19:25">header_index</a> + Positive ( </pre></li>
<li id="l357"><pre>                                    Ada.Streams.Stream_IO.Count (<span class="droplink">Zip.Headers.data_descriptor_length<ul><li><a href="zip-headers.ads.html#zip-headers.ads:37:3" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l37" title="To spec">To spec</a></li></ul></span>)); </pre></li>
<li id="l358"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l359"><pre> </pre></li>
<li id="l360"><pre>   <span class="keyword">end</span> <span class="droplink">UnZipFile<ul><li><a href="src_unzip.adb.html#l15" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l15" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l361"><pre> </pre></li>
<li id="l362"><pre>   <span class="comment">----------------------------------</span> </pre></li>
<li id="l363"><pre>   <span class="comment">-- Simple extraction procedures --</span> </pre></li>
<li id="l364"><pre>   <span class="comment">----------------------------------</span> </pre></li>
<li id="l365"><pre> </pre></li>
<li id="l366"><pre>   <span class="comment">-- Extract all files from an archive (from)</span> </pre></li>
<li id="l367"><pre> </pre></li>
<li id="l368"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:102:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l102" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:102:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l102" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l369"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:103:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l103" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l370"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:104:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l104" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l371"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:105:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l105" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l372"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l373"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l374"><pre>      <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:202:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l202" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l540" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:102:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l102" title="To spec">To spec</a></li></ul></span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, </pre></li>
<li id="l375"><pre>               <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:103:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l103" title="To spec">To spec</a></li></ul></span>, <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:104:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l104" title="To spec">To spec</a></li></ul></span>, <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:105:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l105" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l371" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l376"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:102:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l102" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l368" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l377"><pre> </pre></li>
<li id="l378"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:110:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l110" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:110:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l110" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l379"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:111:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l111" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l380"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:112:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l112" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l381"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:113:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l113" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l382"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:114:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l114" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l383"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l384"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l385"><pre>      <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:214:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l214" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l444" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:110:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l110" title="To spec">To spec</a></li></ul></span>, <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:111:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l111" title="To spec">To spec</a></li></ul></span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, </pre></li>
<li id="l386"><pre>               <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:112:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l112" title="To spec">To spec</a></li></ul></span>, <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:113:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l113" title="To spec">To spec</a></li></ul></span>, <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:114:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l114" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l382" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l387"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:110:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l110" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l378" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l388"><pre> </pre></li>
<li id="l389"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:120:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l120" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:120:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l120" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l390"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:121:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l121" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l391"><pre>                      <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:122:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l122" title="To spec">To spec</a></li></ul></span>                : String; </pre></li>
<li id="l392"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:123:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l123" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l393"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:124:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l124" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l394"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:125:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l125" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l395"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l396"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l397"><pre>      <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:228:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l228" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l493" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:120:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l120" title="To spec">To spec</a></li></ul></span>, <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:121:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l121" title="To spec">To spec</a></li></ul></span>, <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:122:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l122" title="To spec">To spec</a></li></ul></span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, </pre></li>
<li id="l398"><pre>               <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:123:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l123" title="To spec">To spec</a></li></ul></span>, <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:124:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l124" title="To spec">To spec</a></li></ul></span>, <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:125:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l125" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l394" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l399"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:120:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l120" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l389" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l400"><pre> </pre></li>
<li id="l401"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:135:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l135" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:135:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l135" title="To spec">To spec</a></li></ul></span>                  : <span class="droplink">Zip.Zip_info<ul><li><a href="zip.ads.html#zip.ads:53:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l53" title="To spec">To spec</a></li><li><a href="src_zip.ads.html#l308" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l402"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:136:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l136" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l403"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:137:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l137" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l404"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:138:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l138" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l405"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l406"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l407"><pre>      <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:244:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l244" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l590" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:135:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l135" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l401" title="To body">To body</a></li></ul></span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, </pre></li>
<li id="l408"><pre>               <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:136:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l136" title="To spec">To spec</a></li></ul></span>, <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:137:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l137" title="To spec">To spec</a></li></ul></span>, <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:138:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l138" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l404" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l409"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:135:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l135" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l401" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l410"><pre> </pre></li>
<li id="l411"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:144:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l144" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:144:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l144" title="To spec">To spec</a></li></ul></span>                  : <span class="droplink">Zip.Zip_info<ul><li><a href="zip.ads.html#zip.ads:53:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l53" title="To spec">To spec</a></li><li><a href="src_zip.ads.html#l308" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l412"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:145:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l145" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l413"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:146:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l146" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l414"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:147:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l147" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l415"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:148:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l148" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l416"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l417"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l418"><pre>      <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:257:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:144:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l144" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l411" title="To body">To body</a></li></ul></span>, <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:145:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l145" title="To spec">To spec</a></li></ul></span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, </pre></li>
<li id="l419"><pre>               <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:146:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l146" title="To spec">To spec</a></li></ul></span>, <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:147:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l147" title="To spec">To spec</a></li></ul></span>, <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:148:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l148" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l415" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l420"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:144:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l144" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l411" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l421"><pre> </pre></li>
<li id="l422"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:155:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l155" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:155:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l155" title="To spec">To spec</a></li></ul></span>                  : <span class="droplink">Zip.Zip_info<ul><li><a href="zip.ads.html#zip.ads:53:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l53" title="To spec">To spec</a></li><li><a href="src_zip.ads.html#l308" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l423"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:156:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l156" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l424"><pre>                      <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:157:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l157" title="To spec">To spec</a></li></ul></span>                : String; </pre></li>
<li id="l425"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:158:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l158" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l426"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:159:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l159" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l427"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:160:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l160" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l428"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l429"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l430"><pre>      <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:272:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l678" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:155:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l155" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l422" title="To body">To body</a></li></ul></span>, <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:156:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l156" title="To spec">To spec</a></li></ul></span>, <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:157:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l157" title="To spec">To spec</a></li></ul></span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, </pre></li>
<li id="l431"><pre>               <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:158:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l158" title="To spec">To spec</a></li></ul></span>, <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:159:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l159" title="To spec">To spec</a></li></ul></span>, <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:160:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l160" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l427" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l432"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:155:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l155" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l422" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l433"><pre> </pre></li>
<li id="l434"><pre>   <span class="comment">-- All previous extract call the following ones, with bogus UI arguments</span> </pre></li>
<li id="l435"><pre> </pre></li>
<li id="l436"><pre>   <span class="comment">------------------------------------------------------------</span> </pre></li>
<li id="l437"><pre>   <span class="comment">-- All previous extraction procedures, for user interface --</span> </pre></li>
<li id="l438"><pre>   <span class="comment">------------------------------------------------------------</span> </pre></li>
<li id="l439"><pre> </pre></li>
<li id="l440"><pre>   <span class="keyword">use</span> Ada.Streams.Stream_IO; </pre></li>
<li id="l441"><pre> </pre></li>
<li id="l442"><pre>   <span class="comment">-- Extract one precise file (what) from an archive (from)</span> </pre></li>
<li id="l443"><pre> </pre></li>
<li id="l444"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:214:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l214" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:214:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l214" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l445"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:215:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l215" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l446"><pre>                      <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:216:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l216" title="To spec">To spec</a></li></ul></span>              : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l447"><pre>                      <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:217:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l217" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">Resolve_conflict_proc<ul><li><a href="unzip.ads.html#unzip.ads:180:9" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l180" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l448"><pre>                      <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:218:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l218" title="To spec">To spec</a></li></ul></span>             : <span class="droplink">Tell_data_proc<ul><li><a href="unzip.ads.html#unzip.ads:194:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l194" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l449"><pre>                      <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:219:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l219" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Get_password_proc<ul><li><a href="unzip.ads.html#unzip.ads:186:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l186" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l450"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:220:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l220" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l451"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:221:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l221" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l452"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:222:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l222" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l453"><pre> </pre></li>
<li id="l454"><pre>      <span class="keyword">use</span> <span class="droplink">Zip<ul><li><a href="zip.ads.html#zip.ads:45:9" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l9" title="To body">To body</a></li></ul></span>, <span class="droplink">Zip_Streams<ul><li><a href="zip_streams.ads.html#zip_streams.ads:31:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l10" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l455"><pre> </pre></li>
<li id="l456"><pre>      MyStream      : <span class="keyword">aliased</span> <span class="droplink">File_Zipstream<ul><li><a href="zip_streams.ads.html#zip_streams.ads:125:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l125" title="To spec">To spec</a></li><li><a href="src_zip_streams.ads.html#l212" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l457"><pre>      <span class="comment">-- was Unbounded_Stream &amp; file - &gt;buffer copy in v.26</span> </pre></li>
<li id="l458"><pre>      zip_file      : <span class="keyword">constant</span> <span class="droplink">Zipstream_Class<ul><li><a href="zip_streams.ads.html#zip_streams.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l43" title="To spec">To spec</a></li></ul></span> := <a href="src_unzip.adb.html#l456" title="defined at unzip.adb:456:7">MyStream</a>&apos;Unchecked_Access; </pre></li>
<li id="l459"><pre>      header_index  : Positive; </pre></li>
<li id="l460"><pre>      comp_size     : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l461"><pre>      uncomp_size   : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l462"><pre>      work_password : Unbounded_String := To_Unbounded_String (<span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:221:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l221" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l463"><pre> </pre></li>
<li id="l464"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l465"><pre>      <span class="keyword">if</span> <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:216:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l216" title="To spec">To spec</a></li></ul></span> = <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l466"><pre>         <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> := yes_to_all; <span class="comment">-- non - interactive</span> </pre></li>
<li id="l467"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l468"><pre>      <span class="droplink">Set_Name<ul><li><a href="zip_streams.ads.html#zip_streams.ads:56:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l56" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l12" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l458" title="defined at unzip.adb:458:7">zip_file</a>, <span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:214:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l214" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l469"><pre>      <span class="droplink">Open<ul><li><a href="zip_streams.ads.html#zip_streams.ads:131:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l131" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l162" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l456" title="defined at unzip.adb:456:7">MyStream</a>, In_File); </pre></li>
<li id="l470"><pre>      <span class="droplink">Zip.Find_offset<ul><li><a href="zip.ads.html#zip.ads:175:14" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l175" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l478" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l458" title="defined at unzip.adb:458:7">zip_file</a>, </pre></li>
<li id="l471"><pre>                       <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:215:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l215" title="To spec">To spec</a></li></ul></span>, <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:220:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l220" title="To spec">To spec</a></li></ul></span> (case_sensitive_match), </pre></li>
<li id="l472"><pre>                       <a href="src_unzip.adb.html#l459" title="defined at unzip.adb:459:7">header_index</a>, </pre></li>
<li id="l473"><pre>                       <a href="src_unzip.adb.html#l460" title="defined at unzip.adb:460:7">comp_size</a>, </pre></li>
<li id="l474"><pre>                       <a href="src_unzip.adb.html#l461" title="defined at unzip.adb:461:7">uncomp_size</a>); </pre></li>
<li id="l475"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l461" title="defined at unzip.adb:461:7">uncomp_size</a>); </pre></li>
<li id="l476"><pre> </pre></li>
<li id="l477"><pre>      <span class="droplink">UnZipFile<ul><li><a href="src_unzip.adb.html#l15" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l15" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l458" title="defined at unzip.adb:458:7">zip_file</a>, </pre></li>
<li id="l478"><pre>                 <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:215:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l215" title="To spec">To spec</a></li></ul></span>, False, </pre></li>
<li id="l479"><pre>                 <a href="src_unzip.adb.html#l459" title="defined at unzip.adb:459:7">header_index</a>, </pre></li>
<li id="l480"><pre>                 <a href="src_unzip.adb.html#l460" title="defined at unzip.adb:460:7">comp_size</a>, </pre></li>
<li id="l481"><pre>                 <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:216:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l216" title="To spec">To spec</a></li></ul></span>, <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:217:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l217" title="To spec">To spec</a></li></ul></span>, <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:218:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l218" title="To spec">To spec</a></li></ul></span>, <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:219:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l219" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l482"><pre>                 <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:220:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l220" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l483"><pre>                 <a href="src_unzip.adb.html#l462" title="defined at unzip.adb:462:7">work_password</a>, </pre></li>
<li id="l484"><pre>                 <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:222:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l222" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l452" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l485"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l459" title="defined at unzip.adb:459:7">header_index</a>, <a href="src_unzip.adb.html#l462" title="defined at unzip.adb:462:7">work_password</a>); </pre></li>
<li id="l486"><pre> </pre></li>
<li id="l487"><pre>      <span class="droplink">Close<ul><li><a href="zip_streams.ads.html#zip_streams.ads:138:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l138" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l176" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l456" title="defined at unzip.adb:456:7">MyStream</a>); </pre></li>
<li id="l488"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:214:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l214" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l444" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l489"><pre> </pre></li>
<li id="l490"><pre>   <span class="comment">-- Extract one precise file (what) from an archive (from),</span> </pre></li>
<li id="l491"><pre>   <span class="comment">-- but save under a new name (rename)</span> </pre></li>
<li id="l492"><pre> </pre></li>
<li id="l493"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:228:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l228" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:228:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l228" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l494"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:229:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l229" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l495"><pre>                      <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:230:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l230" title="To spec">To spec</a></li></ul></span>                : String; </pre></li>
<li id="l496"><pre>                      <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:231:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l231" title="To spec">To spec</a></li></ul></span>              : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l497"><pre>                      <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:232:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l232" title="To spec">To spec</a></li></ul></span>             : <span class="droplink">Tell_data_proc<ul><li><a href="unzip.ads.html#unzip.ads:194:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l194" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l498"><pre>                      <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:233:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l233" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Get_password_proc<ul><li><a href="unzip.ads.html#unzip.ads:186:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l186" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l499"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:234:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l234" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l500"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:235:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l235" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l501"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:236:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l236" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l502"><pre>                     ) </pre></li>
<li id="l503"><pre>   <span class="keyword">is</span> </pre></li>
<li id="l504"><pre>      <span class="keyword">use</span> <span class="droplink">Zip<ul><li><a href="zip.ads.html#zip.ads:45:9" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l9" title="To body">To body</a></li></ul></span>, <span class="droplink">Zip_Streams<ul><li><a href="zip_streams.ads.html#zip_streams.ads:31:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l10" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l505"><pre>      MyStream      : <span class="keyword">aliased</span> <span class="droplink">File_Zipstream<ul><li><a href="zip_streams.ads.html#zip_streams.ads:125:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l125" title="To spec">To spec</a></li><li><a href="src_zip_streams.ads.html#l212" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l506"><pre>      <span class="comment">-- was Unbounded_Stream &amp; file - &gt;buffer copy in v.26</span> </pre></li>
<li id="l507"><pre>      zip_file      : <span class="keyword">constant</span> <span class="droplink">Zipstream_Class<ul><li><a href="zip_streams.ads.html#zip_streams.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l43" title="To spec">To spec</a></li></ul></span> := <a href="src_unzip.adb.html#l505" title="defined at unzip.adb:505:7">MyStream</a>&apos;Unchecked_Access; </pre></li>
<li id="l508"><pre>      header_index  : Positive; </pre></li>
<li id="l509"><pre>      comp_size     : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l510"><pre>      uncomp_size   : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l511"><pre>      work_password : Unbounded_String := To_Unbounded_String (<span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:235:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l235" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l512"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l513"><pre>      <span class="keyword">if</span> <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:231:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l231" title="To spec">To spec</a></li></ul></span> = <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l514"><pre>         <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> := yes_to_all; <span class="comment">-- non - interactive</span> </pre></li>
<li id="l515"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l516"><pre>      <span class="droplink">Set_Name<ul><li><a href="zip_streams.ads.html#zip_streams.ads:56:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l56" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l12" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l507" title="defined at unzip.adb:507:7">zip_file</a>, <span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:228:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l228" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l517"><pre>      <span class="droplink">Open<ul><li><a href="zip_streams.ads.html#zip_streams.ads:131:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l131" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l162" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l505" title="defined at unzip.adb:505:7">MyStream</a>, In_File); </pre></li>
<li id="l518"><pre>      <span class="droplink">Zip.Find_offset<ul><li><a href="zip.ads.html#zip.ads:175:14" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l175" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l478" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l507" title="defined at unzip.adb:507:7">zip_file</a>, </pre></li>
<li id="l519"><pre>                       <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:229:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l229" title="To spec">To spec</a></li></ul></span>, <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:234:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l234" title="To spec">To spec</a></li></ul></span> (case_sensitive_match), </pre></li>
<li id="l520"><pre>                       <a href="src_unzip.adb.html#l508" title="defined at unzip.adb:508:7">header_index</a>, </pre></li>
<li id="l521"><pre>                       <a href="src_unzip.adb.html#l509" title="defined at unzip.adb:509:7">comp_size</a>, </pre></li>
<li id="l522"><pre>                       <a href="src_unzip.adb.html#l510" title="defined at unzip.adb:510:7">uncomp_size</a>); </pre></li>
<li id="l523"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l510" title="defined at unzip.adb:510:7">uncomp_size</a>); </pre></li>
<li id="l524"><pre> </pre></li>
<li id="l525"><pre>      <span class="droplink">UnZipFile<ul><li><a href="src_unzip.adb.html#l15" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l15" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l507" title="defined at unzip.adb:507:7">zip_file</a>, </pre></li>
<li id="l526"><pre>                 <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:230:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l230" title="To spec">To spec</a></li></ul></span>, False, </pre></li>
<li id="l527"><pre>                 <a href="src_unzip.adb.html#l508" title="defined at unzip.adb:508:7">header_index</a>, </pre></li>
<li id="l528"><pre>                 <a href="src_unzip.adb.html#l509" title="defined at unzip.adb:509:7">comp_size</a>, </pre></li>
<li id="l529"><pre>                 <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:231:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l231" title="To spec">To spec</a></li></ul></span>, <span class="keyword">null</span>, <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:232:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l232" title="To spec">To spec</a></li></ul></span>, <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:233:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l233" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l530"><pre>                 <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:234:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l234" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l531"><pre>                 <a href="src_unzip.adb.html#l511" title="defined at unzip.adb:511:7">work_password</a>, </pre></li>
<li id="l532"><pre>                 <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:236:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l236" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l501" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l533"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l508" title="defined at unzip.adb:508:7">header_index</a>, <a href="src_unzip.adb.html#l511" title="defined at unzip.adb:511:7">work_password</a>); </pre></li>
<li id="l534"><pre> </pre></li>
<li id="l535"><pre>      <span class="droplink">Close<ul><li><a href="zip_streams.ads.html#zip_streams.ads:138:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l138" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l176" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l505" title="defined at unzip.adb:505:7">MyStream</a>); </pre></li>
<li id="l536"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:228:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l228" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l493" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l537"><pre> </pre></li>
<li id="l538"><pre>   <span class="comment">-- Extract all files from an archive (from)</span> </pre></li>
<li id="l539"><pre> </pre></li>
<li id="l540"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:202:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l202" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:202:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l202" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l541"><pre>                      <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:203:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l203" title="To spec">To spec</a></li></ul></span>              : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l542"><pre>                      <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:204:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l204" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">Resolve_conflict_proc<ul><li><a href="unzip.ads.html#unzip.ads:180:9" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l180" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l543"><pre>                      <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:205:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l205" title="To spec">To spec</a></li></ul></span>             : <span class="droplink">Tell_data_proc<ul><li><a href="unzip.ads.html#unzip.ads:194:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l194" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l544"><pre>                      <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:206:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l206" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Get_password_proc<ul><li><a href="unzip.ads.html#unzip.ads:186:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l186" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l545"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:207:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l207" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l546"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:208:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l208" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l547"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:209:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l209" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l548"><pre>                     ) </pre></li>
<li id="l549"><pre>   <span class="keyword">is</span> </pre></li>
<li id="l550"><pre>      <span class="keyword">use</span> <span class="droplink">Zip<ul><li><a href="zip.ads.html#zip.ads:45:9" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l9" title="To body">To body</a></li></ul></span>, <span class="droplink">Zip_Streams<ul><li><a href="zip_streams.ads.html#zip_streams.ads:31:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l10" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l551"><pre>      MyStream      : <span class="keyword">aliased</span> <span class="droplink">File_Zipstream<ul><li><a href="zip_streams.ads.html#zip_streams.ads:125:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l125" title="To spec">To spec</a></li><li><a href="src_zip_streams.ads.html#l212" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l552"><pre>      <span class="comment">-- was Unbounded_Stream &amp; file - &gt;buffer copy in v.26</span> </pre></li>
<li id="l553"><pre>      zip_file      : <span class="keyword">constant</span> <span class="droplink">Zipstream_Class<ul><li><a href="zip_streams.ads.html#zip_streams.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l43" title="To spec">To spec</a></li></ul></span> := <a href="src_unzip.adb.html#l551" title="defined at unzip.adb:551:7">MyStream</a>&apos;Unchecked_Access; </pre></li>
<li id="l554"><pre>      header_index  : Positive; </pre></li>
<li id="l555"><pre>      work_password : Unbounded_String := To_Unbounded_String (<span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:208:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l208" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l556"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l557"><pre>      <span class="keyword">if</span> <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:203:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l203" title="To spec">To spec</a></li></ul></span> = <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l558"><pre>         <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> := yes_to_all; <span class="comment">-- non - interactive</span> </pre></li>
<li id="l559"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l560"><pre>      <span class="droplink">Set_Name<ul><li><a href="zip_streams.ads.html#zip_streams.ads:56:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l56" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l12" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l553" title="defined at unzip.adb:553:7">zip_file</a>, <span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:202:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l202" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l561"><pre>      <span class="droplink">Open<ul><li><a href="zip_streams.ads.html#zip_streams.ads:131:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l131" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l162" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l551" title="defined at unzip.adb:551:7">MyStream</a>, In_File); </pre></li>
<li id="l562"><pre>      <span class="droplink">Zip.Find_first_offset<ul><li><a href="zip.ads.html#zip.ads:169:14" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l169" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l435" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l553" title="defined at unzip.adb:553:7">zip_file</a>, <a href="src_unzip.adb.html#l554" title="defined at unzip.adb:554:7">header_index</a>); <span class="comment">-- &gt;= 13 - May - 2001</span> </pre></li>
<li id="l563"><pre>      <span class="comment">-- We simply unzip everything sequentially, until the end:</span> </pre></li>
<li id="l564"><pre>      all_files : <span class="keyword">loop</span> </pre></li>
<li id="l565"><pre>         <span class="droplink">UnZipFile<ul><li><a href="src_unzip.adb.html#l15" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l15" title="To body">To body</a></li></ul></span> ( </pre></li>
<li id="l566"><pre>                    <a href="src_unzip.adb.html#l553" title="defined at unzip.adb:553:7">zip_file</a>, </pre></li>
<li id="l567"><pre>                    <span class="string">&quot;&quot;</span>, True, </pre></li>
<li id="l568"><pre>                    <a href="src_unzip.adb.html#l554" title="defined at unzip.adb:554:7">header_index</a>, </pre></li>
<li id="l569"><pre>                    <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>&apos;Last, </pre></li>
<li id="l570"><pre>                    <span class="comment">-- ^ no better hint available if comp_size is 0 in local header</span> </pre></li>
<li id="l571"><pre>                    <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:203:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l203" title="To spec">To spec</a></li></ul></span>, <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:204:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l204" title="To spec">To spec</a></li></ul></span>, <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:205:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l205" title="To spec">To spec</a></li></ul></span>, <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:206:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l206" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l572"><pre>                    <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:207:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l207" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l573"><pre>                    <a href="src_unzip.adb.html#l555" title="defined at unzip.adb:555:7">work_password</a>, </pre></li>
<li id="l574"><pre>                    <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:209:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l209" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l547" title="To body">To body</a></li></ul></span> </pre></li>
<li id="l575"><pre>                   ); </pre></li>
<li id="l576"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span> all_files; </pre></li>
<li id="l577"><pre>   <span class="keyword">exception</span> </pre></li>
<li id="l578"><pre>      <span class="keyword">when</span> <span class="droplink">Zip.Headers.bad_local_header<ul><li><a href="zip-headers.ads.html#zip-headers.ads:74:3" title="To API doc">To API doc</a></li><li><a href="src_zip-headers.ads.html#l74" title="To spec">To spec</a></li></ul></span> =&gt; </pre></li>
<li id="l579"><pre>         <span class="droplink">Close<ul><li><a href="zip_streams.ads.html#zip_streams.ads:138:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l138" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l176" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l551" title="defined at unzip.adb:551:7">MyStream</a>); <span class="comment">-- normal case : end was hit</span> </pre></li>
<li id="l580"><pre>      <span class="keyword">when</span> <span class="droplink">Zip.Zip_file_open_Error<ul><li><a href="zip.ads.html#zip.ads:73:3" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l73" title="To spec">To spec</a></li></ul></span> =&gt; </pre></li>
<li id="l581"><pre>         <span class="keyword">raise</span>;    <span class="comment">-- couldn&apos;t open zip file</span> </pre></li>
<li id="l582"><pre>      <span class="keyword">when</span> <span class="keyword">others</span> =&gt; </pre></li>
<li id="l583"><pre>         <span class="droplink">Close<ul><li><a href="zip_streams.ads.html#zip_streams.ads:138:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l138" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l176" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l551" title="defined at unzip.adb:551:7">MyStream</a>); </pre></li>
<li id="l584"><pre>         <span class="keyword">raise</span>;    <span class="comment">-- something else wrong</span> </pre></li>
<li id="l585"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:202:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l202" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l540" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l586"><pre> </pre></li>
<li id="l587"><pre>   <span class="comment">-- Extract all files from an archive (from)</span> </pre></li>
<li id="l588"><pre>   <span class="comment">-- Needs Zip.Load (from, . .. ) prior to the extraction</span> </pre></li>
<li id="l589"><pre> </pre></li>
<li id="l590"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:244:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l244" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:244:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l244" title="To spec">To spec</a></li></ul></span>                  : <span class="droplink">Zip.Zip_info<ul><li><a href="zip.ads.html#zip.ads:53:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l53" title="To spec">To spec</a></li><li><a href="src_zip.ads.html#l308" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l591"><pre>                      <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:245:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l245" title="To spec">To spec</a></li></ul></span>              : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l592"><pre>                      <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:246:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l246" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">Resolve_conflict_proc<ul><li><a href="unzip.ads.html#unzip.ads:180:9" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l180" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l593"><pre>                      <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:247:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l247" title="To spec">To spec</a></li></ul></span>             : <span class="droplink">Tell_data_proc<ul><li><a href="unzip.ads.html#unzip.ads:194:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l194" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l594"><pre>                      <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:248:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l248" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Get_password_proc<ul><li><a href="unzip.ads.html#unzip.ads:186:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l186" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l595"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:249:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l249" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l596"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:250:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l250" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l597"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:251:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l251" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l598"><pre>                     ) </pre></li>
<li id="l599"><pre>   <span class="keyword">is</span> </pre></li>
<li id="l600"><pre>      <span class="keyword">procedure</span> Extract_1_file (name : String) <span class="keyword">is</span> </pre></li>
<li id="l601"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l602"><pre>         <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:257:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:257:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span> =&gt; <span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:244:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l244" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l590" title="To body">To body</a></li></ul></span>, </pre></li>
<li id="l603"><pre>                  <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:258:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l258" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_unzip.adb.html#l600" title="defined at unzip.adb:600:33">name</a>, </pre></li>
<li id="l604"><pre>                  <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:259:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l259" title="To spec">To spec</a></li></ul></span> =&gt; <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:245:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l245" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l605"><pre>                  <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:260:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l260" title="To spec">To spec</a></li></ul></span> =&gt; <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:246:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l246" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l606"><pre>                  <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:261:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l261" title="To spec">To spec</a></li></ul></span> =&gt; <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:247:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l247" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l607"><pre>                  <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:262:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l262" title="To spec">To spec</a></li></ul></span> =&gt; <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:248:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l248" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l608"><pre>                  <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:263:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l263" title="To spec">To spec</a></li></ul></span> =&gt; <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:249:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l249" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l609"><pre>                  <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:264:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l264" title="To spec">To spec</a></li></ul></span> =&gt; <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:250:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l250" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l610"><pre>                  <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:265:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l265" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l631" title="To body">To body</a></li></ul></span> =&gt; <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:251:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l251" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l597" title="To body">To body</a></li></ul></span> </pre></li>
<li id="l611"><pre>                 ); </pre></li>
<li id="l612"><pre>      <span class="keyword">end</span> <span class="droplink">Extract_1_file<ul><li><a href="src_unzip.adb.html#l600" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l600" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l613"><pre>      <span class="comment">--</span> </pre></li>
<li id="l614"><pre>      <span class="keyword">procedure</span> Extract_all_files <span class="keyword">is</span> <span class="keyword">new</span> <span class="droplink">Zip.Traverse<ul><li><a href="zip.ads.html#zip.ads:140:13" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l140" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l353" title="To body">To body</a></li></ul></span> (<span class="droplink">Extract_1_file<ul><li><a href="src_unzip.adb.html#l600" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l600" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l615"><pre>      <span class="comment">--</span> </pre></li>
<li id="l616"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l617"><pre>      <a href="src_unzip.adb.html#l614" title="defined at unzip.adb:614:17">Extract_all_files</a> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:244:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l244" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l590" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l618"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:244:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l244" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l590" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l619"><pre> </pre></li>
<li id="l620"><pre>   <span class="comment">-- Extract one precise file (what) from an archive (from)</span> </pre></li>
<li id="l621"><pre>   <span class="comment">-- Needs Zip.Load (from, . .. ) prior to the extraction</span> </pre></li>
<li id="l622"><pre> </pre></li>
<li id="l623"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:257:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:257:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li></ul></span>                  : <span class="droplink">Zip.Zip_info<ul><li><a href="zip.ads.html#zip.ads:53:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l53" title="To spec">To spec</a></li><li><a href="src_zip.ads.html#l308" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l624"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:258:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l258" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l625"><pre>                      <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:259:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l259" title="To spec">To spec</a></li></ul></span>              : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l626"><pre>                      <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:260:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l260" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">Resolve_conflict_proc<ul><li><a href="unzip.ads.html#unzip.ads:180:9" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l180" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l627"><pre>                      <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:261:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l261" title="To spec">To spec</a></li></ul></span>             : <span class="droplink">Tell_data_proc<ul><li><a href="unzip.ads.html#unzip.ads:194:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l194" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l628"><pre>                      <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:262:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l262" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Get_password_proc<ul><li><a href="unzip.ads.html#unzip.ads:186:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l186" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l629"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:263:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l263" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l630"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:264:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l264" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l631"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:265:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l265" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l632"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l633"><pre> </pre></li>
<li id="l634"><pre>      header_index  : Positive; </pre></li>
<li id="l635"><pre>      comp_size     : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l636"><pre>      uncomp_size   : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l637"><pre>      work_password : Unbounded_String := To_Unbounded_String (<span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:264:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l264" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l638"><pre>      <span class="keyword">use</span> <span class="droplink">Zip<ul><li><a href="zip.ads.html#zip.ads:45:9" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l9" title="To body">To body</a></li></ul></span>, <span class="droplink">Zip_Streams<ul><li><a href="zip_streams.ads.html#zip_streams.ads:31:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l10" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l639"><pre>      MyStream      : <span class="keyword">aliased</span> <span class="droplink">File_Zipstream<ul><li><a href="zip_streams.ads.html#zip_streams.ads:125:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l125" title="To spec">To spec</a></li><li><a href="src_zip_streams.ads.html#l212" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l640"><pre>      input_stream  : <span class="droplink">Zipstream_Class<ul><li><a href="zip_streams.ads.html#zip_streams.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l43" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l641"><pre>      use_a_file    : <span class="keyword">constant</span> Boolean := <span class="droplink">Zip.Zip_Stream<ul><li><a href="zip.ads.html#zip.ads:88:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l88" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l314" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:257:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span>) = <span class="keyword">null</span>; </pre></li>
<li id="l642"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l643"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l641" title="defined at unzip.adb:641:7">use_a_file</a> <span class="keyword">then</span> </pre></li>
<li id="l644"><pre>         <a href="src_unzip.adb.html#l640" title="defined at unzip.adb:640:7">input_stream</a> := <a href="src_unzip.adb.html#l639" title="defined at unzip.adb:639:7">MyStream</a>&apos;Unchecked_Access; </pre></li>
<li id="l645"><pre>         <span class="droplink">Set_Name<ul><li><a href="zip_streams.ads.html#zip_streams.ads:56:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l56" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l12" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l640" title="defined at unzip.adb:640:7">input_stream</a>, <span class="droplink">Zip.Zip_name<ul><li><a href="zip.ads.html#zip.ads:84:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l84" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l296" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:257:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span>)); </pre></li>
<li id="l646"><pre>         <span class="droplink">Open<ul><li><a href="zip_streams.ads.html#zip_streams.ads:131:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l131" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l162" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l639" title="defined at unzip.adb:639:7">MyStream</a>, Ada.Streams.Stream_IO.In_File); </pre></li>
<li id="l647"><pre>      <span class="keyword">else</span> <span class="comment">-- use the given stream</span> </pre></li>
<li id="l648"><pre>         <a href="src_unzip.adb.html#l640" title="defined at unzip.adb:640:7">input_stream</a> := <span class="droplink">Zip.Zip_Stream<ul><li><a href="zip.ads.html#zip.ads:88:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l88" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l314" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:257:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l649"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l650"><pre>      <span class="keyword">if</span> <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:259:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l259" title="To spec">To spec</a></li></ul></span> = <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l651"><pre>         <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> := yes_to_all; <span class="comment">-- non - interactive</span> </pre></li>
<li id="l652"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l653"><pre>      <span class="droplink">Zip.Find_offset<ul><li><a href="zip.ads.html#zip.ads:184:14" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l184" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l525" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:257:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span>, <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:258:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l258" title="To spec">To spec</a></li></ul></span>, <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:263:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l263" title="To spec">To spec</a></li></ul></span> (case_sensitive_match), </pre></li>
<li id="l654"><pre>                       Ada.Streams.Stream_IO.Positive_Count (<a href="src_unzip.adb.html#l634" title="defined at unzip.adb:634:7">header_index</a>), </pre></li>
<li id="l655"><pre>                       <a href="src_unzip.adb.html#l635" title="defined at unzip.adb:635:7">comp_size</a>, </pre></li>
<li id="l656"><pre>                       <a href="src_unzip.adb.html#l636" title="defined at unzip.adb:636:7">uncomp_size</a>); </pre></li>
<li id="l657"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l636" title="defined at unzip.adb:636:7">uncomp_size</a>); </pre></li>
<li id="l658"><pre> </pre></li>
<li id="l659"><pre>      <span class="droplink">UnZipFile<ul><li><a href="src_unzip.adb.html#l15" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l15" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l640" title="defined at unzip.adb:640:7">input_stream</a>, </pre></li>
<li id="l660"><pre>                 <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:258:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l258" title="To spec">To spec</a></li></ul></span>, False, </pre></li>
<li id="l661"><pre>                 <a href="src_unzip.adb.html#l634" title="defined at unzip.adb:634:7">header_index</a>, </pre></li>
<li id="l662"><pre>                 <a href="src_unzip.adb.html#l635" title="defined at unzip.adb:635:7">comp_size</a>, </pre></li>
<li id="l663"><pre>                 <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:259:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l259" title="To spec">To spec</a></li></ul></span>, <span class="droplink">help_the_file_exists<ul><li><a href="unzip.ads.html#unzip.ads:260:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l260" title="To spec">To spec</a></li></ul></span>, <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:261:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l261" title="To spec">To spec</a></li></ul></span>, <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:262:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l262" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l664"><pre>                 <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:263:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l263" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l665"><pre>                 <a href="src_unzip.adb.html#l637" title="defined at unzip.adb:637:7">work_password</a>, </pre></li>
<li id="l666"><pre>                 <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:265:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l265" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l631" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l667"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l634" title="defined at unzip.adb:634:7">header_index</a>, <a href="src_unzip.adb.html#l637" title="defined at unzip.adb:637:7">work_password</a>); </pre></li>
<li id="l668"><pre> </pre></li>
<li id="l669"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l641" title="defined at unzip.adb:641:7">use_a_file</a> <span class="keyword">then</span> </pre></li>
<li id="l670"><pre>         <span class="droplink">Close<ul><li><a href="zip_streams.ads.html#zip_streams.ads:138:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l138" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l176" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l639" title="defined at unzip.adb:639:7">MyStream</a>); </pre></li>
<li id="l671"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l672"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:257:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l257" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l623" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l673"><pre> </pre></li>
<li id="l674"><pre>   <span class="comment">-- Extract one precise file (what) from an archive (from)</span> </pre></li>
<li id="l675"><pre>   <span class="comment">-- but save under a new name (rename)</span> </pre></li>
<li id="l676"><pre>   <span class="comment">-- Needs Zip.Load (from, . .. ) prior to the extraction</span> </pre></li>
<li id="l677"><pre> </pre></li>
<li id="l678"><pre>   <span class="keyword">procedure</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:272:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:272:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li></ul></span>                  : <span class="droplink">Zip.Zip_info<ul><li><a href="zip.ads.html#zip.ads:53:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l53" title="To spec">To spec</a></li><li><a href="src_zip.ads.html#l308" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l679"><pre>                      <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:273:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l273" title="To spec">To spec</a></li></ul></span>                  : String; </pre></li>
<li id="l680"><pre>                      <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:274:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l274" title="To spec">To spec</a></li></ul></span>                : String; </pre></li>
<li id="l681"><pre>                      <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:275:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l275" title="To spec">To spec</a></li></ul></span>              : <span class="droplink">Zip.Feedback_proc<ul><li><a href="zip.ads.html#zip.ads:203:8" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l203" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l682"><pre>                      <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:276:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l276" title="To spec">To spec</a></li></ul></span>             : <span class="droplink">Tell_data_proc<ul><li><a href="unzip.ads.html#unzip.ads:194:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l194" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l683"><pre>                      <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:277:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l277" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Get_password_proc<ul><li><a href="unzip.ads.html#unzip.ads:186:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l186" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l684"><pre>                      <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:278:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l278" title="To spec">To spec</a></li></ul></span>               : <span class="droplink">Option_set<ul><li><a href="unzip.ads.html#unzip.ads:62:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l62" title="To spec">To spec</a></li></ul></span> := <span class="droplink">no_option<ul><li><a href="unzip.ads.html#unzip.ads:64:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l64" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l685"><pre>                      <span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:279:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l279" title="To spec">To spec</a></li></ul></span>              : String := <span class="string">&quot;&quot;</span>; </pre></li>
<li id="l686"><pre>                      <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:280:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l280" title="To spec">To spec</a></li></ul></span>  : <span class="droplink">FS_routines_type<ul><li><a href="unzip.ads.html#unzip.ads:87:8" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l87" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_routines<ul><li><a href="unzip.ads.html#unzip.ads:94:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l94" title="To spec">To spec</a></li></ul></span> </pre></li>
<li id="l687"><pre>                     ) <span class="keyword">is</span> </pre></li>
<li id="l688"><pre> </pre></li>
<li id="l689"><pre>      header_index  : Positive; </pre></li>
<li id="l690"><pre>      comp_size     : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l691"><pre>      uncomp_size   : <span class="droplink">File_size_type<ul><li><a href="unzip.ads.html#unzip.ads:190:11" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l190" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l692"><pre>      work_password : Unbounded_String := To_Unbounded_String (<span class="droplink">password<ul><li><a href="unzip.ads.html#unzip.ads:279:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l279" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l693"><pre>      <span class="keyword">use</span> <span class="droplink">Zip<ul><li><a href="zip.ads.html#zip.ads:45:9" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l9" title="To body">To body</a></li></ul></span>, <span class="droplink">Zip_Streams<ul><li><a href="zip_streams.ads.html#zip_streams.ads:31:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l10" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l694"><pre>      MyStream      : <span class="keyword">aliased</span> <span class="droplink">File_Zipstream<ul><li><a href="zip_streams.ads.html#zip_streams.ads:125:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l125" title="To spec">To spec</a></li><li><a href="src_zip_streams.ads.html#l212" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l695"><pre>      input_stream  : <span class="droplink">Zipstream_Class<ul><li><a href="zip_streams.ads.html#zip_streams.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l43" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l696"><pre>      use_a_file    : <span class="keyword">constant</span> Boolean := <span class="droplink">Zip.Zip_Stream<ul><li><a href="zip.ads.html#zip.ads:88:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l88" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l314" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:272:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l678" title="To body">To body</a></li></ul></span>) = <span class="keyword">null</span>; </pre></li>
<li id="l697"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l698"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l696" title="defined at unzip.adb:696:7">use_a_file</a> <span class="keyword">then</span> </pre></li>
<li id="l699"><pre>         <a href="src_unzip.adb.html#l695" title="defined at unzip.adb:695:7">input_stream</a> := <a href="src_unzip.adb.html#l694" title="defined at unzip.adb:694:7">MyStream</a>&apos;Unchecked_Access; </pre></li>
<li id="l700"><pre>         <span class="droplink">Set_Name<ul><li><a href="zip_streams.ads.html#zip_streams.ads:56:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l56" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l12" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l695" title="defined at unzip.adb:695:7">input_stream</a>, <span class="droplink">Zip.Zip_name<ul><li><a href="zip.ads.html#zip.ads:84:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l84" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l296" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:272:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l678" title="To body">To body</a></li></ul></span>)); </pre></li>
<li id="l701"><pre>         <span class="droplink">Open<ul><li><a href="zip_streams.ads.html#zip_streams.ads:131:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l131" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l162" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l694" title="defined at unzip.adb:694:7">MyStream</a>, Ada.Streams.Stream_IO.In_File); </pre></li>
<li id="l702"><pre>      <span class="keyword">else</span> <span class="comment">-- use the given stream</span> </pre></li>
<li id="l703"><pre>         <a href="src_unzip.adb.html#l695" title="defined at unzip.adb:695:7">input_stream</a> := <span class="droplink">Zip.Zip_Stream<ul><li><a href="zip.ads.html#zip.ads:88:12" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l88" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l314" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:272:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l678" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l704"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l705"><pre>      <span class="keyword">if</span> <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:275:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l275" title="To spec">To spec</a></li></ul></span> = <span class="keyword">null</span> <span class="keyword">then</span> </pre></li>
<li id="l706"><pre>         <span class="droplink">current_user_attitude<ul><li><a href="unzip.ads.html#unzip.ads:177:3" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l177" title="To spec">To spec</a></li></ul></span> := yes_to_all; <span class="comment">-- non - interactive</span> </pre></li>
<li id="l707"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l708"><pre>      <span class="droplink">Zip.Find_offset<ul><li><a href="zip.ads.html#zip.ads:184:14" title="To API doc">To API doc</a></li><li><a href="src_zip.ads.html#l184" title="To spec">To spec</a></li><li><a href="src_zip.adb.html#l525" title="To body">To body</a></li></ul></span> (<span class="droplink">from<ul><li><a href="unzip.ads.html#unzip.ads:272:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l678" title="To body">To body</a></li></ul></span>, <span class="droplink">what<ul><li><a href="unzip.ads.html#unzip.ads:273:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l273" title="To spec">To spec</a></li></ul></span>, <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:278:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l278" title="To spec">To spec</a></li></ul></span> (case_sensitive_match), </pre></li>
<li id="l709"><pre>                       Ada.Streams.Stream_IO.Positive_Count (<a href="src_unzip.adb.html#l689" title="defined at unzip.adb:689:7">header_index</a>), </pre></li>
<li id="l710"><pre>                       <a href="src_unzip.adb.html#l690" title="defined at unzip.adb:690:7">comp_size</a>, </pre></li>
<li id="l711"><pre>                       <a href="src_unzip.adb.html#l691" title="defined at unzip.adb:691:7">uncomp_size</a>); </pre></li>
<li id="l712"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l691" title="defined at unzip.adb:691:7">uncomp_size</a>); </pre></li>
<li id="l713"><pre> </pre></li>
<li id="l714"><pre>      <span class="droplink">UnZipFile<ul><li><a href="src_unzip.adb.html#l15" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l15" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l695" title="defined at unzip.adb:695:7">input_stream</a>, </pre></li>
<li id="l715"><pre>                 <span class="droplink">rename<ul><li><a href="unzip.ads.html#unzip.ads:274:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l274" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l716"><pre>                 False, </pre></li>
<li id="l717"><pre>                 <a href="src_unzip.adb.html#l689" title="defined at unzip.adb:689:7">header_index</a>, </pre></li>
<li id="l718"><pre>                 <a href="src_unzip.adb.html#l690" title="defined at unzip.adb:690:7">comp_size</a>, </pre></li>
<li id="l719"><pre>                 <span class="droplink">feedback<ul><li><a href="unzip.ads.html#unzip.ads:275:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l275" title="To spec">To spec</a></li></ul></span>, <span class="keyword">null</span>, <span class="droplink">tell_data<ul><li><a href="unzip.ads.html#unzip.ads:276:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l276" title="To spec">To spec</a></li></ul></span>, <span class="droplink">get_pwd<ul><li><a href="unzip.ads.html#unzip.ads:277:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l277" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l720"><pre>                 <span class="droplink">options<ul><li><a href="unzip.ads.html#unzip.ads:278:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l278" title="To spec">To spec</a></li></ul></span>, </pre></li>
<li id="l721"><pre>                 <a href="src_unzip.adb.html#l692" title="defined at unzip.adb:692:7">work_password</a>, </pre></li>
<li id="l722"><pre>                 <span class="droplink">file_system_routines<ul><li><a href="unzip.ads.html#unzip.ads:280:22" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l280" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l686" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l723"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_unzip.adb.html#l689" title="defined at unzip.adb:689:7">header_index</a>, <a href="src_unzip.adb.html#l692" title="defined at unzip.adb:692:7">work_password</a>); </pre></li>
<li id="l724"><pre> </pre></li>
<li id="l725"><pre>      <span class="keyword">if</span> <a href="src_unzip.adb.html#l696" title="defined at unzip.adb:696:7">use_a_file</a> <span class="keyword">then</span> </pre></li>
<li id="l726"><pre>         <span class="droplink">Close<ul><li><a href="zip_streams.ads.html#zip_streams.ads:138:14" title="To API doc">To API doc</a></li><li><a href="src_zip_streams.ads.html#l138" title="To spec">To spec</a></li><li><a href="src_zip_streams.adb.html#l176" title="To body">To body</a></li></ul></span> (<a href="src_unzip.adb.html#l694" title="defined at unzip.adb:694:7">MyStream</a>); </pre></li>
<li id="l727"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l728"><pre>   <span class="keyword">end</span> <span class="droplink">Extract<ul><li><a href="unzip.ads.html#unzip.ads:272:13" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l272" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l678" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l729"><pre> </pre></li>
<li id="l730"><pre><span class="keyword">end</span> <span class="droplink">UnZip<ul><li><a href="unzip.ads.html#unzip.ads:53:9" title="To API doc">To API doc</a></li><li><a href="src_unzip.ads.html#l53" title="To spec">To spec</a></li><li><a href="src_unzip.adb.html#l6" title="To body">To body</a></li></ul></span>; </pre></li>
</ol></div>
</div>

</body>
</html>
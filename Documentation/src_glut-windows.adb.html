<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript"/>

  <title>
    File: glut-windows.adb
  </title>
  <link rel='stylesheet' href='support/docgen.css' type='text/css'/>
  <link rel='stylesheet' href='support/tags.css' type='text/css'/>
  <script src='support/docgen.js' type='text/javascript' charset='utf-8'></script>
</head>
<body onload="onloadDoc();">

<div id='leftSide'>
  <div id='leftSideInside'>
  <div id='header'>
    <h2 class="button">Documentation</h2>
    <a href='toc.html'><div class="button2">Table of Contents</div></a>

    <a href='tree.html'><div class="button2">Class Inheritance Tree</div></a>

  </div>
  </div>
</div> <!-- leftSide -->

<div class='subprograms'>
  <div class='details'><ol><li id="l1"><pre><span class="comment">------------------------------------------------------------------------------</span> </pre></li>
<li id="l2"><pre><span class="comment">--  File :            GLUT - Windows.adb</span> </pre></li>
<li id="l3"><pre><span class="comment">--  Description :     models a GLUT window</span> </pre></li>
<li id="l4"><pre><span class="comment">--  Copyright (c) Gautier de Montmollin/Rod Kay 2006 .. 2007</span> </pre></li>
<li id="l5"><pre><span class="comment">------------------------------------------------------------------------------</span> </pre></li>
<li id="l6"><pre> </pre></li>
<li id="l7"><pre><span class="comment">-- with opengl.glx;</span> </pre></li>
<li id="l8"><pre> </pre></li>
<li id="l9"><pre><span class="keyword">with</span> <span class="droplink">GL<ul><li><a href="gl.ads.html#gl.ads:66:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l66" title="To spec">To spec</a></li><li><a href="src_gl.adb.html#l17" title="To body">To body</a></li></ul></span>, <span class="droplink">GL.IO<ul><li><a href="gl-io.ads.html#gl-io.ads:45:12" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_gl-io.adb.html#l14" title="To body">To body</a></li></ul></span>, <span class="droplink">GL.Frustums<ul><li><a href="gl-frustums.ads.html#gl-frustums.ads:19:12" title="To API doc">To API doc</a></li><li><a href="src_gl-frustums.ads.html#l19" title="To spec">To spec</a></li><li><a href="src_gl-frustums.adb.html#l1" title="To body">To body</a></li></ul></span>, <span class="droplink">GLU<ul><li><a href="glu.ads.html#glu.ads:48:9" title="To API doc">To API doc</a></li><li><a href="src_glu.ads.html#l48" title="To spec">To spec</a></li><li><a href="src_glu.adb.html#l3" title="To body">To body</a></li></ul></span>,  <span class="droplink">GLUT<ul><li><a href="glut.ads.html#glut.ads:22:9" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l22" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l7" title="To body">To body</a></li></ul></span>;  <span class="keyword">use</span> <span class="droplink">GL<ul><li><a href="gl.ads.html#gl.ads:66:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l66" title="To spec">To spec</a></li><li><a href="src_gl.adb.html#l17" title="To body">To body</a></li></ul></span>, <span class="droplink">GL.IO<ul><li><a href="gl-io.ads.html#gl-io.ads:45:12" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_gl-io.adb.html#l14" title="To body">To body</a></li></ul></span>, <span class="droplink">GL.Frustums<ul><li><a href="gl-frustums.ads.html#gl-frustums.ads:19:12" title="To API doc">To API doc</a></li><li><a href="src_gl-frustums.ads.html#l19" title="To spec">To spec</a></li><li><a href="src_gl-frustums.adb.html#l1" title="To body">To body</a></li></ul></span>, <span class="droplink">GLU<ul><li><a href="glu.ads.html#glu.ads:48:9" title="To API doc">To API doc</a></li><li><a href="src_glu.ads.html#l48" title="To spec">To spec</a></li><li><a href="src_glu.adb.html#l3" title="To body">To body</a></li></ul></span>,  <span class="droplink">GLUT<ul><li><a href="glut.ads.html#glut.ads:22:9" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l22" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l7" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l10"><pre> </pre></li>
<li id="l11"><pre><span class="comment">--  with GLOBE_3D;</span> </pre></li>
<li id="l12"><pre><span class="comment">--  with GLOBE_3D.IO;</span> </pre></li>
<li id="l13"><pre><span class="keyword">with</span> <span class="droplink">GLOBE_3D.Math<ul><li><a href="globe_3d-math.ads.html#globe_3d-math.ads:1:18" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-math.ads.html#l1" title="To spec">To spec</a></li><li><a href="src_globe_3d-math.adb.html#l1" title="To body">To body</a></li></ul></span>;                       <span class="keyword">use</span> <span class="droplink">GLOBE_3D.Math<ul><li><a href="globe_3d-math.ads.html#globe_3d-math.ads:1:18" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-math.ads.html#l1" title="To spec">To spec</a></li><li><a href="src_globe_3d-math.adb.html#l1" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l14"><pre><span class="keyword">with</span> <span class="droplink">GLOBE_3D.Software_Anti_Aliasing<ul><li><a href="globe_3d-software_anti_aliasing.ads.html#globe_3d-software_anti_aliasing.ads:9:18" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-software_anti_aliasing.ads.html#l9" title="To spec">To spec</a></li><li><a href="src_globe_3d-software_anti_aliasing.adb.html#l8" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l15"><pre> </pre></li>
<li id="l16"><pre><span class="keyword">with</span> <span class="droplink">Actors<ul><li><a href="actors.ads.html#actors.ads:11:9" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l11" title="To spec">To spec</a></li><li><a href="src_actors.adb.html#l4" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l17"><pre><span class="keyword">with</span> <span class="droplink">GLUT_2D<ul><li><a href="glut_2d.ads.html#glut_2d.ads:5:9" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l5" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l3" title="To body">To body</a></li></ul></span>;  <span class="comment">--, GLUT_Exit;</span> </pre></li>
<li id="l18"><pre> </pre></li>
<li id="l19"><pre><span class="comment">-- with Ada.Text_IO;</span> </pre></li>
<li id="l20"><pre> </pre></li>
<li id="l21"><pre><span class="keyword">with</span> Ada.Numerics;                      <span class="keyword">use</span> Ada.Numerics; </pre></li>
<li id="l22"><pre><span class="keyword">with</span> Ada.Unchecked_Conversion; </pre></li>
<li id="l23"><pre> </pre></li>
<li id="l24"><pre><span class="comment">-- with Ada.Containers.Generic_Array_Sort;</span> </pre></li>
<li id="l25"><pre> </pre></li>
<li id="l26"><pre><span class="keyword">with</span> Ada.Calendar; </pre></li>
<li id="l27"><pre> </pre></li>
<li id="l28"><pre><span class="comment">-- with System.Storage_Elements;</span> </pre></li>
<li id="l29"><pre> </pre></li>
<li id="l30"><pre><span class="keyword">package</span> <span class="keyword">body</span> <span class="droplink">GLUT.Windows<ul><li><a href="glut-windows.ads.html#glut-windows.ads:21:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l21" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l31"><pre> </pre></li>
<li id="l32"><pre>   <span class="keyword">package</span> G3D  <span class="keyword">renames</span> <span class="droplink">GLOBE_3D<ul><li><a href="globe_3d.ads.html#globe_3d.ads:77:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l77" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l17" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l33"><pre> </pre></li>
<li id="l34"><pre>   <span class="keyword">use</span> Ada.Strings.Unbounded; </pre></li>
<li id="l35"><pre> </pre></li>
<li id="l36"><pre>   deg2rad       : <span class="keyword">constant</span> := Pi / 180.0; </pre></li>
<li id="l37"><pre>   GLUT_Problem  : <span class="keyword">exception</span>; </pre></li>
<li id="l38"><pre> </pre></li>
<li id="l39"><pre>   <span class="comment">-- current_Window  : - for accessing the current GLUT window</span> </pre></li>
<li id="l40"><pre>   <span class="comment">--                  - used by GLUT callbacks to determine the Window to which a callback event relates.</span> </pre></li>
<li id="l41"><pre>   <span class="comment">--</span> </pre></li>
<li id="l42"><pre>   <span class="keyword">function</span> current_Window <span class="keyword">return</span> <span class="droplink">Window_view<ul><li><a href="glut-windows.ads.html#glut-windows.ads:26:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l26" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l43"><pre> </pre></li>
<li id="l44"><pre>      <span class="keyword">function</span> to_Window <span class="keyword">is</span> <span class="keyword">new</span> Ada.Unchecked_Conversion (System.Address, <span class="droplink">GLOBE_3D.p_Window<ul><li><a href="globe_3d.ads.html#globe_3d.ads:460:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l460" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l45"><pre> </pre></li>
<li id="l46"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l47"><pre>      <span class="keyword">return</span> <span class="droplink">GLUT.Windows.Window_view<ul><li><a href="glut-windows.ads.html#glut-windows.ads:26:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l26" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l44" title="defined at glut-windows.adb:44:16">to_Window</a> (<span class="droplink">GetWindowData<ul><li><a href="glut.ads.html#glut.ads:377:13" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l377" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l15" title="To body">To body</a></li></ul></span>)); </pre></li>
<li id="l48"><pre>   <span class="keyword">end</span> <span class="droplink">current_Window<ul><li><a href="src_glut-windows.adb.html#l42" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l42" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l49"><pre> </pre></li>
<li id="l50"><pre>   <span class="keyword">procedure</span> <span class="droplink">Name_is<ul><li><a href="glut-windows.ads.html#glut-windows.ads:31:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l31" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:31:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l31" title="To spec">To spec</a></li></ul></span> : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; <span class="droplink">Now<ul><li><a href="glut-windows.ads.html#glut-windows.ads:31:45" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l31" title="To spec">To spec</a></li></ul></span>  : String) <span class="keyword">is</span> </pre></li>
<li id="l51"><pre> </pre></li>
<li id="l52"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l53"><pre>      Self.Name := To_Unbounded_String (<span class="droplink">Now<ul><li><a href="glut-windows.ads.html#glut-windows.ads:31:45" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l31" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l54"><pre>   <span class="keyword">end</span> <span class="droplink">Name_is<ul><li><a href="glut-windows.ads.html#glut-windows.ads:31:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l31" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l50" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l55"><pre> </pre></li>
<li id="l56"><pre>   <span class="keyword">function</span> <span class="droplink">Name<ul><li><a href="glut-windows.ads.html#glut-windows.ads:32:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l32" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:32:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l32" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">return</span> String <span class="keyword">is</span> (To_String (Self.Name)); </pre></li>
<li id="l57"><pre> </pre></li>
<li id="l58"><pre>   <span class="keyword">function</span> <span class="droplink">is_Closed<ul><li><a href="glut-windows.ads.html#glut-windows.ads:40:13" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l40" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:40:24" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l40" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">return</span> Boolean <span class="keyword">is</span> (Self.is_Closed); </pre></li>
<li id="l59"><pre> </pre></li>
<li id="l60"><pre>   <span class="keyword">procedure</span> Prepare_default_lighting (Self  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l61"><pre>                                       fact  :        <span class="droplink">GL.C_Float<ul><li><a href="gl.ads.html#gl.ads:126:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l126" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l62"><pre> </pre></li>
<li id="l63"><pre>      proto_light  : <span class="droplink">G3D.Light_definition<ul><li><a href="globe_3d.ads.html#globe_3d.ads:488:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l488" title="To spec">To spec</a></li></ul></span> := (position =&gt; (0.0, 500.0,  0.0,  1.0), </pre></li>
<li id="l64"><pre>                                              ambient  =&gt; (0.3,   0.3,  0.3,  <a href="src_glut-windows.adb.html#l61" title="defined at glut-windows.adb:61:40">fact</a>), </pre></li>
<li id="l65"><pre>                                              diffuse  =&gt; (0.9,   0.9,  0.9,  <a href="src_glut-windows.adb.html#l61" title="defined at glut-windows.adb:61:40">fact</a>), </pre></li>
<li id="l66"><pre>                                              specular =&gt; (0.05,  0.05, 0.01, <a href="src_glut-windows.adb.html#l61" title="defined at glut-windows.adb:61:40">fact</a>)); </pre></li>
<li id="l67"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l68"><pre>      <span class="droplink">GL.Enable<ul><li><a href="gl.ads.html#gl.ads:704:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l704" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4140" title="To body">To body</a></li></ul></span> (GL.LIGHTING); </pre></li>
<li id="l69"><pre> </pre></li>
<li id="l70"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (1, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l71"><pre>      Self.frontal_light   := <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>; </pre></li>
<li id="l72"><pre> </pre></li>
<li id="l73"><pre>      proto_light.diffuse  := (0.5, 0.9, 0.5, <a href="src_glut-windows.adb.html#l61" title="defined at glut-windows.adb:61:40">fact</a>); </pre></li>
<li id="l74"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (2, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l75"><pre> </pre></li>
<li id="l76"><pre>      proto_light.diffuse  := (0.2, 0.0, 0.9, <a href="src_glut-windows.adb.html#l61" title="defined at glut-windows.adb:61:40">fact</a>); </pre></li>
<li id="l77"><pre>      proto_light.specular := (1.0, 1.0, 1.0, <a href="src_glut-windows.adb.html#l61" title="defined at glut-windows.adb:61:40">fact</a>); </pre></li>
<li id="l78"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (3, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l79"><pre> </pre></li>
<li id="l80"><pre>      proto_light.position := (-3.0, 4.0, 10.0, 1.0); </pre></li>
<li id="l81"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (4, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l82"><pre> </pre></li>
<li id="l83"><pre>      proto_light.position := (3.0, -4.0, 10.0, 1.0); </pre></li>
<li id="l84"><pre>      proto_light.ambient  := (0.6, 0.6, 0.6, 0.1); </pre></li>
<li id="l85"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (5, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l86"><pre> </pre></li>
<li id="l87"><pre>      proto_light.ambient  := (0.6, 0.0, 0.0, 0.1); </pre></li>
<li id="l88"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (6, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l89"><pre> </pre></li>
<li id="l90"><pre>      proto_light.ambient  := (0.0, 0.6, 0.0, 0.1); </pre></li>
<li id="l91"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (7, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l92"><pre> </pre></li>
<li id="l93"><pre>      proto_light.ambient  := (0.0, 0.0, 0.6, 0.1); </pre></li>
<li id="l94"><pre>      <span class="droplink">G3D.Define<ul><li><a href="globe_3d.ads.html#globe_3d.ads:492:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l492" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l833" title="To body">To body</a></li></ul></span> (8, <a href="src_glut-windows.adb.html#l63" title="defined at glut-windows.adb:63:7">proto_light</a>); </pre></li>
<li id="l95"><pre> </pre></li>
<li id="l96"><pre>      <span class="droplink">G3D.Switch_lights<ul><li><a href="globe_3d.ads.html#globe_3d.ads:494:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l494" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l846" title="To body">To body</a></li></ul></span> (True); </pre></li>
<li id="l97"><pre> </pre></li>
<li id="l98"><pre>      <span class="droplink">G3D.Switch_light<ul><li><a href="globe_3d.ads.html#globe_3d.ads:495:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l495" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l860" title="To body">To body</a></li></ul></span> (2, False); </pre></li>
<li id="l99"><pre>      <span class="droplink">G3D.Switch_light<ul><li><a href="globe_3d.ads.html#globe_3d.ads:495:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l495" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l860" title="To body">To body</a></li></ul></span> (3, False); </pre></li>
<li id="l100"><pre>      <span class="droplink">G3D.Switch_light<ul><li><a href="globe_3d.ads.html#globe_3d.ads:495:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l495" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l860" title="To body">To body</a></li></ul></span> (4, False); </pre></li>
<li id="l101"><pre>      <span class="droplink">G3D.Switch_light<ul><li><a href="globe_3d.ads.html#globe_3d.ads:495:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l495" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l860" title="To body">To body</a></li></ul></span> (5, False); </pre></li>
<li id="l102"><pre>      <span class="droplink">G3D.Switch_light<ul><li><a href="globe_3d.ads.html#globe_3d.ads:495:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l495" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l860" title="To body">To body</a></li></ul></span> (6, False); </pre></li>
<li id="l103"><pre>      <span class="droplink">G3D.Switch_light<ul><li><a href="globe_3d.ads.html#globe_3d.ads:495:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l495" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l860" title="To body">To body</a></li></ul></span> (7, False); </pre></li>
<li id="l104"><pre>      <span class="droplink">G3D.Switch_light<ul><li><a href="globe_3d.ads.html#globe_3d.ads:495:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l495" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l860" title="To body">To body</a></li></ul></span> (8, False); </pre></li>
<li id="l105"><pre> </pre></li>
<li id="l106"><pre>   <span class="keyword">end</span> <span class="droplink">Prepare_default_lighting<ul><li><a href="src_glut-windows.adb.html#l60" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l60" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l107"><pre> </pre></li>
<li id="l108"><pre>   <span class="keyword">procedure</span> Clear_modes <span class="keyword">is</span> </pre></li>
<li id="l109"><pre> </pre></li>
<li id="l110"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l111"><pre>      <span class="droplink">Disable<ul><li><a href="gl.ads.html#gl.ads:706:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l706" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4141" title="To body">To body</a></li></ul></span> (BLEND); </pre></li>
<li id="l112"><pre>      <span class="droplink">Disable<ul><li><a href="gl.ads.html#gl.ads:706:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l706" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4141" title="To body">To body</a></li></ul></span> (LIGHTING); </pre></li>
<li id="l113"><pre>      <span class="droplink">Disable<ul><li><a href="gl.ads.html#gl.ads:706:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l706" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4141" title="To body">To body</a></li></ul></span> (AUTO_NORMAL); </pre></li>
<li id="l114"><pre>      <span class="droplink">Disable<ul><li><a href="gl.ads.html#gl.ads:706:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l706" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4141" title="To body">To body</a></li></ul></span> (NORMALIZE); </pre></li>
<li id="l115"><pre>      <span class="droplink">Disable<ul><li><a href="gl.ads.html#gl.ads:706:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l706" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4141" title="To body">To body</a></li></ul></span> (DEPTH_TEST); </pre></li>
<li id="l116"><pre>   <span class="keyword">end</span> <span class="droplink">Clear_modes<ul><li><a href="src_glut-windows.adb.html#l108" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l108" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l117"><pre> </pre></li>
<li id="l118"><pre>   <span class="keyword">procedure</span> Reset_for_3D (Self : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class) <span class="keyword">is</span> </pre></li>
<li id="l119"><pre> </pre></li>
<li id="l120"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l121"><pre>      <span class="keyword">pragma</span> Unreferenced (<a href="src_glut-windows.adb.html#l118" title="defined at glut-windows.adb:118:28">Self</a>); </pre></li>
<li id="l122"><pre>      <span class="droplink">MatrixMode<ul><li><a href="gl.ads.html#gl.ads:1338:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l1338" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4165" title="To body">To body</a></li></ul></span> (MODELVIEW);    <span class="comment">-- (tbd : still needed ?) . .. The matrix generated by GLU.Perspective is multipled by the current matrix</span> </pre></li>
<li id="l123"><pre>      <span class="droplink">ShadeModel<ul><li><a href="gl.ads.html#gl.ads:1633:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l1633" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4343" title="To body">To body</a></li></ul></span> (SMOOTH);       <span class="comment">-- GL&apos;s default is SMOOTH, vs FLAT</span> </pre></li>
<li id="l124"><pre>      <span class="comment">-- ShadeModel (FLAT);       -- GL&apos;s default is SMOOTH, vs FLAT</span> </pre></li>
<li id="l125"><pre> </pre></li>
<li id="l126"><pre>      <span class="droplink">ClearColor<ul><li><a href="gl.ads.html#gl.ads:3192:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3192" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4117" title="To body">To body</a></li></ul></span> (0.0, 0.0, 0.0, 0.0);    <span class="comment">-- Specifies clear values for color buffer (s)</span> </pre></li>
<li id="l127"><pre>      <span class="droplink">ClearAccum<ul><li><a href="gl.ads.html#gl.ads:3201:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3201" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4163" title="To body">To body</a></li></ul></span> (0.0, 0.0, 0.0, 0.0);    <span class="comment">-- Specifies clear values for the accumulation buffer</span> </pre></li>
<li id="l128"><pre>   <span class="keyword">end</span> <span class="droplink">Reset_for_3D<ul><li><a href="src_glut-windows.adb.html#l118" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l118" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l129"><pre> </pre></li>
<li id="l130"><pre>   <span class="keyword">procedure</span> enable_Viewport_and_Perspective (Self : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class) <span class="keyword">is</span>  <span class="comment">-- tbd : move projection matrix to &apos;window resize&apos;.</span> </pre></li>
<li id="l131"><pre> </pre></li>
<li id="l132"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l133"><pre>      <span class="droplink">Viewport<ul><li><a href="gl.ads.html#gl.ads:3272:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3272" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4107" title="To body">To body</a></li></ul></span> (0,  0, Self.main_size_x, Self.main_size_y); </pre></li>
<li id="l134"><pre> </pre></li>
<li id="l135"><pre>      <span class="droplink">MatrixMode<ul><li><a href="gl.ads.html#gl.ads:1338:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l1338" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4165" title="To body">To body</a></li></ul></span> (PROJECTION); </pre></li>
<li id="l136"><pre>      <span class="droplink">LoadIdentity<ul><li><a href="gl.ads.html#gl.ads:3282:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3282" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4171" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l137"><pre> </pre></li>
<li id="l138"><pre>      <span class="droplink">GLU.Perspective<ul><li><a href="glu.ads.html#glu.ads:600:14" title="To API doc">To API doc</a></li><li><a href="src_glu.ads.html#l600" title="To spec">To spec</a></li><li><a href="src_glu.ads.html#l670" title="To body">To body</a></li></ul></span> (<span class="droplink">fovy<ul><li><a href="glu.ads.html#glu.ads:600:27" title="To API doc">To API doc</a></li><li><a href="src_glu.ads.html#l600" title="To spec">To spec</a></li></ul></span>   =&gt; Self.Camera.FOVy,                    <span class="comment">-- field of view angle (deg) in the y direction</span> </pre></li>
<li id="l139"><pre>                       <span class="droplink">aspect<ul><li><a href="glu.ads.html#glu.ads:601:27" title="To API doc">To API doc</a></li><li><a href="src_glu.ads.html#l601" title="To spec">To spec</a></li></ul></span> =&gt; Self.Camera.Aspect,                  <span class="comment">-- x/y aspect ratio</span> </pre></li>
<li id="l140"><pre>                       <span class="droplink">zNear<ul><li><a href="glu.ads.html#glu.ads:602:27" title="To API doc">To API doc</a></li><li><a href="src_glu.ads.html#l602" title="To spec">To spec</a></li></ul></span>  =&gt; Self.Camera.near_plane_Distance,     <span class="comment">-- distance from the viewer to the near clipping plane</span> </pre></li>
<li id="l141"><pre>                       <span class="droplink">zFar<ul><li><a href="glu.ads.html#glu.ads:603:27" title="To API doc">To API doc</a></li><li><a href="src_glu.ads.html#l603" title="To spec">To spec</a></li></ul></span>   =&gt; Self.Camera.far_plane_Distance);     <span class="comment">-- distance from the viewer to the far clipping plane</span> </pre></li>
<li id="l142"><pre> </pre></li>
<li id="l143"><pre>      <span class="droplink">Get<ul><li><a href="gl.ads.html#gl.ads:1192:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l1192" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l3925" title="To body">To body</a></li></ul></span> (GL.PROJECTION_MATRIX,  Self.Camera.Projection_Matrix (1, 1)&apos;Unchecked_Access);   <span class="comment">-- Get the current PROJECTION matrix from OpenGL</span> </pre></li>
<li id="l144"><pre> </pre></li>
<li id="l145"><pre>      Self.Camera.Projection_Matrix := <span class="droplink">Transpose<ul><li><a href="globe_3d-math.ads.html#globe_3d-math.ads:57:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-math.ads.html#l57" title="To spec">To spec</a></li><li><a href="src_globe_3d-math.adb.html#l138" title="To body">To body</a></li></ul></span> (Self.Camera.Projection_Matrix); </pre></li>
<li id="l146"><pre> </pre></li>
<li id="l147"><pre>      <span class="droplink">MatrixMode<ul><li><a href="gl.ads.html#gl.ads:1338:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l1338" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4165" title="To body">To body</a></li></ul></span> (MODELVIEW);    <span class="comment">-- The matrix generated by GLU.Perspective is multipled by the current matrix</span> </pre></li>
<li id="l148"><pre>   <span class="keyword">end</span> <span class="droplink">enable_Viewport_and_Perspective<ul><li><a href="src_glut-windows.adb.html#l130" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l130" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l149"><pre> </pre></li>
<li id="l150"><pre>   <span class="keyword">procedure</span> set_Size (Self : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class;  width, height : Integer) <span class="keyword">is</span> </pre></li>
<li id="l151"><pre> </pre></li>
<li id="l152"><pre>      <span class="keyword">use</span> <a href="src_glut-windows.adb.html#l32" title="defined at glut-windows.adb:32:12">G3D</a>; </pre></li>
<li id="l153"><pre>      <span class="keyword">use</span> <span class="droplink">REF<ul><li><a href="globe_3d.ads.html#globe_3d.ads:103:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l103" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l154"><pre> </pre></li>
<li id="l155"><pre>      half_fov_max_rads         : <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l156"><pre>      Tan_of_half_fov_max_rads  : <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l157"><pre> </pre></li>
<li id="l158"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l159"><pre>      Self.main_size_x  := <span class="droplink">GL.Sizei<ul><li><a href="gl.ads.html#gl.ads:125:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l150" title="defined at glut-windows.adb:150:53">width</a>); </pre></li>
<li id="l160"><pre>      Self.main_size_y  := <span class="droplink">GL.Sizei<ul><li><a href="gl.ads.html#gl.ads:125:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l150" title="defined at glut-windows.adb:150:60">height</a>); </pre></li>
<li id="l161"><pre> </pre></li>
<li id="l162"><pre>      Self.Camera.Clipper.main_clipping.X1 := 0; </pre></li>
<li id="l163"><pre>      Self.Camera.Clipper.main_clipping.Y1 := 0; </pre></li>
<li id="l164"><pre>      Self.Camera.Clipper.main_clipping.X2 := <a href="src_glut-windows.adb.html#l150" title="defined at glut-windows.adb:150:53">width</a> - 1; </pre></li>
<li id="l165"><pre>      Self.Camera.Clipper.main_clipping.Y2 := <a href="src_glut-windows.adb.html#l150" title="defined at glut-windows.adb:150:60">height</a> - 1; </pre></li>
<li id="l166"><pre> </pre></li>
<li id="l167"><pre>      Self.Camera.Aspect := <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span> (Self.main_size_x) / <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span> (Self.main_size_y); </pre></li>
<li id="l168"><pre>      <a href="src_glut-windows.adb.html#l155" title="defined at glut-windows.adb:155:7">half_fov_max_rads</a>        := 0.5 * Self.Camera.FOVy * <a href="src_glut-windows.adb.html#l36" title="defined at glut-windows.adb:36:4">deg2rad</a>; </pre></li>
<li id="l169"><pre> </pre></li>
<li id="l170"><pre>      <a href="src_glut-windows.adb.html#l156" title="defined at glut-windows.adb:156:7">Tan_of_half_fov_max_rads</a> := Tan (<a href="src_glut-windows.adb.html#l155" title="defined at glut-windows.adb:155:7">half_fov_max_rads</a>); </pre></li>
<li id="l171"><pre> </pre></li>
<li id="l172"><pre>      Self.Camera.near_plane_Height := Self.Camera.near_plane_Distance * <a href="src_glut-windows.adb.html#l156" title="defined at glut-windows.adb:156:7">Tan_of_half_fov_max_rads</a>; </pre></li>
<li id="l173"><pre>      Self.Camera.near_plane_Width  := Self.Camera.near_plane_Height   * Self.Camera.Aspect; </pre></li>
<li id="l174"><pre> </pre></li>
<li id="l175"><pre>      Self.Camera.far_plane_Height  := Self.Camera.far_plane_Distance * <a href="src_glut-windows.adb.html#l156" title="defined at glut-windows.adb:156:7">Tan_of_half_fov_max_rads</a>; </pre></li>
<li id="l176"><pre>      Self.Camera.far_plane_Width   := Self.Camera.far_plane_Height   * Self.Camera.Aspect; </pre></li>
<li id="l177"><pre> </pre></li>
<li id="l178"><pre>      <span class="keyword">if</span> Self.Camera.Aspect &gt; 1.0 <span class="keyword">then</span> <span class="comment">-- x side angle broader than y side angle</span> </pre></li>
<li id="l179"><pre>         <a href="src_glut-windows.adb.html#l155" title="defined at glut-windows.adb:155:7">half_fov_max_rads</a> := Arctan (Self.Camera.Aspect * <a href="src_glut-windows.adb.html#l156" title="defined at glut-windows.adb:156:7">Tan_of_half_fov_max_rads</a>); </pre></li>
<li id="l180"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l181"><pre> </pre></li>
<li id="l182"><pre>      Self.Camera.Clipper.max_dot_product := Sin (<a href="src_glut-windows.adb.html#l155" title="defined at glut-windows.adb:155:7">half_fov_max_rads</a>); </pre></li>
<li id="l183"><pre> </pre></li>
<li id="l184"><pre>   <span class="keyword">end</span> <span class="droplink">set_Size<ul><li><a href="src_glut-windows.adb.html#l150" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l150" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l185"><pre> </pre></li>
<li id="l186"><pre>   <span class="comment">-- Procedures passed to GLUT:</span> </pre></li>
<li id="l187"><pre>   <span class="comment">--   Window_Resize, Keyboard, Motion, Menu, Mouse, Display</span> </pre></li>
<li id="l188"><pre> </pre></li>
<li id="l189"><pre>   <span class="keyword">procedure</span> Window_Resize (width, height  : Integer) <span class="keyword">is</span> </pre></li>
<li id="l190"><pre> </pre></li>
<li id="l191"><pre>      the_Window  : <span class="keyword">constant</span> <span class="droplink">GLUT.Windows.Window_view<ul><li><a href="glut-windows.ads.html#glut-windows.ads:26:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l26" title="To spec">To spec</a></li></ul></span> := <span class="droplink">current_Window<ul><li><a href="src_glut-windows.adb.html#l42" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l42" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l192"><pre> </pre></li>
<li id="l193"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l194"><pre>      <a href="src_glut-windows.adb.html#l191" title="defined at glut-windows.adb:191:7">the_Window</a>.<span class="keyword">all</span>.forget_mouse := 5; </pre></li>
<li id="l195"><pre>      <span class="droplink">set_Size<ul><li><a href="src_glut-windows.adb.html#l150" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l150" title="To body">To body</a></li></ul></span>     (<a href="src_glut-windows.adb.html#l191" title="defined at glut-windows.adb:191:7">the_Window</a>.<span class="keyword">all</span>,  <a href="src_glut-windows.adb.html#l189" title="defined at glut-windows.adb:189:29">width</a>, <a href="src_glut-windows.adb.html#l189" title="defined at glut-windows.adb:189:36">height</a>); </pre></li>
<li id="l196"><pre>      <span class="droplink">Reset_for_3D<ul><li><a href="src_glut-windows.adb.html#l118" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l118" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l191" title="defined at glut-windows.adb:191:7">the_Window</a>.<span class="keyword">all</span>); </pre></li>
<li id="l197"><pre>   <span class="keyword">end</span> <span class="droplink">Window_Resize<ul><li><a href="src_glut-windows.adb.html#l189" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l189" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l198"><pre> </pre></li>
<li id="l199"><pre>   <span class="keyword">procedure</span> Menu (value  : Integer) <span class="keyword">is</span> </pre></li>
<li id="l200"><pre> </pre></li>
<li id="l201"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l202"><pre>      <span class="keyword">case</span> <a href="src_glut-windows.adb.html#l199" title="defined at glut-windows.adb:199:20">value</a> <span class="keyword">is</span> </pre></li>
<li id="l203"><pre>         <span class="keyword">when</span> 1 =&gt; <span class="comment">-- GLUT.GameModeString (Full_Screen_Mode);</span> </pre></li>
<li id="l204"><pre>            <span class="droplink">GLUT.FullScreen<ul><li><a href="glut.ads.html#glut.ads:419:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l419" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l420" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l205"><pre>            <span class="comment">-- res := GLUT.EnterGameMode;</span> </pre></li>
<li id="l206"><pre>            <span class="droplink">GLUT.SetCursor<ul><li><a href="glut.ads.html#glut.ads:422:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l422" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l423" title="To body">To body</a></li></ul></span> (<span class="droplink">GLUT.CURSOR_NONE<ul><li><a href="glut.ads.html#glut.ads:288:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l288" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l207"><pre>            <span class="droplink">current_Window<ul><li><a href="src_glut-windows.adb.html#l42" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l42" title="To body">To body</a></li></ul></span>.<span class="keyword">all</span>.forget_mouse := 10; </pre></li>
<li id="l208"><pre>            <span class="droplink">current_Window<ul><li><a href="src_glut-windows.adb.html#l42" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l42" title="To body">To body</a></li></ul></span>.<span class="keyword">all</span>.full_screen  := True; </pre></li>
<li id="l209"><pre>         <span class="keyword">when</span> 2 =&gt; <span class="keyword">null</span>; <span class="comment">-- GLUT_exit;</span> </pre></li>
<li id="l210"><pre>         <span class="keyword">when</span> <span class="keyword">others</span> =&gt; <span class="keyword">null</span>; </pre></li>
<li id="l211"><pre>      <span class="keyword">end</span> <span class="keyword">case</span>; </pre></li>
<li id="l212"><pre>   <span class="keyword">end</span> <span class="droplink">Menu<ul><li><a href="src_glut-windows.adb.html#l199" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l199" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l213"><pre>   <span class="keyword">pragma</span> Unreferenced (<span class="droplink">Menu<ul><li><a href="src_glut-windows.adb.html#l199" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l199" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l214"><pre> </pre></li>
<li id="l215"><pre>   <span class="keyword">procedure</span> <span class="droplink">Display_status<ul><li><a href="glut-windows.ads.html#glut-windows.ads:67:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l67" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:67:30" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l67" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l216"><pre>                             <span class="droplink">sec<ul><li><a href="glut-windows.ads.html#glut-windows.ads:68:30" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l68" title="To spec">To spec</a></li></ul></span>   : <span class="droplink">GLOBE_3D.Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l217"><pre> </pre></li>
<li id="l218"><pre>      <span class="keyword">use</span> <a href="src_glut-windows.adb.html#l32" title="defined at glut-windows.adb:32:12">G3D</a>, <span class="droplink">G3D.REF<ul><li><a href="globe_3d.ads.html#globe_3d.ads:103:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l103" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l219"><pre> </pre></li>
<li id="l220"><pre>      light_info  : String (1 .. 8); </pre></li>
<li id="l221"><pre> </pre></li>
<li id="l222"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l223"><pre>      <span class="droplink">PushMatrix<ul><li><a href="gl.ads.html#gl.ads:3278:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3278" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4169" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l224"><pre> </pre></li>
<li id="l225"><pre>      <span class="droplink">Disable<ul><li><a href="gl.ads.html#gl.ads:706:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l706" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4141" title="To body">To body</a></li></ul></span> (LIGHTING); </pre></li>
<li id="l226"><pre>      <span class="droplink">Disable<ul><li><a href="gl.ads.html#gl.ads:706:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l706" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4141" title="To body">To body</a></li></ul></span> (TEXTURE_2D); </pre></li>
<li id="l227"><pre> </pre></li>
<li id="l228"><pre>      <span class="droplink">Color<ul><li><a href="gl.ads.html#gl.ads:3404:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3404" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l3891" title="To body">To body</a></li></ul></span> (<span class="droplink">red<ul><li><a href="gl.ads.html#gl.ads:3404:21" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3404" title="To spec">To spec</a></li></ul></span>   =&gt; 0.7, </pre></li>
<li id="l229"><pre>             <span class="droplink">green<ul><li><a href="gl.ads.html#gl.ads:3404:26" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3404" title="To spec">To spec</a></li></ul></span> =&gt; 0.7, </pre></li>
<li id="l230"><pre>             <span class="droplink">blue<ul><li><a href="gl.ads.html#gl.ads:3404:33" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3404" title="To spec">To spec</a></li></ul></span>  =&gt; 0.6); </pre></li>
<li id="l231"><pre> </pre></li>
<li id="l232"><pre>      <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:36:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l36" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l66" title="To body">To body</a></li></ul></span> ((1.0, 0.0, 0.0),  <span class="string">&quot; (x)&quot;</span>,  GLUT_2D.Times_Roman_24); </pre></li>
<li id="l233"><pre>      <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:36:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l36" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l66" title="To body">To body</a></li></ul></span> ((0.0, 1.0, 0.0),  <span class="string">&quot; (y)&quot;</span>,  GLUT_2D.Times_Roman_24); </pre></li>
<li id="l234"><pre>      <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:36:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l36" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l66" title="To body">To body</a></li></ul></span> ((0.0, 0.0, 1.0),  <span class="string">&quot; (z)&quot;</span>,  GLUT_2D.Times_Roman_24); </pre></li>
<li id="l235"><pre> </pre></li>
<li id="l236"><pre>      <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:27:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l27" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l51" title="To body">To body</a></li></ul></span> (0,  50,  Self.main_size_x,  Self.main_size_y, </pre></li>
<li id="l237"><pre>                           <span class="string">&quot;Eye : &quot;</span> &amp; <span class="droplink">Coords<ul><li><a href="globe_3d.ads.html#globe_3d.ads:507:13" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l507" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l36" title="To body">To body</a></li></ul></span> (Self.Camera.Clipper.Eye_Position), </pre></li>
<li id="l238"><pre>                           GLUT_2D.Helvetica_10); </pre></li>
<li id="l239"><pre> </pre></li>
<li id="l240"><pre>      <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:27:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l27" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l51" title="To body">To body</a></li></ul></span> (0,  60,  Self.main_size_x,  Self.main_size_y, </pre></li>
<li id="l241"><pre>                           <span class="string">&quot;View direction : &quot;</span> &amp; <span class="droplink">Coords<ul><li><a href="globe_3d.ads.html#globe_3d.ads:507:13" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l507" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l36" title="To body">To body</a></li></ul></span> (Self.Camera.Clipper.view_direction), </pre></li>
<li id="l242"><pre>                           GLUT_2D.Helvetica_10); </pre></li>
<li id="l243"><pre> </pre></li>
<li id="l244"><pre>      <span class="keyword">for</span> i <span class="keyword">in</span> <a href="src_glut-windows.adb.html#l220" title="defined at glut-windows.adb:220:7">light_info</a>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l245"><pre> </pre></li>
<li id="l246"><pre>         <span class="keyword">if</span> <span class="droplink">Is_light_switched<ul><li><a href="globe_3d.ads.html#globe_3d.ads:499:13" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l499" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l872" title="To body">To body</a></li></ul></span> (i) <span class="keyword">then</span> </pre></li>
<li id="l247"><pre>            <a href="src_glut-windows.adb.html#l220" title="defined at glut-windows.adb:220:7">light_info</a> (i) := Character&apos;Val (Character&apos;Pos (<span class="string">&apos;0&apos;</span>) + i); </pre></li>
<li id="l248"><pre>         <span class="keyword">else</span> </pre></li>
<li id="l249"><pre>            <a href="src_glut-windows.adb.html#l220" title="defined at glut-windows.adb:220:7">light_info</a> (i) := <span class="string">&apos;x&apos;</span>; </pre></li>
<li id="l250"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l251"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l252"><pre> </pre></li>
<li id="l253"><pre>      <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:27:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l27" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l51" title="To body">To body</a></li></ul></span> (0, 70, Self.main_size_x, Self.main_size_y, <span class="string">&quot;Lights : (&quot;</span> &amp; <a href="src_glut-windows.adb.html#l220" title="defined at glut-windows.adb:220:7">light_info</a> &amp; <span class="string">&apos;)&apos;</span>, GLUT_2D.Helvetica_10); </pre></li>
<li id="l254"><pre> </pre></li>
<li id="l255"><pre>      <span class="keyword">if</span> <span class="droplink">sec<ul><li><a href="glut-windows.ads.html#glut-windows.ads:68:30" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l68" title="To spec">To spec</a></li></ul></span> &gt; 0.0 <span class="keyword">then</span> </pre></li>
<li id="l256"><pre>         <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:27:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l27" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l51" title="To body">To body</a></li></ul></span> (0, 130, Self.main_size_x, Self.main_size_y, <span class="string">&quot;FPS : &quot;</span> &amp; Integer&apos;<span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (Integer (1.0 / <span class="droplink">sec<ul><li><a href="glut-windows.ads.html#glut-windows.ads:68:30" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l68" title="To spec">To spec</a></li></ul></span>)), GLUT_2D.Helvetica_10); </pre></li>
<li id="l257"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l258"><pre> </pre></li>
<li id="l259"><pre>      <span class="keyword">if</span> Self.is_capturing_Video <span class="keyword">then</span> </pre></li>
<li id="l260"><pre>         <span class="droplink">GLUT_2D.Text_output<ul><li><a href="glut_2d.ads.html#glut_2d.ads:27:13" title="To API doc">To API doc</a></li><li><a href="src_glut_2d.ads.html#l27" title="To spec">To spec</a></li><li><a href="src_glut_2d.adb.html#l51" title="To body">To body</a></li></ul></span> (0, 150, Self.main_size_x, Self.main_size_y, <span class="string">&quot;*recording*&quot;</span>, GLUT_2D.Helvetica_10); </pre></li>
<li id="l261"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l262"><pre> </pre></li>
<li id="l263"><pre>      <span class="droplink">PopMatrix<ul><li><a href="gl.ads.html#gl.ads:3280:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3280" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4170" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l264"><pre> </pre></li>
<li id="l265"><pre>   <span class="keyword">end</span> <span class="droplink">Display_status<ul><li><a href="glut-windows.ads.html#glut-windows.ads:67:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l67" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l215" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l266"><pre> </pre></li>
<li id="l267"><pre>   <span class="keyword">function</span> <span class="droplink">Frames_per_second<ul><li><a href="glut-windows.ads.html#glut-windows.ads:70:13" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l70" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:70:32" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l70" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">return</span> Float <span class="keyword">is</span> (Float (1.0 / (Self.Average * 0.001))); </pre></li>
<li id="l268"><pre> </pre></li>
<li id="l269"><pre>   <span class="keyword">procedure</span> Graphic_display (Self    : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class; </pre></li>
<li id="l270"><pre>                              Extras  :        <span class="droplink">GLOBE_3D.Visual_array<ul><li><a href="globe_3d.ads.html#globe_3d.ads:210:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l210" title="To spec">To spec</a></li></ul></span> := <span class="droplink">GLOBE_3D.null_Visuals<ul><li><a href="globe_3d.ads.html#globe_3d.ads:241:4" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l241" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l271"><pre> </pre></li>
<li id="l272"><pre>      <span class="keyword">use</span> <a href="src_glut-windows.adb.html#l32" title="defined at glut-windows.adb:32:12">G3D</a>; </pre></li>
<li id="l273"><pre> </pre></li>
<li id="l274"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l275"><pre>      <span class="droplink">G3D.render<ul><li><a href="globe_3d.ads.html#globe_3d.ads:243:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l243" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l1069" title="To body">To body</a></li></ul></span> (Self.Objects (1 .. Self.object_Count) &amp; <a href="src_glut-windows.adb.html#l270" title="defined at glut-windows.adb:270:31">Extras</a>, Self.Camera); </pre></li>
<li id="l276"><pre> </pre></li>
<li id="l277"><pre>      <span class="keyword">if</span> Self.Show_Status <span class="keyword">then</span> </pre></li>
<li id="l278"><pre>         <span class="droplink">Display_status<ul><li><a href="glut-windows.ads.html#glut-windows.ads:67:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l67" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l215" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l269" title="defined at glut-windows.adb:269:31">Self</a>,  Self.Average * 0.001); </pre></li>
<li id="l279"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l280"><pre>   <span class="keyword">end</span> <span class="droplink">Graphic_display<ul><li><a href="src_glut-windows.adb.html#l269" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l269" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l281"><pre> </pre></li>
<li id="l282"><pre>   <span class="keyword">procedure</span> Fill_screen (Self    : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class; </pre></li>
<li id="l283"><pre>                          Extras  :        <span class="droplink">GLOBE_3D.Visual_array<ul><li><a href="globe_3d.ads.html#globe_3d.ads:210:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l210" title="To spec">To spec</a></li></ul></span> := <span class="droplink">GLOBE_3D.null_Visuals<ul><li><a href="globe_3d.ads.html#globe_3d.ads:241:4" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l241" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l284"><pre> </pre></li>
<li id="l285"><pre>      <span class="keyword">procedure</span> Display <span class="keyword">is</span> </pre></li>
<li id="l286"><pre> </pre></li>
<li id="l287"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l288"><pre>         <span class="droplink">Graphic_display<ul><li><a href="src_glut-windows.adb.html#l269" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l269" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l282" title="defined at glut-windows.adb:282:27">Self</a>, <a href="src_glut-windows.adb.html#l283" title="defined at glut-windows.adb:283:27">Extras</a>); </pre></li>
<li id="l289"><pre>      <span class="keyword">end</span> <span class="droplink">Display<ul><li><a href="src_glut-windows.adb.html#l285" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l285" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l290"><pre> </pre></li>
<li id="l291"><pre>      <span class="keyword">package</span> SAA <span class="keyword">is</span> <span class="keyword">new</span> <span class="droplink">GLOBE_3D.Software_Anti_Aliasing<ul><li><a href="globe_3d-software_anti_aliasing.ads.html#globe_3d-software_anti_aliasing.ads:9:18" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-software_anti_aliasing.ads.html#l9" title="To spec">To spec</a></li><li><a href="src_globe_3d-software_anti_aliasing.adb.html#l8" title="To body">To body</a></li></ul></span> (<span class="droplink">Display<ul><li><a href="src_glut-windows.adb.html#l285" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l285" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l292"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l293"><pre> </pre></li>
<li id="l294"><pre>      <span class="keyword">case</span> Self.Smoothing <span class="keyword">is</span> </pre></li>
<li id="l295"><pre> </pre></li>
<li id="l296"><pre>         <span class="keyword">when</span> Software =&gt; </pre></li>
<li id="l297"><pre>            <span class="droplink">SAA.Set_Quality<ul><li><a href="globe_3d-software_anti_aliasing.ads.html#globe_3d-software_anti_aliasing.ads:22:13" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-software_anti_aliasing.ads.html#l22" title="To spec">To spec</a></li><li><a href="src_globe_3d-software_anti_aliasing.adb.html#l172" title="To body">To body</a></li></ul></span> (SAA.Q3); </pre></li>
<li id="l298"><pre>            <span class="keyword">for</span> SAA_Phase <span class="keyword">in</span> 1 .. <span class="droplink">SAA.Anti_Alias_phases<ul><li><a href="globe_3d-software_anti_aliasing.ads.html#globe_3d-software_anti_aliasing.ads:13:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-software_anti_aliasing.ads.html#l13" title="To spec">To spec</a></li><li><a href="src_globe_3d-software_anti_aliasing.adb.html#l112" title="To body">To body</a></li></ul></span> <span class="keyword">loop</span> </pre></li>
<li id="l299"><pre>               <span class="droplink">SAA.Display_with_Anti_Aliasing<ul><li><a href="globe_3d-software_anti_aliasing.ads.html#globe_3d-software_anti_aliasing.ads:17:13" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-software_anti_aliasing.ads.html#l17" title="To spec">To spec</a></li><li><a href="src_globe_3d-software_anti_aliasing.adb.html#l121" title="To body">To body</a></li></ul></span> (SAA_Phase); </pre></li>
<li id="l300"><pre>            <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l301"><pre> </pre></li>
<li id="l302"><pre>         <span class="keyword">when</span> Hardware =&gt; </pre></li>
<li id="l303"><pre>            <span class="droplink">Enable<ul><li><a href="gl.ads.html#gl.ads:704:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l704" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4140" title="To body">To body</a></li></ul></span> (MULTISAMPLE_ARB); <span class="comment">-- (if not done yet)</span> </pre></li>
<li id="l304"><pre> </pre></li>
<li id="l305"><pre>            <span class="comment">-- ClearColor (0.0, 0.0, 0.0, 1.0);    -- Specifies clear values for color buffer (s)</span> </pre></li>
<li id="l306"><pre>            <span class="comment">-- ClearColor (0.15, 0.4, 0.15, 1.0);    -- Specifies clear values for color buffer (s)  -- tbd : make clear color user - settable</span> </pre></li>
<li id="l307"><pre>            <span class="droplink">ClearColor<ul><li><a href="gl.ads.html#gl.ads:3192:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3192" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4117" title="To body">To body</a></li></ul></span> (0.0, 0.0, 0.0, 1.0);    <span class="comment">-- Specifies clear values for color buffer (s)  -- tbd : make clear color user - settable</span> </pre></li>
<li id="l308"><pre>            <span class="droplink">ClearAccum<ul><li><a href="gl.ads.html#gl.ads:3201:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3201" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4163" title="To body">To body</a></li></ul></span> (0.0,  0.0, 0.0,  0.0);    <span class="comment">-- Specifies clear values for the accumulation buffer</span> </pre></li>
<li id="l309"><pre> </pre></li>
<li id="l310"><pre>            <span class="droplink">Graphic_display<ul><li><a href="src_glut-windows.adb.html#l269" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l269" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l282" title="defined at glut-windows.adb:282:27">Self</a>, <a href="src_glut-windows.adb.html#l283" title="defined at glut-windows.adb:283:27">Extras</a>); </pre></li>
<li id="l311"><pre>            <span class="droplink">Flush<ul><li><a href="gl.ads.html#gl.ads:3250:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3250" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4157" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l312"><pre> </pre></li>
<li id="l313"><pre>         <span class="keyword">when</span> None =&gt; </pre></li>
<li id="l314"><pre>            <span class="droplink">Graphic_display<ul><li><a href="src_glut-windows.adb.html#l269" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l269" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l282" title="defined at glut-windows.adb:282:27">Self</a>, <a href="src_glut-windows.adb.html#l283" title="defined at glut-windows.adb:283:27">Extras</a>); </pre></li>
<li id="l315"><pre>            <span class="droplink">Flush<ul><li><a href="gl.ads.html#gl.ads:3250:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3250" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4157" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l316"><pre>      <span class="keyword">end</span> <span class="keyword">case</span>; </pre></li>
<li id="l317"><pre> </pre></li>
<li id="l318"><pre>      <span class="droplink">GLUT.SwapBuffers<ul><li><a href="glut.ads.html#glut.ads:369:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l369" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l370" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l319"><pre>   <span class="keyword">end</span> <span class="droplink">Fill_screen<ul><li><a href="src_glut-windows.adb.html#l282" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l282" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l320"><pre> </pre></li>
<li id="l321"><pre>   <span class="keyword">procedure</span> Reset_eye  (Self  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class) <span class="keyword">is</span> </pre></li>
<li id="l322"><pre> </pre></li>
<li id="l323"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l324"><pre>      Self.Camera.Clipper.Eye_Position := (0.0,  5.0,  4.0); </pre></li>
<li id="l325"><pre>      Self.Camera.World_Rotation       := <span class="droplink">GLOBE_3D.Id_33<ul><li><a href="globe_3d.ads.html#globe_3d.ads:117:4" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l117" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l326"><pre>   <span class="keyword">end</span> <span class="droplink">Reset_eye<ul><li><a href="src_glut-windows.adb.html#l321" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l321" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l327"><pre> </pre></li>
<li id="l328"><pre>   <span class="keyword">function</span> <a href="src_glut-windows.adb.html#l690" title="defined at glut-windows.adb:328:13">Image</a> (Date : Ada.Calendar.Time) <span class="keyword">return</span> String; </pre></li>
<li id="l329"><pre>   <span class="comment">-- Proxy for Ada 2005 Ada.Calendar.Formatting.Image</span> </pre></li>
<li id="l330"><pre> </pre></li>
<li id="l331"><pre>   <span class="keyword">procedure</span> Main_Operations (Self       : <span class="keyword">access</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l332"><pre>                              time_Step  :        <span class="droplink">G3D.Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l333"><pre>                              Extras     :        <span class="droplink">GLOBE_3D.Visual_array<ul><li><a href="globe_3d.ads.html#globe_3d.ads:210:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l210" title="To spec">To spec</a></li></ul></span> := <span class="droplink">GLOBE_3D.null_Visuals<ul><li><a href="globe_3d.ads.html#globe_3d.ads:241:4" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l241" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l334"><pre> </pre></li>
<li id="l335"><pre>      <span class="keyword">use</span> <a href="src_glut-windows.adb.html#l32" title="defined at glut-windows.adb:32:12">G3D</a>, <span class="droplink">G3D.REF<ul><li><a href="globe_3d.ads.html#globe_3d.ads:103:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l103" title="To spec">To spec</a></li></ul></span>, <span class="droplink">Game_Control<ul><li><a href="game_control.ads.html#game_control.ads:12:9" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l12" title="To spec">To spec</a></li><li><a href="src_game_control.adb.html#l8" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l336"><pre> </pre></li>
<li id="l337"><pre>      elaps, time_now     : Integer; </pre></li>
<li id="l338"><pre>      gx,    gy           : <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>;   <span class="comment">-- mouse movement since last call</span> </pre></li>
<li id="l339"><pre>      seconds             : <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>;   <span class="comment">-- seconds since last image</span> </pre></li>
<li id="l340"><pre>      alpha_correct       : Boolean; </pre></li>
<li id="l341"><pre>      attenu_t, attenu_r  : <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l342"><pre> </pre></li>
<li id="l343"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l344"><pre>      <span class="keyword">if</span> <span class="keyword">not</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.is_Visible <span class="keyword">or</span> <span class="keyword">else</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.is_Closed <span class="keyword">then</span> </pre></li>
<li id="l345"><pre>         <span class="keyword">return</span>; </pre></li>
<li id="l346"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l347"><pre> </pre></li>
<li id="l348"><pre>      <span class="droplink">enable_Viewport_and_Perspective<ul><li><a href="src_glut-windows.adb.html#l130" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l130" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>);   <span class="comment">-- nb : must be done prior to setting frustum planes (when using GL.frustums.current_Planes)</span> </pre></li>
<li id="l349"><pre> </pre></li>
<li id="l350"><pre>      <span class="comment">-- Control of lighting</span> </pre></li>
<li id="l351"><pre>      <span class="comment">--</span> </pre></li>
<li id="l352"><pre>      <span class="comment">--        self.frontal_light.position := (GL.Float (self.Camera.Clipper.eye_Position (0)),</span> </pre></li>
<li id="l353"><pre>      <span class="comment">--                                              GL.Float (self.Camera.Clipper.eye_Position (1)),</span> </pre></li>
<li id="l354"><pre>      <span class="comment">--                                              GL.Float (self.Camera.Clipper.eye_Position (2)),</span> </pre></li>
<li id="l355"><pre>      <span class="comment">--                                              1.0);</span> </pre></li>
<li id="l356"><pre>      <span class="comment">--        G3D.Define (1, self.frontal_light);</span> </pre></li>
<li id="l357"><pre> </pre></li>
<li id="l358"><pre>      <span class="keyword">for</span> c <span class="keyword">in</span> n1 .. n8 <span class="keyword">loop</span> </pre></li>
<li id="l359"><pre>         <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command (c) <span class="keyword">then</span> </pre></li>
<li id="l360"><pre>            <span class="droplink">Reverse_light_switch<ul><li><a href="globe_3d.ads.html#globe_3d.ads:497:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l497" title="To spec">To spec</a></li><li><a href="src_globe_3d.adb.html#l878" title="To body">To body</a></li></ul></span> (1 + <span class="droplink">Command<ul><li><a href="game_control.ads.html#game_control.ads:14:9" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l14" title="To spec">To spec</a></li></ul></span>&apos;Pos (c) - <span class="droplink">Command<ul><li><a href="game_control.ads.html#game_control.ads:14:9" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l14" title="To spec">To spec</a></li></ul></span>&apos;Pos (n1)); </pre></li>
<li id="l361"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l362"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l363"><pre> </pre></li>
<li id="l364"><pre>      <span class="comment">-- Display screen</span> </pre></li>
<li id="l365"><pre>      <span class="comment">--</span> </pre></li>
<li id="l366"><pre>      <span class="droplink">Fill_screen<ul><li><a href="src_glut-windows.adb.html#l282" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l282" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>, <a href="src_glut-windows.adb.html#l333" title="defined at glut-windows.adb:333:31">Extras</a>); </pre></li>
<li id="l367"><pre> </pre></li>
<li id="l368"><pre>      <span class="comment">-- Timer management</span> </pre></li>
<li id="l369"><pre>      <span class="comment">--</span> </pre></li>
<li id="l370"><pre>      <a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:14">time_now</a> := <span class="droplink">GLUT.Get<ul><li><a href="glut.ads.html#glut.ads:699:13" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l699" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l700" title="To body">To body</a></li></ul></span> (<span class="droplink">GLUT.ELAPSED_TIME<ul><li><a href="glut.ads.html#glut.ads:201:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l201" title="To spec">To spec</a></li></ul></span>);   <span class="comment">-- Number of milliseconds since GLUT.Init</span> </pre></li>
<li id="l371"><pre> </pre></li>
<li id="l372"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.new_scene <span class="keyword">then</span> </pre></li>
<li id="l373"><pre>         <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.new_scene := False; </pre></li>
<li id="l374"><pre>         <a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:7">elaps</a>          := 0; </pre></li>
<li id="l375"><pre>      <span class="keyword">else</span> </pre></li>
<li id="l376"><pre>         <a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:7">elaps</a>          := <a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:14">time_now</a> - <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.last_time; </pre></li>
<li id="l377"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l378"><pre> </pre></li>
<li id="l379"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.last_time := <a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:14">time_now</a>; </pre></li>
<li id="l380"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Average   := 0.0; </pre></li>
<li id="l381"><pre> </pre></li>
<li id="l382"><pre>      <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">reverse</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample&apos;First + 1 .. <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample&apos;Last <span class="keyword">loop</span> </pre></li>
<li id="l383"><pre>         <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample (i) := <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample (i - 1); </pre></li>
<li id="l384"><pre>         <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Average    := <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Average + <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample (i)); </pre></li>
<li id="l385"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l386"><pre> </pre></li>
<li id="l387"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample&apos;First) := <a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:7">elaps</a>; </pre></li>
<li id="l388"><pre> </pre></li>
<li id="l389"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Average := <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Average + <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:7">elaps</a>); </pre></li>
<li id="l390"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Average := <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Average / <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.sample&apos;Length); </pre></li>
<li id="l391"><pre> </pre></li>
<li id="l392"><pre>      <a href="src_glut-windows.adb.html#l339" title="defined at glut-windows.adb:339:7">seconds</a>  := <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l337" title="defined at glut-windows.adb:337:7">elaps</a>) * 0.001; </pre></li>
<li id="l393"><pre>      <a href="src_glut-windows.adb.html#l341" title="defined at glut-windows.adb:341:7">attenu_t</a> := <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>&apos;Min (0.96, <span class="droplink">Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>&apos;Max (0.04,  1.0 - <a href="src_glut-windows.adb.html#l339" title="defined at glut-windows.adb:339:7">seconds</a> * 4.0)); </pre></li>
<li id="l394"><pre>      <a href="src_glut-windows.adb.html#l341" title="defined at glut-windows.adb:341:17">attenu_r</a> := <a href="src_glut-windows.adb.html#l341" title="defined at glut-windows.adb:341:7">attenu_t</a> ** 0.5; </pre></li>
<li id="l395"><pre> </pre></li>
<li id="l396"><pre>      <span class="comment">-- Game control management</span> </pre></li>
<li id="l397"><pre>      <span class="comment">--</span> </pre></li>
<li id="l398"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command := <span class="droplink">no_command<ul><li><a href="game_control.ads.html#game_control.ads:49:3" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l49" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l399"><pre> </pre></li>
<li id="l400"><pre>      <span class="droplink">Game_Control.Append_Commands<ul><li><a href="game_control.ads.html#game_control.ads:61:13" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l61" title="To spec">To spec</a></li><li><a href="src_game_control.adb.html#l12" title="To body">To body</a></li></ul></span> (<span class="droplink">size_x<ul><li><a href="game_control.ads.html#game_control.ads:61:30" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l61" title="To spec">To spec</a></li></ul></span>     =&gt; Integer (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.main_size_x), </pre></li>
<li id="l401"><pre>                                    <span class="droplink">size_y<ul><li><a href="game_control.ads.html#game_control.ads:62:30" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l62" title="To spec">To spec</a></li></ul></span>     =&gt; Integer (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.main_size_y), </pre></li>
<li id="l402"><pre>                                    <span class="droplink">warp_mouse<ul><li><a href="game_control.ads.html#game_control.ads:63:30" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l63" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.full_screen, </pre></li>
<li id="l403"><pre>                                    <span class="droplink">c<ul><li><a href="game_control.ads.html#game_control.ads:64:30" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l64" title="To spec">To spec</a></li></ul></span>          =&gt; <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command, </pre></li>
<li id="l404"><pre>                                    <span class="droplink">gx<ul><li><a href="game_control.ads.html#game_control.ads:65:30" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l65" title="To spec">To spec</a></li></ul></span>         =&gt; <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:7">gx</a>, </pre></li>
<li id="l405"><pre>                                    <span class="droplink">gy<ul><li><a href="game_control.ads.html#game_control.ads:65:34" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l65" title="To spec">To spec</a></li></ul></span>         =&gt; <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:14">gy</a>, </pre></li>
<li id="l406"><pre>                                    <span class="droplink">Keyboard<ul><li><a href="game_control.ads.html#game_control.ads:66:30" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l66" title="To spec">To spec</a></li></ul></span>   =&gt; <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Keyboard&apos;Access, </pre></li>
<li id="l407"><pre>                                    <span class="droplink">Mouse<ul><li><a href="game_control.ads.html#game_control.ads:67:30" title="To API doc">To API doc</a></li><li><a href="src_game_control.ads.html#l67" title="To spec">To spec</a></li></ul></span>      =&gt; <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Mouse&apos;Access); </pre></li>
<li id="l408"><pre> </pre></li>
<li id="l409"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.forget_mouse &gt; 0 <span class="keyword">then</span> <span class="comment">-- mouse coords disturbed by resize</span> </pre></li>
<li id="l410"><pre>         <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:7">gx</a> := 0.0; </pre></li>
<li id="l411"><pre>         <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:14">gy</a> := 0.0; </pre></li>
<li id="l412"><pre>         <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.forget_mouse := <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.forget_mouse - 1; </pre></li>
<li id="l413"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l414"><pre> </pre></li>
<li id="l415"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command (interrupt_game) <span class="keyword">then</span> </pre></li>
<li id="l416"><pre>         <span class="keyword">null</span>; <span class="comment">-- GLUT_exit;                     -- tbd : how to handle this best ?</span> </pre></li>
<li id="l417"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l418"><pre> </pre></li>
<li id="l419"><pre>      <a href="src_glut-windows.adb.html#l340" title="defined at glut-windows.adb:340:7">alpha_correct</a> := False; </pre></li>
<li id="l420"><pre> </pre></li>
<li id="l421"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command (special_plus)  <span class="keyword">then</span> </pre></li>
<li id="l422"><pre>         <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha := <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha + <a href="src_glut-windows.adb.html#l339" title="defined at glut-windows.adb:339:7">seconds</a>; <a href="src_glut-windows.adb.html#l340" title="defined at glut-windows.adb:340:7">alpha_correct</a> := True; </pre></li>
<li id="l423"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l424"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command (special_minus) <span class="keyword">then</span> </pre></li>
<li id="l425"><pre>         <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha := <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha - <a href="src_glut-windows.adb.html#l339" title="defined at glut-windows.adb:339:7">seconds</a>; <a href="src_glut-windows.adb.html#l340" title="defined at glut-windows.adb:340:7">alpha_correct</a> := True; </pre></li>
<li id="l426"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l427"><pre> </pre></li>
<li id="l428"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l340" title="defined at glut-windows.adb:340:7">alpha_correct</a> <span class="keyword">then</span> </pre></li>
<li id="l429"><pre>         <span class="keyword">if</span>    <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha &lt; 0.0 <span class="keyword">then</span> </pre></li>
<li id="l430"><pre>            <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha := 0.0; </pre></li>
<li id="l431"><pre>         <span class="keyword">elsif</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha &gt; 1.0 <span class="keyword">then</span> </pre></li>
<li id="l432"><pre>            <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha := 1.0; </pre></li>
<li id="l433"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l434"><pre> </pre></li>
<li id="l435"><pre>         <span class="keyword">for</span> Each <span class="keyword">in</span> 1 .. <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.object_Count <span class="keyword">loop</span> </pre></li>
<li id="l436"><pre>            <span class="droplink">set_Alpha<ul><li><a href="globe_3d.ads.html#globe_3d.ads:217:14" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l217" title="To spec">To spec</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Objects (Each).<span class="keyword">all</span>,  <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Alpha); </pre></li>
<li id="l437"><pre>         <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l438"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l439"><pre> </pre></li>
<li id="l440"><pre>      <span class="comment">-- Camera/Eye - nb : camera movement is done after rendering, so camera is in a state ready for the next frame.</span> </pre></li>
<li id="l441"><pre>      <span class="comment">--            -     (important for Impostors)</span> </pre></li>
<li id="l442"><pre> </pre></li>
<li id="l443"><pre>      <span class="comment">-- Rotating the eye</span> </pre></li>
<li id="l444"><pre> </pre></li>
<li id="l445"><pre>      <span class="droplink">Actors.Rotation<ul><li><a href="actors.ads.html#actors.ads:38:14" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l38" title="To spec">To spec</a></li><li><a href="src_actors.adb.html#l66" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera, </pre></li>
<li id="l446"><pre>                       <span class="droplink">gc<ul><li><a href="actors.ads.html#actors.ads:39:24" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l39" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command, </pre></li>
<li id="l447"><pre>                       <span class="droplink">gx<ul><li><a href="actors.ads.html#actors.ads:40:24" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l40" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:7">gx</a>, </pre></li>
<li id="l448"><pre>                       <span class="droplink">gy<ul><li><a href="actors.ads.html#actors.ads:40:28" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l40" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:14">gy</a>, </pre></li>
<li id="l449"><pre>                       <span class="droplink">unitary_change<ul><li><a href="actors.ads.html#actors.ads:41:24" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l41" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l339" title="defined at glut-windows.adb:339:7">seconds</a>, </pre></li>
<li id="l450"><pre>                       <span class="droplink">deceleration<ul><li><a href="actors.ads.html#actors.ads:42:24" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l42" title="To spec">To spec</a></li></ul></span>   =&gt; <a href="src_glut-windows.adb.html#l341" title="defined at glut-windows.adb:341:17">attenu_r</a>, </pre></li>
<li id="l451"><pre>                       <span class="droplink">time_step<ul><li><a href="actors.ads.html#actors.ads:43:24" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l43" title="To spec">To spec</a></li></ul></span>      =&gt; <a href="src_glut-windows.adb.html#l332" title="defined at glut-windows.adb:332:31">time_Step</a>); </pre></li>
<li id="l452"><pre> </pre></li>
<li id="l453"><pre>      <span class="comment">-- Moving the eye</span> </pre></li>
<li id="l454"><pre> </pre></li>
<li id="l455"><pre>      <span class="droplink">Actors.Translation<ul><li><a href="actors.ads.html#actors.ads:17:14" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l17" title="To spec">To spec</a></li><li><a href="src_actors.adb.html#l59" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera, </pre></li>
<li id="l456"><pre>                          <span class="droplink">gc<ul><li><a href="actors.ads.html#actors.ads:18:27" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l18" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command, </pre></li>
<li id="l457"><pre>                          <span class="droplink">gx<ul><li><a href="actors.ads.html#actors.ads:19:27" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l19" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:7">gx</a>, </pre></li>
<li id="l458"><pre>                          <span class="droplink">gy<ul><li><a href="actors.ads.html#actors.ads:19:31" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l19" title="To spec">To spec</a></li></ul></span> =&gt; <a href="src_glut-windows.adb.html#l338" title="defined at glut-windows.adb:338:14">gy</a>, </pre></li>
<li id="l459"><pre>                          <span class="droplink">unitary_change<ul><li><a href="actors.ads.html#actors.ads:20:27" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l20" title="To spec">To spec</a></li></ul></span>     =&gt; <a href="src_glut-windows.adb.html#l339" title="defined at glut-windows.adb:339:7">seconds</a>, </pre></li>
<li id="l460"><pre>                          <span class="droplink">deceleration<ul><li><a href="actors.ads.html#actors.ads:21:27" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l21" title="To spec">To spec</a></li></ul></span>       =&gt; <a href="src_glut-windows.adb.html#l341" title="defined at glut-windows.adb:341:7">attenu_t</a>, </pre></li>
<li id="l461"><pre>                          <span class="droplink">time_step<ul><li><a href="actors.ads.html#actors.ads:22:27" title="To API doc">To API doc</a></li><li><a href="src_actors.ads.html#l22" title="To spec">To spec</a></li></ul></span>          =&gt; <a href="src_glut-windows.adb.html#l332" title="defined at glut-windows.adb:332:31">time_Step</a>); </pre></li>
<li id="l462"><pre> </pre></li>
<li id="l463"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command (n0) <span class="keyword">then</span> </pre></li>
<li id="l464"><pre>         <span class="droplink">Reset_eye<ul><li><a href="src_glut-windows.adb.html#l321" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l321" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>); </pre></li>
<li id="l465"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l466"><pre> </pre></li>
<li id="l467"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera.Clipper.view_direction := <span class="droplink">Transpose<ul><li><a href="globe_3d-math.ads.html#globe_3d-math.ads:56:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-math.ads.html#l56" title="To spec">To spec</a></li><li><a href="src_globe_3d-math.adb.html#l134" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera.World_Rotation) * (0.0, 0.0, -1.0); </pre></li>
<li id="l468"><pre> </pre></li>
<li id="l469"><pre>      <span class="comment">-- update camera frustum</span> </pre></li>
<li id="l470"><pre>      <span class="comment">--</span> </pre></li>
<li id="l471"><pre>      <span class="droplink">MatrixMode<ul><li><a href="gl.ads.html#gl.ads:1338:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l1338" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4165" title="To body">To body</a></li></ul></span>    (MODELVIEW); </pre></li>
<li id="l472"><pre>      <span class="droplink">Set_GL_Matrix<ul><li><a href="globe_3d-math.ads.html#globe_3d-math.ads:80:13" title="To API doc">To API doc</a></li><li><a href="src_globe_3d-math.ads.html#l80" title="To spec">To spec</a></li><li><a href="src_globe_3d-math.adb.html#l283" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera.World_Rotation); </pre></li>
<li id="l473"><pre>      <span class="droplink">Translate<ul><li><a href="gl.ads.html#gl.ads:3306:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3306" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4036" title="To body">To body</a></li></ul></span>     (-<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera.Clipper.Eye_Position (0), -<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera.Clipper.Eye_Position (1), -<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera.Clipper.Eye_Position (2)); </pre></li>
<li id="l474"><pre> </pre></li>
<li id="l475"><pre>      <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Camera.frustum_Planes := <span class="droplink">GL.Frustums.Current_Planes<ul><li><a href="gl-frustums.ads.html#gl-frustums.ads:27:13" title="To API doc">To API doc</a></li><li><a href="src_gl-frustums.ads.html#l27" title="To spec">To spec</a></li><li><a href="src_gl-frustums.adb.html#l13" title="To body">To body</a></li></ul></span>;  <span class="comment">-- tbd : getting frustum planes from camera, might be quicker,</span> </pre></li>
<li id="l476"><pre>      <span class="comment">-- set_frustum_Planes (Self.Camera);                        --      but &apos;set_frustum_Planes&apos; seems buggy :/.</span> </pre></li>
<li id="l477"><pre> </pre></li>
<li id="l478"><pre>      <span class="comment">-- video management</span> </pre></li>
<li id="l479"><pre>      <span class="comment">--</span> </pre></li>
<li id="l480"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command (video) <span class="keyword">then</span> </pre></li>
<li id="l481"><pre>         <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.is_capturing_Video <span class="keyword">then</span> </pre></li>
<li id="l482"><pre>            <span class="droplink">GL.IO.Stop_Capture<ul><li><a href="gl-io.ads.html#gl-io.ads:137:13" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l137" title="To spec">To spec</a></li><li><a href="src_gl-io.adb.html#l1056" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l483"><pre>            <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.is_capturing_Video := False; </pre></li>
<li id="l484"><pre>         <span class="keyword">else</span> </pre></li>
<li id="l485"><pre>            <span class="droplink">GL.IO.Start_Capture<ul><li><a href="gl-io.ads.html#gl-io.ads:133:13" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l133" title="To spec">To spec</a></li><li><a href="src_gl-io.adb.html#l1023" title="To body">To body</a></li></ul></span> (<span class="droplink">AVI_Name<ul><li><a href="gl-io.ads.html#gl-io.ads:133:28" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l133" title="To spec">To spec</a></li></ul></span>   =&gt; To_String (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Name) &amp; <span class="string">&quot;.&quot;</span> &amp; <span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (Ada.Calendar.Clock) &amp; <span class="string">&quot;.avi&quot;</span>, </pre></li>
<li id="l486"><pre>                                 <span class="droplink">frame_rate<ul><li><a href="gl-io.ads.html#gl-io.ads:133:47" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l133" title="To spec">To spec</a></li></ul></span> =&gt; 8); <span class="comment">-- Integer (self.Frames_per_second));</span> </pre></li>
<li id="l487"><pre>            <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.is_capturing_Video := True; </pre></li>
<li id="l488"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l489"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l490"><pre> </pre></li>
<li id="l491"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.is_capturing_Video <span class="keyword">then</span> </pre></li>
<li id="l492"><pre>         <span class="droplink">GL.IO.Capture_Frame<ul><li><a href="gl-io.ads.html#gl-io.ads:135:13" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l135" title="To spec">To spec</a></li><li><a href="src_gl-io.adb.html#l1044" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l493"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l494"><pre> </pre></li>
<li id="l495"><pre>      <span class="comment">-- photo management</span> </pre></li>
<li id="l496"><pre>      <span class="comment">--</span> </pre></li>
<li id="l497"><pre>      <span class="keyword">if</span> <a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.game_command (photo) <span class="keyword">then</span> </pre></li>
<li id="l498"><pre>         <span class="droplink">GL.IO.Screenshot<ul><li><a href="gl-io.ads.html#gl-io.ads:127:13" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l127" title="To spec">To spec</a></li><li><a href="src_gl-io.adb.html#l819" title="To body">To body</a></li></ul></span> (<span class="droplink">Name<ul><li><a href="gl-io.ads.html#gl-io.ads:127:25" title="To API doc">To API doc</a></li><li><a href="src_gl-io.ads.html#l127" title="To spec">To spec</a></li></ul></span> =&gt; To_String (<a href="src_glut-windows.adb.html#l331" title="defined at glut-windows.adb:331:31">Self</a>.<span class="keyword">all</span>.Name) &amp; <span class="string">&quot;.&quot;</span> &amp; <span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (Ada.Calendar.Clock) &amp; <span class="string">&quot;.bmp&quot;</span>); </pre></li>
<li id="l499"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l500"><pre> </pre></li>
<li id="l501"><pre>   <span class="keyword">end</span> <span class="droplink">Main_Operations<ul><li><a href="src_glut-windows.adb.html#l331" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l331" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l502"><pre> </pre></li>
<li id="l503"><pre>   <span class="keyword">procedure</span> Close_Window <span class="keyword">is</span> </pre></li>
<li id="l504"><pre> </pre></li>
<li id="l505"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l506"><pre>      <span class="droplink">current_Window<ul><li><a href="src_glut-windows.adb.html#l42" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l42" title="To body">To body</a></li></ul></span>.<span class="keyword">all</span>.is_Closed := True; </pre></li>
<li id="l507"><pre>   <span class="keyword">end</span> <span class="droplink">Close_Window<ul><li><a href="src_glut-windows.adb.html#l503" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l503" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l508"><pre> </pre></li>
<li id="l509"><pre>   <span class="keyword">procedure</span> Update_Visibility (State  : Integer) <span class="keyword">is</span> </pre></li>
<li id="l510"><pre> </pre></li>
<li id="l511"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l512"><pre>      <span class="comment">--      ada.text_io.put_line (&quot;in update_Visibility callback state : &quot; &amp; integer&apos;image (State));</span> </pre></li>
<li id="l513"><pre>      <span class="comment">--</span> </pre></li>
<li id="l514"><pre>      <span class="comment">-- tbd : this callback is not being called when a window is iconicised !!</span> </pre></li>
<li id="l515"><pre> </pre></li>
<li id="l516"><pre>      <span class="droplink">current_Window<ul><li><a href="src_glut-windows.adb.html#l42" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l42" title="To body">To body</a></li></ul></span>.<span class="keyword">all</span>.is_Visible := <span class="keyword">not</span> (<a href="src_glut-windows.adb.html#l509" title="defined at glut-windows.adb:509:33">State</a> = <span class="droplink">GLUT.HIDDEN<ul><li><a href="glut.ads.html#glut.ads:98:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l98" title="To spec">To spec</a></li></ul></span> <span class="keyword">or</span> <span class="keyword">else</span> <a href="src_glut-windows.adb.html#l509" title="defined at glut-windows.adb:509:33">State</a> = <span class="droplink">GLUT.FULLY_COVERED<ul><li><a href="glut.ads.html#glut.ads:101:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l101" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l517"><pre>   <span class="keyword">end</span> <span class="droplink">Update_Visibility<ul><li><a href="src_glut-windows.adb.html#l509" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l509" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l518"><pre> </pre></li>
<li id="l519"><pre>   <span class="keyword">procedure</span> Start_GLUTs (Self  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l520"><pre> </pre></li>
<li id="l521"><pre>      <span class="keyword">use</span> <span class="droplink">GLUT<ul><li><a href="glut.ads.html#glut.ads:22:9" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l22" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l7" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l522"><pre> </pre></li>
<li id="l523"><pre>      <span class="keyword">function</span> to_Address <span class="keyword">is</span> <span class="keyword">new</span> Ada.Unchecked_Conversion (<span class="droplink">GLOBE_3D.p_Window<ul><li><a href="globe_3d.ads.html#globe_3d.ads:460:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l460" title="To spec">To spec</a></li></ul></span>, System.Address); </pre></li>
<li id="l524"><pre> </pre></li>
<li id="l525"><pre>      GLUT_options : <span class="droplink">GLUT.Unsigned<ul><li><a href="glut.ads.html#glut.ads:24:12" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l24" title="To spec">To spec</a></li></ul></span> := <span class="droplink">GLUT.DOUBLE<ul><li><a href="glut.ads.html#glut.ads:34:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l34" title="To spec">To spec</a></li></ul></span> <span class="keyword">or</span> <span class="droplink">GLUT.RGBA<ul><li><a href="glut.ads.html#glut.ads:31:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l31" title="To spec">To spec</a></li></ul></span> <span class="keyword">or</span> <span class="droplink">GLUT.ALPHA<ul><li><a href="glut.ads.html#glut.ads:36:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l36" title="To spec">To spec</a></li></ul></span> <span class="keyword">or</span> <span class="droplink">GLUT.DEPTH<ul><li><a href="glut.ads.html#glut.ads:37:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l37" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l526"><pre> </pre></li>
<li id="l527"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l528"><pre>      <span class="keyword">if</span> Self.Smoothing = Hardware <span class="keyword">then</span> </pre></li>
<li id="l529"><pre>         <a href="src_glut-windows.adb.html#l525" title="defined at glut-windows.adb:525:7">GLUT_options</a> := <a href="src_glut-windows.adb.html#l525" title="defined at glut-windows.adb:525:7">GLUT_options</a> <span class="keyword">or</span> <span class="droplink">GLUT.MULTISAMPLE<ul><li><a href="glut.ads.html#glut.ads:39:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l39" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l530"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l531"><pre> </pre></li>
<li id="l532"><pre>      <span class="droplink">InitDisplayMode<ul><li><a href="glut.ads.html#glut.ads:317:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l317" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l318" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l525" title="defined at glut-windows.adb:525:7">GLUT_options</a>); </pre></li>
<li id="l533"><pre> </pre></li>
<li id="l534"><pre>      <span class="droplink">set_Size<ul><li><a href="src_glut-windows.adb.html#l150" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l150" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l519" title="defined at glut-windows.adb:519:27">Self</a>,  500, 400); </pre></li>
<li id="l535"><pre> </pre></li>
<li id="l536"><pre>      <span class="droplink">InitWindowSize<ul><li><a href="glut.ads.html#glut.ads:328:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l328" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l329" title="To body">To body</a></li></ul></span>     (Integer (Self.main_size_x),  Integer (Self.main_size_y)); </pre></li>
<li id="l537"><pre>      <span class="droplink">InitWindowPosition<ul><li><a href="glut.ads.html#glut.ads:325:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l325" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l326" title="To body">To body</a></li></ul></span> (120, 120); </pre></li>
<li id="l538"><pre> </pre></li>
<li id="l539"><pre>      Self.glut_Window := <span class="droplink">CreateWindow<ul><li><a href="glut.ads.html#glut.ads:349:13" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l349" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l114" title="To body">To body</a></li></ul></span> (<span class="string">&quot;GLOBE_3D/GLUT Window&quot;</span>); </pre></li>
<li id="l540"><pre> </pre></li>
<li id="l541"><pre>      <span class="keyword">if</span> Self.glut_Window = 0 <span class="keyword">then</span> </pre></li>
<li id="l542"><pre>         <span class="keyword">raise</span> <a href="src_glut-windows.adb.html#l37" title="defined at glut-windows.adb:37:4">GLUT_Problem</a>; </pre></li>
<li id="l543"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l544"><pre> </pre></li>
<li id="l545"><pre>      <span class="droplink">GLUT.CloseFunc<ul><li><a href="glut.ads.html#glut.ads:539:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l539" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l41" title="To body">To body</a></li></ul></span>        (<span class="droplink">Close_Window<ul><li><a href="src_glut-windows.adb.html#l503" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l503" title="To body">To body</a></li></ul></span>&apos;Access); </pre></li>
<li id="l546"><pre>      <span class="droplink">GLUT.ReshapeFunc<ul><li><a href="glut.ads.html#glut.ads:548:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l548" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l549" title="To body">To body</a></li></ul></span>      (<span class="droplink">Window_Resize<ul><li><a href="src_glut-windows.adb.html#l189" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l189" title="To body">To body</a></li></ul></span>&apos;Access); </pre></li>
<li id="l547"><pre>      <span class="droplink">GLUT.WindowStatusFunc<ul><li><a href="glut.ads.html#glut.ads:676:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l676" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l677" title="To body">To body</a></li></ul></span> (<span class="droplink">Update_Visibility<ul><li><a href="src_glut-windows.adb.html#l509" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l509" title="To body">To body</a></li></ul></span>&apos;Access); </pre></li>
<li id="l548"><pre>      <span class="droplink">GLUT.SetWindowData<ul><li><a href="glut.ads.html#glut.ads:385:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l385" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l25" title="To body">To body</a></li></ul></span>    (<a href="src_glut-windows.adb.html#l523" title="defined at glut-windows.adb:523:16">to_Address</a> (<span class="droplink">GLOBE_3D.Window<ul><li><a href="globe_3d.ads.html#globe_3d.ads:455:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l455" title="To spec">To spec</a></li></ul></span>&apos;Class (<a href="src_glut-windows.adb.html#l519" title="defined at glut-windows.adb:519:27">Self</a>)&apos;Unchecked_Access)); </pre></li>
<li id="l549"><pre> </pre></li>
<li id="l550"><pre>      <span class="droplink">GLUT.Devices.Initialize<ul><li><a href="glut-devices.ads.html#glut-devices.ads:13:14" title="To API doc">To API doc</a></li><li><a href="src_glut-devices.ads.html#l13" title="To spec">To spec</a></li><li><a href="src_glut-devices.adb.html#l138" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l551"><pre> </pre></li>
<li id="l552"><pre>      <span class="comment">--        if CreateMenu (Menu&apos;Access) = 0 then         -- tdb : deferred</span> </pre></li>
<li id="l553"><pre>      <span class="comment">--           raise GLUT_Problem;</span> </pre></li>
<li id="l554"><pre>      <span class="comment">--        end if;</span> </pre></li>
<li id="l555"><pre> </pre></li>
<li id="l556"><pre>      <span class="comment">--      AttachMenu (MIDDLE_BUTTON);</span> </pre></li>
<li id="l557"><pre> </pre></li>
<li id="l558"><pre>      <span class="comment">--      AddMenuEntry (&quot; * Full Screen&quot;, 1);</span> </pre></li>
<li id="l559"><pre>      <span class="comment">--      AddMenuEntry (&quot;--&gt; Exit (Esc)&quot;, 2);</span> </pre></li>
<li id="l560"><pre> </pre></li>
<li id="l561"><pre>   <span class="keyword">end</span> <span class="droplink">Start_GLUTs<ul><li><a href="src_glut-windows.adb.html#l519" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l519" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l562"><pre> </pre></li>
<li id="l563"><pre>   <span class="keyword">procedure</span> Start_GLs (Self  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l564"><pre> </pre></li>
<li id="l565"><pre>      fog_colour  : <span class="droplink">GL.Light_Float_vector<ul><li><a href="gl.ads.html#gl.ads:153:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l153" title="To spec">To spec</a></li></ul></span> := (0.2, 0.2, 0.2, 0.1); </pre></li>
<li id="l566"><pre> </pre></li>
<li id="l567"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l568"><pre> </pre></li>
<li id="l569"><pre>      <span class="droplink">Clear_modes<ul><li><a href="src_glut-windows.adb.html#l108" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l108" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l570"><pre>      <span class="droplink">Prepare_default_lighting<ul><li><a href="src_glut-windows.adb.html#l60" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l60" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l563" title="defined at glut-windows.adb:563:25">Self</a>, 0.9); </pre></li>
<li id="l571"><pre> </pre></li>
<li id="l572"><pre>      <span class="keyword">if</span> Self.foggy <span class="keyword">then</span> </pre></li>
<li id="l573"><pre>         <span class="droplink">Enable<ul><li><a href="gl.ads.html#gl.ads:704:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l704" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4140" title="To body">To body</a></li></ul></span> (FOG); </pre></li>
<li id="l574"><pre>         <span class="droplink">Fogfv<ul><li><a href="gl.ads.html#gl.ads:3017:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3017" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4443" title="To body">To body</a></li></ul></span>  (FOG_COLOR,   <a href="src_glut-windows.adb.html#l565" title="defined at glut-windows.adb:565:7">fog_colour</a> (0)&apos;Unchecked_Access); </pre></li>
<li id="l575"><pre>         <span class="droplink">Fogf<ul><li><a href="gl.ads.html#gl.ads:3011:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l3011" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4441" title="To body">To body</a></li></ul></span>   (FOG_DENSITY, 0.02); </pre></li>
<li id="l576"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l577"><pre> </pre></li>
<li id="l578"><pre>      <span class="droplink">Reset_for_3D<ul><li><a href="src_glut-windows.adb.html#l118" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l118" title="To body">To body</a></li></ul></span> (<a href="src_glut-windows.adb.html#l563" title="defined at glut-windows.adb:563:25">Self</a>); </pre></li>
<li id="l579"><pre> </pre></li>
<li id="l580"><pre>      <span class="keyword">if</span> Self.Smoothing = Hardware <span class="keyword">then</span> </pre></li>
<li id="l581"><pre>         <span class="droplink">Enable<ul><li><a href="gl.ads.html#gl.ads:704:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l704" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4140" title="To body">To body</a></li></ul></span> (MULTISAMPLE_ARB); </pre></li>
<li id="l582"><pre>         <span class="droplink">Enable<ul><li><a href="gl.ads.html#gl.ads:704:14" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l704" title="To spec">To spec</a></li><li><a href="src_gl.ads.html#l4140" title="To body">To body</a></li></ul></span> (SAMPLE_COVERAGE_ARB); <span class="comment">-- Hope it helps switching on the AA .. .</span> </pre></li>
<li id="l583"><pre>      <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l584"><pre> </pre></li>
<li id="l585"><pre>   <span class="keyword">end</span> <span class="droplink">Start_GLs<ul><li><a href="src_glut-windows.adb.html#l563" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l563" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l586"><pre> </pre></li>
<li id="l587"><pre>   <span class="keyword">procedure</span> <span class="droplink">Initialize<ul><li><a href="glut-windows.ads.html#glut-windows.ads:23:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l23" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l588"><pre> </pre></li>
<li id="l589"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l590"><pre>      <span class="droplink">GLUT.Init<ul><li><a href="glut.ads.html#glut.ads:296:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l296" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l98" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l591"><pre>      <span class="droplink">GLUT.SetOption<ul><li><a href="glut.ads.html#glut.ads:314:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l314" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l47" title="To body">To body</a></li></ul></span> (<span class="droplink">GLUT.GLUT_RENDERING_CONTEXT<ul><li><a href="glut.ads.html#glut.ads:307:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l307" title="To spec">To spec</a></li></ul></span>, <span class="droplink">GLUT.GLUT_USE_CURRENT_CONTEXT<ul><li><a href="glut.ads.html#glut.ads:310:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l310" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l592"><pre>      <span class="droplink">GLUT.SetOption<ul><li><a href="glut.ads.html#glut.ads:314:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l314" title="To spec">To spec</a></li><li><a href="src_glut.adb.html#l47" title="To body">To body</a></li></ul></span> (<span class="droplink">GLUT.ACTION_ON_WINDOW_CLOSE<ul><li><a href="glut.ads.html#glut.ads:305:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l305" title="To spec">To spec</a></li></ul></span>, <span class="droplink">ACTION_CONTINUE_EXECUTION<ul><li><a href="glut.ads.html#glut.ads:303:4" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l303" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l593"><pre>   <span class="keyword">end</span> <span class="droplink">Initialize<ul><li><a href="glut-windows.ads.html#glut-windows.ads:23:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l23" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l587" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l594"><pre> </pre></li>
<li id="l595"><pre>   <span class="keyword">procedure</span> <span class="droplink">Define<ul><li><a href="glut-windows.ads.html#glut-windows.ads:28:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l28" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:28:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l28" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l596"><pre> </pre></li>
<li id="l597"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l598"><pre>      <span class="droplink">Start_GLUTs<ul><li><a href="src_glut-windows.adb.html#l519" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l519" title="To body">To body</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:28:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l28" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l595" title="To body">To body</a></li></ul></span>);    <span class="comment">-- Initialize the GLUT things</span> </pre></li>
<li id="l599"><pre>      <span class="droplink">Start_GLs<ul><li><a href="src_glut-windows.adb.html#l563" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l563" title="To body">To body</a></li></ul></span>   (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:28:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l28" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l595" title="To body">To body</a></li></ul></span>);    <span class="comment">-- Initialize the (Open)GL things</span> </pre></li>
<li id="l600"><pre>      <span class="droplink">Reset_eye<ul><li><a href="src_glut-windows.adb.html#l321" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l321" title="To body">To body</a></li></ul></span>   (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:28:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l28" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l595" title="To body">To body</a></li></ul></span>); </pre></li>
<li id="l601"><pre> </pre></li>
<li id="l602"><pre>      <span class="droplink">Freshen<ul><li><a href="glut-windows.ads.html#glut-windows.ads:36:25" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l36" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l618" title="To body">To body</a></li></ul></span>     (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:28:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l28" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l595" title="To body">To body</a></li></ul></span>, 0.02);    <span class="comment">-- do an initial freshen, to initialise Camera, etc.</span> </pre></li>
<li id="l603"><pre>   <span class="keyword">end</span> <span class="droplink">Define<ul><li><a href="glut-windows.ads.html#glut-windows.ads:28:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l28" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l595" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l604"><pre> </pre></li>
<li id="l605"><pre>   <span class="keyword">procedure</span> <span class="droplink">Destroy<ul><li><a href="glut-windows.ads.html#glut-windows.ads:29:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l29" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:29:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l29" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l606"><pre> </pre></li>
<li id="l607"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l608"><pre>      <span class="droplink">DestroyWindow<ul><li><a href="glut.ads.html#glut.ads:360:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l360" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l361" title="To body">To body</a></li></ul></span> (Self.glut_Window); </pre></li>
<li id="l609"><pre>   <span class="keyword">end</span> <span class="droplink">Destroy<ul><li><a href="glut-windows.ads.html#glut-windows.ads:29:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l29" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l605" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l610"><pre> </pre></li>
<li id="l611"><pre>   <span class="keyword">overriding</span> <span class="keyword">procedure</span> <span class="droplink">Enable<ul><li><a href="glut-windows.ads.html#glut-windows.ads:34:25" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l34" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:34:33" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l34" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l612"><pre> </pre></li>
<li id="l613"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l614"><pre>      <span class="droplink">GLUT.SetWindow<ul><li><a href="glut.ads.html#glut.ads:380:14" title="To API doc">To API doc</a></li><li><a href="src_glut.ads.html#l380" title="To spec">To spec</a></li><li><a href="src_glut.ads.html#l381" title="To body">To body</a></li></ul></span> (Self.glut_Window); </pre></li>
<li id="l615"><pre>      <span class="comment">--      opengl.glx.glXMakeCurrent;</span> </pre></li>
<li id="l616"><pre>   <span class="keyword">end</span> <span class="droplink">Enable<ul><li><a href="glut-windows.ads.html#glut-windows.ads:34:25" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l34" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l611" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l617"><pre> </pre></li>
<li id="l618"><pre>   <span class="keyword">overriding</span> <span class="keyword">procedure</span> <span class="droplink">Freshen<ul><li><a href="glut-windows.ads.html#glut-windows.ads:36:25" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l36" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:36:34" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l36" title="To spec">To spec</a></li></ul></span>      : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l619"><pre>                                 <span class="droplink">time_Step<ul><li><a href="glut-windows.ads.html#glut-windows.ads:37:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l37" title="To spec">To spec</a></li></ul></span> :        <span class="droplink">G3D.Real<ul><li><a href="globe_3d.ads.html#globe_3d.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l102" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l620"><pre>                                 <span class="droplink">Extras<ul><li><a href="glut-windows.ads.html#glut-windows.ads:38:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l38" title="To spec">To spec</a></li></ul></span>    :        <span class="droplink">GLOBE_3D.Visual_array<ul><li><a href="globe_3d.ads.html#globe_3d.ads:210:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l210" title="To spec">To spec</a></li></ul></span> := <span class="droplink">GLOBE_3D.null_Visuals<ul><li><a href="globe_3d.ads.html#globe_3d.ads:241:4" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l241" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l621"><pre> </pre></li>
<li id="l622"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l623"><pre>      <span class="droplink">Enable<ul><li><a href="glut-windows.ads.html#glut-windows.ads:34:25" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l34" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l611" title="To body">To body</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:36:34" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l36" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l618" title="To body">To body</a></li></ul></span>);  <span class="comment">-- for multi - window operation.</span> </pre></li>
<li id="l624"><pre>      <span class="droplink">Main_Operations<ul><li><a href="src_glut-windows.adb.html#l331" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l331" title="To body">To body</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:36:34" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l36" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l618" title="To body">To body</a></li></ul></span>&apos;Access, <span class="droplink">time_Step<ul><li><a href="glut-windows.ads.html#glut-windows.ads:37:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l37" title="To spec">To spec</a></li></ul></span>, <span class="droplink">Extras<ul><li><a href="glut-windows.ads.html#glut-windows.ads:38:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l38" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l625"><pre>   <span class="keyword">end</span> <span class="droplink">Freshen<ul><li><a href="glut-windows.ads.html#glut-windows.ads:36:25" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l36" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l618" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l626"><pre> </pre></li>
<li id="l627"><pre>   <span class="comment">-- traits</span> </pre></li>
<li id="l628"><pre>   <span class="comment">--</span> </pre></li>
<li id="l629"><pre> </pre></li>
<li id="l630"><pre>   <span class="keyword">function</span> <span class="droplink">Smoothing<ul><li><a href="glut-windows.ads.html#glut-windows.ads:57:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l57" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:57:28" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l57" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">return</span> <span class="droplink">Smoothing_method<ul><li><a href="glut-windows.ads.html#glut-windows.ads:55:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l55" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> (Self.Smoothing); </pre></li>
<li id="l631"><pre> </pre></li>
<li id="l632"><pre>   <span class="keyword">procedure</span> <span class="droplink">Smoothing_is<ul><li><a href="glut-windows.ads.html#glut-windows.ads:58:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l58" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:58:28" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l58" title="To spec">To spec</a></li></ul></span> : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l633"><pre>                           <span class="droplink">Now<ul><li><a href="glut-windows.ads.html#glut-windows.ads:58:50" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l58" title="To spec">To spec</a></li></ul></span>  :        <span class="droplink">Smoothing_method<ul><li><a href="glut-windows.ads.html#glut-windows.ads:55:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l55" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l634"><pre> </pre></li>
<li id="l635"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l636"><pre>      Self.Smoothing := <span class="droplink">Now<ul><li><a href="glut-windows.ads.html#glut-windows.ads:58:50" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l58" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l633" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l637"><pre>   <span class="keyword">end</span> <span class="droplink">Smoothing_is<ul><li><a href="glut-windows.ads.html#glut-windows.ads:58:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l58" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l632" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l638"><pre> </pre></li>
<li id="l639"><pre>   <span class="keyword">procedure</span> <span class="droplink">Add<ul><li><a href="glut-windows.ads.html#glut-windows.ads:45:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l45" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:45:19" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l45" title="To spec">To spec</a></li></ul></span> : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; <span class="droplink">the_Object<ul><li><a href="glut-windows.ads.html#glut-windows.ads:45:41" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l45" title="To spec">To spec</a></li></ul></span> : <span class="droplink">GLOBE_3D.p_Visual<ul><li><a href="globe_3d.ads.html#globe_3d.ads:209:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l209" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l640"><pre> </pre></li>
<li id="l641"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l642"><pre>      Self.object_Count                := Self.object_Count + 1; </pre></li>
<li id="l643"><pre>      Self.Objects (Self.object_Count) := <span class="droplink">the_Object<ul><li><a href="glut-windows.ads.html#glut-windows.ads:45:41" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l45" title="To spec">To spec</a></li></ul></span>.<span class="keyword">all</span>&apos;Access; </pre></li>
<li id="l644"><pre>   <span class="keyword">end</span> <span class="droplink">Add<ul><li><a href="glut-windows.ads.html#glut-windows.ads:45:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l45" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l639" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l645"><pre> </pre></li>
<li id="l646"><pre>   <span class="keyword">procedure</span> <span class="droplink">Rid<ul><li><a href="glut-windows.ads.html#glut-windows.ads:46:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l46" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:46:19" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l46" title="To spec">To spec</a></li></ul></span> : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; <span class="droplink">the_Object<ul><li><a href="glut-windows.ads.html#glut-windows.ads:46:41" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l46" title="To spec">To spec</a></li></ul></span> : <span class="droplink">GLOBE_3D.p_Visual<ul><li><a href="globe_3d.ads.html#globe_3d.ads:209:9" title="To API doc">To API doc</a></li><li><a href="src_globe_3d.ads.html#l209" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l647"><pre> </pre></li>
<li id="l648"><pre>      <span class="keyword">use</span> <a href="src_glut-windows.adb.html#l32" title="defined at glut-windows.adb:32:12">G3D</a>; </pre></li>
<li id="l649"><pre> </pre></li>
<li id="l650"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l651"><pre>      <span class="keyword">for</span> Each <span class="keyword">in</span> 1 .. Self.object_Count <span class="keyword">loop</span> </pre></li>
<li id="l652"><pre> </pre></li>
<li id="l653"><pre>         <span class="keyword">if</span> Self.Objects (Each) = <span class="droplink">the_Object<ul><li><a href="glut-windows.ads.html#glut-windows.ads:46:41" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l46" title="To spec">To spec</a></li></ul></span> <span class="keyword">then</span> </pre></li>
<li id="l654"><pre> </pre></li>
<li id="l655"><pre>            <span class="keyword">if</span> Each /= Self.object_Count <span class="keyword">then</span> </pre></li>
<li id="l656"><pre>               Self.Objects (Each .. Self.object_Count - 1) := Self.Objects (Each + 1 .. Self.object_Count); </pre></li>
<li id="l657"><pre>            <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l658"><pre> </pre></li>
<li id="l659"><pre>            Self.object_Count := Self.object_Count - 1; </pre></li>
<li id="l660"><pre>            <span class="keyword">return</span>; </pre></li>
<li id="l661"><pre>         <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l662"><pre> </pre></li>
<li id="l663"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l664"><pre> </pre></li>
<li id="l665"><pre>      <span class="keyword">raise</span> <span class="droplink">no_such_Object<ul><li><a href="glut-windows.ads.html#glut-windows.ads:50:4" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l50" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l666"><pre>   <span class="keyword">end</span> <span class="droplink">Rid<ul><li><a href="glut-windows.ads.html#glut-windows.ads:46:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l46" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l646" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l667"><pre> </pre></li>
<li id="l668"><pre>   <span class="keyword">function</span> <span class="droplink">Object_Count<ul><li><a href="glut-windows.ads.html#glut-windows.ads:48:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l48" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:48:28" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l48" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">return</span> Natural <span class="keyword">is</span> (Self.object_Count); </pre></li>
<li id="l669"><pre> </pre></li>
<li id="l670"><pre>   <span class="comment">-- status display</span> </pre></li>
<li id="l671"><pre>   <span class="comment">--</span> </pre></li>
<li id="l672"><pre> </pre></li>
<li id="l673"><pre>   <span class="keyword">function</span>  <span class="droplink">Show_Status<ul><li><a href="glut-windows.ads.html#glut-windows.ads:63:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l63" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:63:27" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l63" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>) <span class="keyword">return</span> Boolean <span class="keyword">is</span> (Self.Show_Status); </pre></li>
<li id="l674"><pre> </pre></li>
<li id="l675"><pre>   <span class="keyword">procedure</span> <span class="droplink">Show_Status<ul><li><a href="glut-windows.ads.html#glut-windows.ads:64:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l64" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:64:27" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l64" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l676"><pre>                          <span class="droplink">Show<ul><li><a href="glut-windows.ads.html#glut-windows.ads:65:27" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l65" title="To spec">To spec</a></li></ul></span>  :        Boolean := True) <span class="keyword">is</span> </pre></li>
<li id="l677"><pre> </pre></li>
<li id="l678"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l679"><pre>      Self.Show_Status := <span class="droplink">Show<ul><li><a href="glut-windows.ads.html#glut-windows.ads:65:27" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l65" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l680"><pre>   <span class="keyword">end</span> <span class="droplink">Show_Status<ul><li><a href="glut-windows.ads.html#glut-windows.ads:64:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l64" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l675" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l681"><pre> </pre></li>
<li id="l682"><pre>   <span class="comment">-- Devices</span> </pre></li>
<li id="l683"><pre>   <span class="comment">--</span> </pre></li>
<li id="l684"><pre> </pre></li>
<li id="l685"><pre>   <span class="keyword">function</span> <span class="droplink">Keyboard<ul><li><a href="glut-windows.ads.html#glut-windows.ads:75:13" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l75" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:75:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l75" title="To spec">To spec</a></li></ul></span> : <span class="keyword">access</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class) <span class="keyword">return</span> <span class="droplink">Devices.p_Keyboard<ul><li><a href="glut-devices.ads.html#glut-devices.ads:35:9" title="To API doc">To API doc</a></li><li><a href="src_glut-devices.ads.html#l35" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:75:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l75" title="To spec">To spec</a></li></ul></span>.<span class="keyword">all</span>.Keyboard&apos;Access); </pre></li>
<li id="l686"><pre> </pre></li>
<li id="l687"><pre>   <span class="keyword">function</span> <span class="droplink">Mouse<ul><li><a href="glut-windows.ads.html#glut-windows.ads:76:13" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l76" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:76:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l76" title="To spec">To spec</a></li></ul></span> : <span class="keyword">access</span> <span class="droplink">Window<ul><li><a href="glut-windows.ads.html#glut-windows.ads:25:9" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l25" title="To spec">To spec</a></li><li><a href="src_glut-windows.ads.html#l82" title="To body">To body</a></li></ul></span>&apos;Class) <span class="keyword">return</span> <span class="droplink">Devices.p_Mouse<ul><li><a href="glut-devices.ads.html#glut-devices.ads:56:9" title="To API doc">To API doc</a></li><li><a href="src_glut-devices.ads.html#l56" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> (<span class="droplink">Self<ul><li><a href="glut-windows.ads.html#glut-windows.ads:76:23" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l76" title="To spec">To spec</a></li></ul></span>.<span class="keyword">all</span>.Mouse&apos;Access); </pre></li>
<li id="l688"><pre> </pre></li>
<li id="l689"><pre>   <span class="comment">-- Proxy for Ada 2005 Ada.Calendar.Formatting.Image</span> </pre></li>
<li id="l690"><pre>   <span class="keyword">function</span> <a href="src_glut-windows.adb.html#l328" title="defined at glut-windows.adb:328:13">Image</a> (<a href="src_glut-windows.adb.html#l328" title="defined at glut-windows.adb:328:20">Date</a> : Ada.Calendar.Time) <span class="keyword">return</span> String <span class="keyword">is</span> </pre></li>
<li id="l691"><pre> </pre></li>
<li id="l692"><pre>      <span class="keyword">use</span> Ada.Calendar; </pre></li>
<li id="l693"><pre> </pre></li>
<li id="l694"><pre>      <span class="keyword">subtype</span> Sec_int <span class="keyword">is</span> Long_Integer; <span class="comment">-- must contain 86_400</span> </pre></li>
<li id="l695"><pre> </pre></li>
<li id="l696"><pre>      m, s  : Sec_int; </pre></li>
<li id="l697"><pre> </pre></li>
<li id="l698"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l699"><pre>      s := Sec_int (Seconds (<a href="src_glut-windows.adb.html#l328" title="defined at glut-windows.adb:328:20">Date</a>)); </pre></li>
<li id="l700"><pre>      m := s / 60; </pre></li>
<li id="l701"><pre> </pre></li>
<li id="l702"><pre>      <span class="keyword">declare</span> </pre></li>
<li id="l703"><pre>         <span class="comment">-- + 100 : trick for obtaining 0x</span> </pre></li>
<li id="l704"><pre>         sY  : <span class="keyword">constant</span> String := Integer&apos;<span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (Year (<a href="src_glut-windows.adb.html#l328" title="defined at glut-windows.adb:328:20">Date</a>)); </pre></li>
<li id="l705"><pre>         sM  : <span class="keyword">constant</span> String := Integer&apos;<span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (Month (<a href="src_glut-windows.adb.html#l328" title="defined at glut-windows.adb:328:20">Date</a>) + 100); </pre></li>
<li id="l706"><pre>         sD  : <span class="keyword">constant</span> String := Integer&apos;<span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (Day (<a href="src_glut-windows.adb.html#l328" title="defined at glut-windows.adb:328:20">Date</a>)  + 100); </pre></li>
<li id="l707"><pre>         shr : <span class="keyword">constant</span> String := Sec_int&apos;<span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (m  /  60 + 100); </pre></li>
<li id="l708"><pre>         smn : <span class="keyword">constant</span> String := Sec_int&apos;<span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (m <span class="keyword">mod</span> 60 + 100); </pre></li>
<li id="l709"><pre>         ssc : <span class="keyword">constant</span> String := Sec_int&apos;<span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span> (s <span class="keyword">mod</span> 60 + 100); </pre></li>
<li id="l710"><pre> </pre></li>
<li id="l711"><pre>      <span class="keyword">begin</span> </pre></li>
<li id="l712"><pre>         <span class="keyword">return</span> </pre></li>
<li id="l713"><pre>           sY (sY&apos;Last - 3 .. sY&apos;Last) &amp; <span class="string">&apos;-&apos;</span> &amp;  <span class="comment">-- not Year 10&apos;000 compliant.</span> </pre></li>
<li id="l714"><pre>           sM (sM&apos;Last - 1 .. sM&apos;Last) &amp; <span class="string">&apos;-&apos;</span> &amp; </pre></li>
<li id="l715"><pre>           sD (sD&apos;Last - 1 .. sD&apos;Last) &amp; </pre></li>
<li id="l716"><pre>           <span class="string">&quot; &quot;</span> &amp; </pre></li>
<li id="l717"><pre>           shr (shr&apos;Last - 1 .. shr&apos;Last) &amp; <span class="string">&apos;.&apos;</span> &amp; </pre></li>
<li id="l718"><pre>           smn (smn&apos;Last - 1 .. smn&apos;Last) &amp; <span class="string">&apos;.&apos;</span> &amp; </pre></li>
<li id="l719"><pre>           ssc (ssc&apos;Last - 1 .. ssc&apos;Last); </pre></li>
<li id="l720"><pre>      <span class="keyword">end</span>; </pre></li>
<li id="l721"><pre>   <span class="keyword">end</span> <span class="droplink">Image<ul><li><a href="src_glut-windows.adb.html#l328" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l690" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l722"><pre> </pre></li>
<li id="l723"><pre><span class="keyword">end</span> <span class="droplink">GLUT.Windows<ul><li><a href="glut-windows.ads.html#glut-windows.ads:21:14" title="To API doc">To API doc</a></li><li><a href="src_glut-windows.ads.html#l21" title="To spec">To spec</a></li><li><a href="src_glut-windows.adb.html#l30" title="To body">To body</a></li></ul></span>; </pre></li>
</ol></div>
</div>

</body>
</html>
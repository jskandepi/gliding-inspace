<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript"/>

  <title>
    File: gl-geometry.adb
  </title>
  <link rel='stylesheet' href='support/docgen.css' type='text/css'/>
  <link rel='stylesheet' href='support/tags.css' type='text/css'/>
  <script src='support/docgen.js' type='text/javascript' charset='utf-8'></script>
</head>
<body onload="onloadDoc();">

<div id='leftSide'>
  <div id='leftSideInside'>
  <div id='header'>
    <h2 class="button">Documentation</h2>
    <a href='toc.html'><div class="button2">Table of Contents</div></a>

    <a href='tree.html'><div class="button2">Class Inheritance Tree</div></a>

  </div>
  </div>
</div> <!-- leftSide -->

<div class='subprograms'>
  <div class='details'><ol><li id="l1"><pre><span class="comment">-------------------------------------------------------------------------</span> </pre></li>
<li id="l2"><pre> <span class="comment">--  GL.Geometry - GL geometry primitives</span> </pre></li>
<li id="l3"><pre> <span class="comment">--</span> </pre></li>
<li id="l4"><pre> <span class="comment">--  Copyright (c) Rod Kay 2007</span> </pre></li>
<li id="l5"><pre> <span class="comment">--  AUSTRALIA</span> </pre></li>
<li id="l6"><pre> <span class="comment">--  Permission granted to use this software, without any warranty,</span> </pre></li>
<li id="l7"><pre> <span class="comment">--  for any purpose, provided this copyright note remains attached</span> </pre></li>
<li id="l8"><pre> <span class="comment">--  and unmodified if sources are distributed further.</span> </pre></li>
<li id="l9"><pre> <span class="comment">-------------------------------------------------------------------------</span> </pre></li>
<li id="l10"><pre> </pre></li>
<li id="l11"><pre><span class="keyword">with</span> <span class="droplink">GL.Math<ul><li><a href="gl-math.ads.html#gl-math.ads:5:12" title="To API doc">To API doc</a></li><li><a href="src_gl-math.ads.html#l5" title="To spec">To spec</a></li><li><a href="src_gl-math.adb.html#l1" title="To body">To body</a></li></ul></span>; <span class="keyword">use</span> <span class="droplink">GL.Math<ul><li><a href="gl-math.ads.html#gl-math.ads:5:12" title="To API doc">To API doc</a></li><li><a href="src_gl-math.ads.html#l5" title="To spec">To spec</a></li><li><a href="src_gl-math.adb.html#l1" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l12"><pre> </pre></li>
<li id="l13"><pre><span class="keyword">with</span> Ada.Numerics.Generic_Elementary_Functions; </pre></li>
<li id="l14"><pre><span class="keyword">with</span> Ada.Strings.Unbounded; <span class="keyword">use</span> Ada.Strings.Unbounded; </pre></li>
<li id="l15"><pre><span class="comment">--  with Ada.Text_IO;           use Ada.Text_IO;</span> </pre></li>
<li id="l16"><pre><span class="keyword">with</span> Ada.Characters.Latin_1; </pre></li>
<li id="l17"><pre> </pre></li>
<li id="l18"><pre><span class="keyword">package</span> <span class="keyword">body</span> <span class="droplink">GL.Geometry<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:15:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l15" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l19"><pre> </pre></li>
<li id="l20"><pre>   <span class="keyword">package</span> GL_Double_EF <span class="keyword">is</span> <span class="keyword">new</span> Ada.Numerics.Generic_Elementary_Functions (<span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>);  <span class="comment">-- tbd : make this public ?</span> </pre></li>
<li id="l21"><pre> </pre></li>
<li id="l22"><pre>   <span class="comment">-- Plane</span> </pre></li>
<li id="l23"><pre>   <span class="comment">--</span> </pre></li>
<li id="l24"><pre> </pre></li>
<li id="l25"><pre>   <span class="keyword">procedure</span> <span class="droplink">Normalise<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (<span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:20:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l20" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l26"><pre> </pre></li>
<li id="l27"><pre>      <span class="keyword">use</span> <a href="src_gl-geometry.adb.html#l20" title="defined at gl-geometry.adb:20:12">GL_Double_EF</a>; </pre></li>
<li id="l28"><pre>      inv_Magnitude  : <span class="keyword">constant</span> <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span> := 1.0 / Sqrt (<span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (0) * <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (0) </pre></li>
<li id="l29"><pre>                                                       + <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (1) * <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (1) </pre></li>
<li id="l30"><pre>                                                       + <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (2) * <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (2)); </pre></li>
<li id="l31"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l32"><pre>      <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> := (0 =&gt; <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (0) * <a href="src_gl-geometry.adb.html#l28" title="defined at gl-geometry.adb:28:7">inv_Magnitude</a>, </pre></li>
<li id="l33"><pre>                    1 =&gt; <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (1) * <a href="src_gl-geometry.adb.html#l28" title="defined at gl-geometry.adb:28:7">inv_Magnitude</a>, </pre></li>
<li id="l34"><pre>                    2 =&gt; <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (2) * <a href="src_gl-geometry.adb.html#l28" title="defined at gl-geometry.adb:28:7">inv_Magnitude</a>, </pre></li>
<li id="l35"><pre>                    3 =&gt; <span class="droplink">the_Plane<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li></ul></span> (3) * <a href="src_gl-geometry.adb.html#l28" title="defined at gl-geometry.adb:28:7">inv_Magnitude</a>); </pre></li>
<li id="l36"><pre>   <span class="keyword">end</span> <span class="droplink">Normalise<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:22:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l22" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l25" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l37"><pre> </pre></li>
<li id="l38"><pre>   <span class="comment">-- Bounds</span> </pre></li>
<li id="l39"><pre>   <span class="comment">--</span> </pre></li>
<li id="l40"><pre> </pre></li>
<li id="l41"><pre>   <span class="keyword">function</span> <span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:32:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l32" title="To spec">To spec</a></li></ul></span> (<span class="droplink">L<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:32:18" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l32" title="To spec">To spec</a></li></ul></span>, <span class="droplink">R<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:32:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l32" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Extent<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:27:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l27" title="To spec">To spec</a></li></ul></span>) <span class="keyword">return</span> <span class="droplink">Extent<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:27:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l27" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l42"><pre>     (Min =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (L.Min,  R.Min), </pre></li>
<li id="l43"><pre>      Max =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (L.Max,  R.Max)); </pre></li>
<li id="l44"><pre> </pre></li>
<li id="l45"><pre>   <span class="keyword">function</span> <span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:41:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l41" title="To spec">To spec</a></li></ul></span> (<span class="droplink">L<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:41:18" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l41" title="To spec">To spec</a></li></ul></span>, <span class="droplink">R<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:41:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l41" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Axis_Aligned_Bounding_Box<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:34:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l34" title="To spec">To spec</a></li></ul></span>) <span class="keyword">return</span> <span class="droplink">Axis_Aligned_Bounding_Box<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:34:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l34" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l46"><pre>     (X_Extent =&gt; <span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:32:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l32" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l41" title="To body">To body</a></li></ul></span> (L.X_Extent,  R.X_Extent), </pre></li>
<li id="l47"><pre>      Y_Extent =&gt; <span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:32:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l32" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l41" title="To body">To body</a></li></ul></span> (L.Y_Extent,  R.Y_Extent), </pre></li>
<li id="l48"><pre>      Z_Extent =&gt; <span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:32:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l32" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l41" title="To body">To body</a></li></ul></span> (L.Z_Extent,  R.Z_Extent)); </pre></li>
<li id="l49"><pre> </pre></li>
<li id="l50"><pre>   <span class="keyword">function</span> <span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:57:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l57" title="To spec">To spec</a></li></ul></span> (<span class="droplink">L<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:57:18" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l57" title="To spec">To spec</a></li></ul></span>, <span class="droplink">R<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:57:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l57" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Bounds_record<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l43" title="To spec">To spec</a></li></ul></span>) <span class="keyword">return</span> <span class="droplink">Bounds_record<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l43" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l51"><pre>     (Sphere_Radius =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;<span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:41:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l41" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l45" title="To body">To body</a></li></ul></span> (L.Sphere_Radius, R.Sphere_Radius), </pre></li>
<li id="l52"><pre>      Box           =&gt; <span class="droplink">Max<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:41:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l41" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l45" title="To body">To body</a></li></ul></span> (L.Box, R.Box)); </pre></li>
<li id="l53"><pre> </pre></li>
<li id="l54"><pre>   <span class="comment">-- vertex_Id&apos;s</span> </pre></li>
<li id="l55"><pre>   <span class="comment">--</span> </pre></li>
<li id="l56"><pre> </pre></li>
<li id="l57"><pre>   <span class="keyword">procedure</span> <span class="droplink">Increment<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:73:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l73" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:73:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l73" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">vertex_Id_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:68:11" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l68" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l58"><pre> </pre></li>
<li id="l59"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l60"><pre>      <span class="keyword">for</span> Each <span class="keyword">in</span> <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:73:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l73" title="To spec">To spec</a></li></ul></span>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l61"><pre>         <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:73:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l73" title="To spec">To spec</a></li></ul></span> (Each) := <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:73:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l73" title="To spec">To spec</a></li></ul></span> (Each) + 1; </pre></li>
<li id="l62"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l63"><pre>   <span class="keyword">end</span> <span class="droplink">Increment<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:73:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l73" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l57" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l64"><pre> </pre></li>
<li id="l65"><pre>   <span class="keyword">procedure</span> <span class="droplink">Decrement<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:74:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l74" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:74:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l74" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">vertex_Id_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:68:11" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l68" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l66"><pre> </pre></li>
<li id="l67"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l68"><pre>      <span class="keyword">for</span> Each <span class="keyword">in</span> <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:74:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l74" title="To spec">To spec</a></li></ul></span>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l69"><pre>         <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:74:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l74" title="To spec">To spec</a></li></ul></span> (Each) := <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:74:25" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l74" title="To spec">To spec</a></li></ul></span> (Each) - 1; </pre></li>
<li id="l70"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l71"><pre>   <span class="keyword">end</span> <span class="droplink">Decrement<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:74:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l74" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l65" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l72"><pre> </pre></li>
<li id="l73"><pre>   <span class="comment">-- vertices</span> </pre></li>
<li id="l74"><pre>   <span class="comment">--</span> </pre></li>
<li id="l75"><pre> </pre></li>
<li id="l76"><pre>   <span class="keyword">function</span> <span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:20" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li></ul></span> : <span class="droplink">GL_Vertex<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:84:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l84" title="To spec">To spec</a></li></ul></span>) <span class="keyword">return</span> String <span class="keyword">is</span> </pre></li>
<li id="l77"><pre>     (<span class="string">&quot; (&quot;</span> &amp; <span class="droplink">Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;<span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l76" title="To body">To body</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:20" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li></ul></span> (0)) &amp; <span class="droplink">Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;<span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l76" title="To body">To body</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:20" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li></ul></span> (1)) &amp; <span class="droplink">Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;<span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l76" title="To body">To body</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:20" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li></ul></span> (2)) &amp; <span class="string">&quot;)&quot;</span>); </pre></li>
<li id="l78"><pre> </pre></li>
<li id="l79"><pre>   <span class="keyword">function</span> <span class="droplink">Bounds<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> : <span class="droplink">GL_Vertex_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:85:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l85" title="To spec">To spec</a></li></ul></span>) <span class="keyword">return</span> <span class="droplink">GL.Geometry.Bounds_record<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l43" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l80"><pre> </pre></li>
<li id="l81"><pre>      <span class="keyword">use</span> <a href="src_gl-geometry.adb.html#l20" title="defined at gl-geometry.adb:20:12">GL_Double_EF</a>; </pre></li>
<li id="l82"><pre>      the_Bounds      : <span class="droplink">Bounds_record<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l43" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_Bounds<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:49:4" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l49" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l83"><pre>      max_Distance_2  : <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>     := 0.0;      <span class="comment">-- current maximum distance squared.</span> </pre></li>
<li id="l84"><pre> </pre></li>
<li id="l85"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l86"><pre>      <span class="keyword">for</span> p <span class="keyword">in</span> <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l87"><pre>         <a href="src_gl-geometry.adb.html#l83" title="defined at gl-geometry.adb:83:7">max_Distance_2</a> := <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (0) * <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (0) </pre></li>
<li id="l88"><pre>                                        + <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (1) * <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (1) </pre></li>
<li id="l89"><pre>                                        + <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (2) * <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (2), </pre></li>
<li id="l90"><pre>                                          <a href="src_gl-geometry.adb.html#l83" title="defined at gl-geometry.adb:83:7">max_Distance_2</a>); </pre></li>
<li id="l91"><pre> </pre></li>
<li id="l92"><pre>         the_Bounds.Box := (X_Extent =&gt; (Min =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Min (the_Bounds.Box.X_Extent.Min,  <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (0)), </pre></li>
<li id="l93"><pre>                                         Max =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (the_Bounds.Box.X_Extent.Max,  <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (0))), </pre></li>
<li id="l94"><pre>                            Y_Extent =&gt; (Min =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Min (the_Bounds.Box.Y_Extent.Min,  <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (1)), </pre></li>
<li id="l95"><pre>                                         Max =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (the_Bounds.Box.Y_Extent.Max,  <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (1))), </pre></li>
<li id="l96"><pre>                            Z_Extent =&gt; (Min =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Min (the_Bounds.Box.Z_Extent.Min,  <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (2)), </pre></li>
<li id="l97"><pre>                                         Max =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (the_Bounds.Box.Z_Extent.Max,  <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li></ul></span> (p) (2)))); </pre></li>
<li id="l98"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l99"><pre> </pre></li>
<li id="l100"><pre>      the_Bounds.Sphere_Radius := Sqrt (<a href="src_gl-geometry.adb.html#l83" title="defined at gl-geometry.adb:83:7">max_Distance_2</a>); </pre></li>
<li id="l101"><pre> </pre></li>
<li id="l102"><pre>      <span class="keyword">return</span> <a href="src_gl-geometry.adb.html#l82" title="defined at gl-geometry.adb:82:7">the_Bounds</a>; </pre></li>
<li id="l103"><pre>   <span class="keyword">end</span> <span class="droplink">Bounds<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:98:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l98" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l79" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l104"><pre> </pre></li>
<li id="l105"><pre>   <span class="keyword">function</span> <span class="droplink">Bounds<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:101:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l101" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Given_Vertices<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:101:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l101" title="To spec">To spec</a></li></ul></span> : <span class="droplink">GL_Vertex_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:85:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l85" title="To spec">To spec</a></li></ul></span>; <span class="droplink">Given_Indices<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:101:55" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l101" title="To spec">To spec</a></li></ul></span> : <span class="droplink">vertex_Id_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:68:11" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l68" title="To spec">To spec</a></li></ul></span>) <span class="keyword">return</span> <span class="droplink">GL.Geometry.Bounds_record<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l43" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l106"><pre> </pre></li>
<li id="l107"><pre>      <span class="keyword">use</span> <a href="src_gl-geometry.adb.html#l20" title="defined at gl-geometry.adb:20:12">GL_Double_EF</a>; </pre></li>
<li id="l108"><pre>      the_Bounds      : <span class="droplink">Bounds_record<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:43:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l43" title="To spec">To spec</a></li></ul></span> := <span class="droplink">null_Bounds<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:49:4" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l49" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l109"><pre>      max_Distance_2  : <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>     := 0.0;      <span class="comment">-- current maximum distance squared.</span> </pre></li>
<li id="l110"><pre> </pre></li>
<li id="l111"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l112"><pre>      <span class="keyword">for</span> Each <span class="keyword">in</span> <span class="droplink">Given_Indices<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:101:55" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l101" title="To spec">To spec</a></li></ul></span>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l113"><pre>         <span class="keyword">declare</span> </pre></li>
<li id="l114"><pre>            the_Point  : <span class="droplink">GL_Vertex<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:84:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l84" title="To spec">To spec</a></li></ul></span> <span class="keyword">renames</span> <span class="droplink">Given_Vertices<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:101:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l101" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Given_Indices<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:101:55" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l101" title="To spec">To spec</a></li></ul></span> (Each)); </pre></li>
<li id="l115"><pre>         <span class="keyword">begin</span> </pre></li>
<li id="l116"><pre>            <a href="src_gl-geometry.adb.html#l109" title="defined at gl-geometry.adb:109:7">max_Distance_2</a> := <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (the_Point (0) * the_Point (0) </pre></li>
<li id="l117"><pre>                                           + the_Point (1) * the_Point (1) </pre></li>
<li id="l118"><pre>                                           + the_Point (2) * the_Point (2), </pre></li>
<li id="l119"><pre>                                             <a href="src_gl-geometry.adb.html#l109" title="defined at gl-geometry.adb:109:7">max_Distance_2</a>); </pre></li>
<li id="l120"><pre> </pre></li>
<li id="l121"><pre>            the_Bounds.Box := (X_Extent =&gt; (Min =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Min (the_Bounds.Box.X_Extent.Min,  the_Point (0)), </pre></li>
<li id="l122"><pre>                                            Max =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (the_Bounds.Box.X_Extent.Max,  the_Point (0))), </pre></li>
<li id="l123"><pre>                               Y_Extent =&gt; (Min =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Min (the_Bounds.Box.Y_Extent.Min,  the_Point (1)), </pre></li>
<li id="l124"><pre>                                            Max =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (the_Bounds.Box.Y_Extent.Max,  the_Point (1))), </pre></li>
<li id="l125"><pre>                               Z_Extent =&gt; (Min =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Min (the_Bounds.Box.Z_Extent.Min,  the_Point (2)), </pre></li>
<li id="l126"><pre>                                            Max =&gt; <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>&apos;Max (the_Bounds.Box.Z_Extent.Max,  the_Point (2)))); </pre></li>
<li id="l127"><pre>         <span class="keyword">end</span>; </pre></li>
<li id="l128"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l129"><pre> </pre></li>
<li id="l130"><pre>      the_Bounds.Sphere_Radius := Sqrt (<a href="src_gl-geometry.adb.html#l109" title="defined at gl-geometry.adb:109:7">max_Distance_2</a>); </pre></li>
<li id="l131"><pre> </pre></li>
<li id="l132"><pre>      <span class="keyword">return</span> <a href="src_gl-geometry.adb.html#l108" title="defined at gl-geometry.adb:108:7">the_Bounds</a>; </pre></li>
<li id="l133"><pre>   <span class="keyword">end</span> <span class="droplink">Bounds<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:101:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l101" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l105" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l134"><pre> </pre></li>
<li id="l135"><pre>   <span class="keyword">function</span> <span class="droplink">Face_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Geometry_t<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:113:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l113" title="To spec">To spec</a></li></ul></span>&apos;Class) <span class="keyword">return</span> Natural <span class="keyword">is</span> </pre></li>
<li id="l136"><pre> </pre></li>
<li id="l137"><pre>      the_Count  : Natural; </pre></li>
<li id="l138"><pre> </pre></li>
<li id="l139"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l140"><pre>      <span class="keyword">case</span> <span class="droplink">primitive_Id<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:120:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l120" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l141"><pre>         <span class="keyword">when</span> POINTS =&gt; </pre></li>
<li id="l142"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>)); </pre></li>
<li id="l143"><pre> </pre></li>
<li id="l144"><pre>         <span class="keyword">when</span> LINES =&gt; </pre></li>
<li id="l145"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) / 2); </pre></li>
<li id="l146"><pre> </pre></li>
<li id="l147"><pre>         <span class="keyword">when</span> LINE_LOOP =&gt; </pre></li>
<li id="l148"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>)); </pre></li>
<li id="l149"><pre> </pre></li>
<li id="l150"><pre>         <span class="keyword">when</span> LINE_STRIP =&gt; </pre></li>
<li id="l151"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural&apos;Max (Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) - 1),  0); </pre></li>
<li id="l152"><pre> </pre></li>
<li id="l153"><pre>         <span class="keyword">when</span> TRIANGLES =&gt; </pre></li>
<li id="l154"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) / 3); </pre></li>
<li id="l155"><pre> </pre></li>
<li id="l156"><pre>         <span class="keyword">when</span> TRIANGLE_STRIP =&gt; </pre></li>
<li id="l157"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural&apos;Max (Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) - 2),  0); </pre></li>
<li id="l158"><pre> </pre></li>
<li id="l159"><pre>         <span class="keyword">when</span> TRIANGLE_FAN =&gt; </pre></li>
<li id="l160"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural&apos;Max (Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) - 2),  0); </pre></li>
<li id="l161"><pre> </pre></li>
<li id="l162"><pre>         <span class="keyword">when</span> QUADS =&gt; </pre></li>
<li id="l163"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) / 4); </pre></li>
<li id="l164"><pre> </pre></li>
<li id="l165"><pre>         <span class="keyword">when</span> QUAD_STRIP =&gt; </pre></li>
<li id="l166"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := Natural (<span class="droplink">indices_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:125:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l125" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li></ul></span>) / 2  -  1); </pre></li>
<li id="l167"><pre> </pre></li>
<li id="l168"><pre>         <span class="keyword">when</span> POLYGON =&gt; </pre></li>
<li id="l169"><pre>            <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a> := 1; </pre></li>
<li id="l170"><pre>      <span class="keyword">end</span> <span class="keyword">case</span>; </pre></li>
<li id="l171"><pre> </pre></li>
<li id="l172"><pre>      <span class="keyword">return</span> <a href="src_gl-geometry.adb.html#l137" title="defined at gl-geometry.adb:137:7">the_Count</a>; </pre></li>
<li id="l173"><pre>   <span class="keyword">end</span> <span class="droplink">Face_Count<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:130:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l130" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l135" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l174"><pre> </pre></li>
<li id="l175"><pre>   <span class="keyword">function</span> <span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:99:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l99" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:99:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l99" title="To spec">To spec</a></li></ul></span> : <span class="droplink">GL_Vertex_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:85:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l85" title="To spec">To spec</a></li></ul></span>) <span class="keyword">return</span> String <span class="keyword">is</span> </pre></li>
<li id="l176"><pre> </pre></li>
<li id="l177"><pre>      the_Image  : Unbounded_String; </pre></li>
<li id="l178"><pre>      NL         : <span class="keyword">constant</span> String := (1 =&gt; Ada.Characters.Latin_1.LF);   <span class="comment">-- NL : New Line</span> </pre></li>
<li id="l179"><pre> </pre></li>
<li id="l180"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l181"><pre>      Append (<a href="src_gl-geometry.adb.html#l177" title="defined at gl-geometry.adb:177:7">the_Image</a>, <span class="string">&quot; (&quot;</span> &amp; <a href="src_gl-geometry.adb.html#l178" title="defined at gl-geometry.adb:178:7">NL</a>); </pre></li>
<li id="l182"><pre>      <span class="keyword">for</span> Each <span class="keyword">in</span> <span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:99:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l99" title="To spec">To spec</a></li></ul></span>&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l183"><pre>         Append (<a href="src_gl-geometry.adb.html#l177" title="defined at gl-geometry.adb:177:7">the_Image</a>, <span class="string">&quot; &quot;</span> &amp; <span class="droplink">vertex_Id<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:65:11" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l65" title="To spec">To spec</a></li></ul></span>&apos;<span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l76" title="To body">To body</a></li></ul></span> (Each) &amp; <span class="string">&quot; =&gt; &quot;</span> &amp; <span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:92:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l92" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l76" title="To body">To body</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:99:21" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l99" title="To spec">To spec</a></li></ul></span> (Each)) &amp; <a href="src_gl-geometry.adb.html#l178" title="defined at gl-geometry.adb:178:7">NL</a>); </pre></li>
<li id="l184"><pre>      <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l185"><pre>      Append (<a href="src_gl-geometry.adb.html#l177" title="defined at gl-geometry.adb:177:7">the_Image</a>, <span class="string">&quot;)&quot;</span> &amp; <a href="src_gl-geometry.adb.html#l178" title="defined at gl-geometry.adb:178:7">NL</a>); </pre></li>
<li id="l186"><pre> </pre></li>
<li id="l187"><pre>      <span class="keyword">return</span> To_String (<a href="src_gl-geometry.adb.html#l177" title="defined at gl-geometry.adb:177:7">the_Image</a>); </pre></li>
<li id="l188"><pre>   <span class="keyword">end</span> <span class="droplink">Image<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:99:13" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l99" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l175" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l189"><pre> </pre></li>
<li id="l190"><pre>   <span class="comment">-- abstract base geometry class</span> </pre></li>
<li id="l191"><pre>   <span class="comment">--</span> </pre></li>
<li id="l192"><pre> </pre></li>
<li id="l193"><pre>   <span class="keyword">procedure</span> <span class="droplink">Free<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:140:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l140" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:140:23" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l140" title="To spec">To spec</a></li></ul></span>  : <span class="keyword">in</span> <span class="keyword">out</span> <span class="droplink">p_Geometry<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:118:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l118" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l194"><pre> </pre></li>
<li id="l195"><pre>      <span class="keyword">procedure</span> deallocate <span class="keyword">is</span> <span class="keyword">new</span> Ada.Unchecked_Deallocation (<span class="droplink">Geometry_t<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:113:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l113" title="To spec">To spec</a></li></ul></span>&apos;Class, <span class="droplink">p_Geometry<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:118:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l118" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l196"><pre> </pre></li>
<li id="l197"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l198"><pre>      <span class="droplink">destroy<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:139:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l139" title="To spec">To spec</a></li></ul></span>    (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:140:23" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l140" title="To spec">To spec</a></li></ul></span>.<span class="keyword">all</span>); </pre></li>
<li id="l199"><pre>      <a href="src_gl-geometry.adb.html#l195" title="defined at gl-geometry.adb:195:17">deallocate</a> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:140:23" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l140" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l200"><pre>   <span class="keyword">end</span> <span class="droplink">Free<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:140:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l140" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l193" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l201"><pre> </pre></li>
<li id="l202"><pre>   <span class="keyword">function</span> <span class="droplink">Vertex_Normals<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:137:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l137" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:137:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l137" title="To spec">To spec</a></li></ul></span> : <span class="droplink">Geometry_t<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:113:9" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l113" title="To spec">To spec</a></li></ul></span>&apos;Class) <span class="keyword">return</span> <span class="droplink">GL_Normals_Vertex_Id<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:108:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l108" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l203"><pre> </pre></li>
<li id="l204"><pre>   <span class="keyword">begin</span> </pre></li>
<li id="l205"><pre>      <span class="keyword">case</span> <span class="droplink">primitive_Id<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:120:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l120" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:137:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l137" title="To spec">To spec</a></li></ul></span>) <span class="keyword">is</span> </pre></li>
<li id="l206"><pre>         <span class="keyword">when</span> TRIANGLES =&gt; </pre></li>
<li id="l207"><pre>            <span class="keyword">declare</span> </pre></li>
<li id="l208"><pre>               the_Vertices        :          <span class="droplink">GL_Vertex_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:85:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l85" title="To spec">To spec</a></li></ul></span>    <span class="keyword">renames</span> <span class="droplink">Vertices<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:123:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l123" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:137:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l137" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l209"><pre>               the_Indices         :          <span class="droplink">vertex_Id_array<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:68:11" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l68" title="To spec">To spec</a></li></ul></span> <span class="keyword">renames</span> <span class="droplink">Indices<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:126:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l126" title="To spec">To spec</a></li></ul></span> (<span class="droplink">Self<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:137:30" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l137" title="To spec">To spec</a></li></ul></span>); </pre></li>
<li id="l210"><pre>               the_Normals         :          <span class="droplink">GL_Normals_Vertex_Id<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:108:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l108" title="To spec">To spec</a></li></ul></span> (the_Vertices&apos;Range); </pre></li>
<li id="l211"><pre> </pre></li>
<li id="l212"><pre>               Triangle_Face_Count : <span class="keyword">constant</span> Positive := the_Indices&apos;Length / 3; </pre></li>
<li id="l213"><pre>               face_Normals        :          <span class="droplink">GL_Normals<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:107:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l107" title="To spec">To spec</a></li></ul></span>  (1 .. Triangle_Face_Count); </pre></li>
<li id="l214"><pre> </pre></li>
<li id="l215"><pre>               N                   :          <span class="droplink">GL.Double_Vector_3D<ul><li><a href="gl.ads.html#gl.ads:155:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l155" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l216"><pre>               length_N            :          <span class="droplink">GL.Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l217"><pre> </pre></li>
<li id="l218"><pre>               <span class="keyword">function</span> vertex_Id_for (Face : Positive; point_Id : Positive) <span class="keyword">return</span> <span class="droplink">vertex_Id<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:65:11" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l65" title="To spec">To spec</a></li></ul></span> <span class="keyword">is</span> </pre></li>
<li id="l219"><pre>                 (the_Indices (<span class="droplink">positive_uInt<ul><li><a href="gl.ads.html#gl.ads:131:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l131" title="To spec">To spec</a></li></ul></span> (3 * (Face - 1) + point_Id))); </pre></li>
<li id="l220"><pre> </pre></li>
<li id="l221"><pre>            <span class="keyword">begin</span> </pre></li>
<li id="l222"><pre>               <span class="comment">-- Geometry (Normal of unrotated face)</span> </pre></li>
<li id="l223"><pre>               <span class="comment">--</span> </pre></li>
<li id="l224"><pre>               <span class="keyword">for</span> each_Face <span class="keyword">in</span> 1 .. Triangle_Face_Count <span class="keyword">loop</span> </pre></li>
<li id="l225"><pre>                  N := (the_Vertices (vertex_Id_for (each_Face, 2)) - the_Vertices (vertex_Id_for (each_Face, 1))) </pre></li>
<li id="l226"><pre>                     * (the_Vertices (vertex_Id_for (each_Face, 3)) - the_Vertices (vertex_Id_for (each_Face, 1))); </pre></li>
<li id="l227"><pre>                  length_N := <span class="droplink">Norm<ul><li><a href="gl-math.ads.html#gl-math.ads:35:12" title="To API doc">To API doc</a></li><li><a href="src_gl-math.ads.html#l35" title="To spec">To spec</a></li><li><a href="src_gl-math.adb.html#l26" title="To body">To body</a></li></ul></span> (N); </pre></li>
<li id="l228"><pre> </pre></li>
<li id="l229"><pre>                  <span class="keyword">case</span> <span class="droplink">Almost_zero<ul><li><a href="gl-math.ads.html#gl-math.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_gl-math.ads.html#l102" title="To spec">To spec</a></li><li><a href="src_gl-math.adb.html#l307" title="To body">To body</a></li></ul></span> (length_N) <span class="keyword">is</span> </pre></li>
<li id="l230"><pre>                     <span class="keyword">when</span> True  =&gt; face_Normals (each_Face) := N; <span class="comment">-- 0 vector !</span> </pre></li>
<li id="l231"><pre>                     <span class="keyword">when</span> False =&gt; face_Normals (each_Face) := (1.0 / length_N) * N; </pre></li>
<li id="l232"><pre>                  <span class="keyword">end</span> <span class="keyword">case</span>; </pre></li>
<li id="l233"><pre>               <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l234"><pre> </pre></li>
<li id="l235"><pre>               <span class="comment">-- Calculate normal at each vertex.</span> </pre></li>
<li id="l236"><pre>               <span class="comment">--</span> </pre></li>
<li id="l237"><pre>               <span class="keyword">declare</span> </pre></li>
<li id="l238"><pre>                  vertex_adjacent_faces_Count  : <span class="keyword">array</span> (the_Vertices&apos;Range) <span class="keyword">of</span> Natural := (<span class="keyword">others</span> =&gt; 0); </pre></li>
<li id="l239"><pre>                  the_Vertex                   : <span class="droplink">vertex_Id<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:65:11" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l65" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l240"><pre>                  Vertex_Length                : <span class="droplink">Double<ul><li><a href="gl.ads.html#gl.ads:128:9" title="To API doc">To API doc</a></li><li><a href="src_gl.ads.html#l128" title="To spec">To spec</a></li></ul></span>; </pre></li>
<li id="l241"><pre>               <span class="keyword">begin</span> </pre></li>
<li id="l242"><pre> </pre></li>
<li id="l243"><pre>                  <span class="keyword">for</span> p <span class="keyword">in</span> the_Vertices&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l244"><pre>                     the_Normals (p) := (0.0, 0.0, 0.0); </pre></li>
<li id="l245"><pre>                  <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l246"><pre> </pre></li>
<li id="l247"><pre>                  <span class="keyword">for</span> f <span class="keyword">in</span> 1 .. Triangle_Face_Count <span class="keyword">loop</span> </pre></li>
<li id="l248"><pre>                     <span class="keyword">for</span> p <span class="keyword">in</span> 1 .. 3 <span class="keyword">loop</span> </pre></li>
<li id="l249"><pre>                        the_Vertex := vertex_Id_for (f, p); </pre></li>
<li id="l250"><pre> </pre></li>
<li id="l251"><pre>                        vertex_adjacent_faces_Count (the_Vertex) := vertex_adjacent_faces_Count (the_Vertex) + 1; </pre></li>
<li id="l252"><pre>                        the_Normals (the_Vertex)                 := the_Normals (the_Vertex) + face_Normals (f); </pre></li>
<li id="l253"><pre>                     <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l254"><pre>                  <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l255"><pre> </pre></li>
<li id="l256"><pre>                  <span class="keyword">for</span> p <span class="keyword">in</span> the_Vertices&apos;Range <span class="keyword">loop</span> </pre></li>
<li id="l257"><pre> </pre></li>
<li id="l258"><pre>                     Vertex_Length := <span class="droplink">Norm<ul><li><a href="gl-math.ads.html#gl-math.ads:35:12" title="To API doc">To API doc</a></li><li><a href="src_gl-math.ads.html#l35" title="To spec">To spec</a></li><li><a href="src_gl-math.adb.html#l26" title="To body">To body</a></li></ul></span> (the_Normals (p)); </pre></li>
<li id="l259"><pre> </pre></li>
<li id="l260"><pre>                     <span class="keyword">if</span> <span class="keyword">not</span> <span class="droplink">Almost_zero<ul><li><a href="gl-math.ads.html#gl-math.ads:102:12" title="To API doc">To API doc</a></li><li><a href="src_gl-math.ads.html#l102" title="To spec">To spec</a></li><li><a href="src_gl-math.adb.html#l307" title="To body">To body</a></li></ul></span> (Vertex_Length) <span class="keyword">then</span> </pre></li>
<li id="l261"><pre>                        the_Normals (p) := (1.0 / Vertex_Length) * the_Normals (p); </pre></li>
<li id="l262"><pre>                     <span class="keyword">else</span> </pre></li>
<li id="l263"><pre>                        <span class="keyword">null</span>; <span class="comment">-- raise Constraint_Error;  -- tbd : proper exception as usual.</span> </pre></li>
<li id="l264"><pre>                     <span class="keyword">end</span> <span class="keyword">if</span>; </pre></li>
<li id="l265"><pre>                  <span class="keyword">end</span> <span class="keyword">loop</span>; </pre></li>
<li id="l266"><pre> </pre></li>
<li id="l267"><pre>               <span class="keyword">end</span>; </pre></li>
<li id="l268"><pre> </pre></li>
<li id="l269"><pre>               <span class="keyword">return</span> the_Normals; </pre></li>
<li id="l270"><pre>            <span class="keyword">end</span>; </pre></li>
<li id="l271"><pre> </pre></li>
<li id="l272"><pre>         <span class="keyword">when</span> <span class="keyword">others</span> =&gt; </pre></li>
<li id="l273"><pre>            <span class="keyword">raise</span> Constraint_Error; <span class="comment">-- tbd : finish these</span> </pre></li>
<li id="l274"><pre>      <span class="keyword">end</span> <span class="keyword">case</span>; </pre></li>
<li id="l275"><pre> </pre></li>
<li id="l276"><pre><span class="comment">--        return Normal_array&apos; (1 .. 0 =&gt; (others =&gt; 0.0));</span> </pre></li>
<li id="l277"><pre>   <span class="keyword">end</span> <span class="droplink">Vertex_Normals<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:137:14" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l137" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l202" title="To body">To body</a></li></ul></span>; </pre></li>
<li id="l278"><pre> </pre></li>
<li id="l279"><pre><span class="keyword">end</span> <span class="droplink">GL.Geometry<ul><li><a href="gl-geometry.ads.html#gl-geometry.ads:15:12" title="To API doc">To API doc</a></li><li><a href="src_gl-geometry.ads.html#l15" title="To spec">To spec</a></li><li><a href="src_gl-geometry.adb.html#l18" title="To body">To body</a></li></ul></span>; </pre></li>
</ol></div>
</div>

</body>
</html>